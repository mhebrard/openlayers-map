parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"JiFC":[function(require,module,exports) {

},{}],"KniQ":[function(require,module,exports) {
"use strict";function t(){return function(){throw new Error("Unimplemented abstract method.")}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.abstract=t,exports.getUid=r,exports.VERSION=void 0;var e=0;function r(t){return t.ol_uid||(t.ol_uid=String(++e))}var o="6.1.1";exports.VERSION=o;
},{}],"ygGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),r=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),e=function(e){function o(r){var o=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===t.VERSION?t.VERSION:"v"+t.VERSION.split("-")[0])+"/doc/errors/#"+r+" for details.";return(o=e.call(this,n)||this).code=r,o.name="AssertionError",o.message=n,o}return r(o,e),o}(Error),o=e;exports.default=o;
},{"./util.js":"KniQ"}],"BTrx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADD:"add",REMOVE:"remove"};exports.default=e;
},{}],"zehl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PROPERTYCHANGE:"propertychange"};exports.default=e;
},{}],"mH6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=r,exports.isEmpty=n,exports.getValues=exports.assign=void 0;var e="function"==typeof Object.assign?Object.assign:function(e,r){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,o=arguments.length;n<o;++n){var s=arguments[n];if(null!=s)for(var u in s)s.hasOwnProperty(u)&&(t[u]=s[u])}return t};function r(e){for(var r in e)delete e[r]}exports.assign=e;var t="function"==typeof Object.values?Object.values:function(e){var r=[];for(var t in e)r.push(e[t]);return r};function n(e){var r;for(r in e)return!1;return!r}exports.getValues=t;
},{}],"UqnM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listen=t,exports.listenOnce=r,exports.unlistenByKey=n;var e=require("./obj.js");function t(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var s=r;r=function(){e.removeEventListener(t,r),s.apply(this,arguments)}}var o={target:e,type:t,listener:r};return e.addEventListener(t,r),o}function r(e,r,n,i){return t(e,r,n,i,!0)}function n(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,e.clear)(t))}
},{"./obj.js":"mH6q"}],"DDda":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){function e(){this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}(),t=e;exports.default=t;
},{}],"luEr":[function(require,module,exports) {
"use strict";function r(r,n,t){for(var u,o,i=t||e,f=0,a=r.length,s=!1;f<a;)(o=+i(r[u=f+(a-f>>1)],n))<0?f=u+1:(a=u,s=!o);return s?f:~f}function e(r,e){return r>e?1:r<e?-1:0}function n(r,e){return r.indexOf(e)>=0}function t(r,e,n){var t=r.length;if(r[0]<=e)return 0;if(e<=r[t-1])return t-1;var u=void 0;if(n>0){for(u=1;u<t;++u)if(r[u]<e)return u-1}else if(n<0){for(u=1;u<t;++u)if(r[u]<=e)return u}else for(u=1;u<t;++u){if(r[u]==e)return u;if(r[u]<e)return r[u-1]-e<e-r[u]?u-1:u}return t-1}function u(r,e,n){for(;e<n;){var t=r[e];r[e]=r[n],r[n]=t,++e,--n}}function o(r,e){for(var n=Array.isArray(e)?e:[e],t=n.length,u=0;u<t;u++)r[r.length]=n[u]}function i(r,e){var n=r.indexOf(e),t=n>-1;return t&&r.splice(n,1),t}function f(r,e){for(var n,t=r.length>>>0,u=0;u<t;u++)if(e(n=r[u],u,r))return n;return null}function a(r,e){var n=r.length;if(n!==e.length)return!1;for(var t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0}function s(r,e){var n,t=r.length,u=Array(r.length);for(n=0;n<t;n++)u[n]={index:n,value:r[n]};for(u.sort(function(r,n){return e(r.value,n.value)||r.index-n.index}),n=0;n<r.length;n++)r[n]=u[n].value}function l(r,e){var n;return!r.every(function(t,u){return n=u,!e(t,u,r)})?n:-1}function v(r,n,t){var u=n||e;return r.every(function(e,n){if(0===n)return!0;var o=u(r[n-1],e);return!(o>0||t&&0===o)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=r,exports.numberSafeCompareFunction=e,exports.includes=n,exports.linearFindNearest=t,exports.reverseSubArray=u,exports.extend=o,exports.remove=i,exports.find=f,exports.equals=a,exports.stableSort=s,exports.findIndex=l,exports.isSorted=v;
},{}],"RgA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRUE=e,exports.FALSE=t,exports.VOID=n,exports.memoizeOne=o;var r=require("./array.js");function e(){return!0}function t(){return!1}function n(){}function o(e){var t,n,o,s=!1;return function(){var u=Array.prototype.slice.call(arguments);return s&&this===o&&(0,r.equals)(u,n)||(s=!0,o=this,n=u,t=e.apply(this,arguments)),t}}
},{"./array.js":"luEr"}],"fKNg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stopPropagation=o,exports.preventDefault=e,exports.default=void 0;var t=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();function o(t){t.stopPropagation()}function e(t){t.preventDefault()}var p=t;exports.default=p;
},{}],"CR4Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../Disposable.js")),e=require("../functions.js"),i=s(require("./Event.js")),n=require("../obj.js");function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function s(e){var i=t.call(this)||this;return i.eventTarget_=e,i.pendingRemovals_={},i.dispatching_={},i.listeners_={},i}return r(s,t),s.prototype.addEventListener=function(t,e){if(t&&e){var i=this.listeners_[t];i||(i=[],this.listeners_[t]=i),-1===i.indexOf(e)&&i.push(e)}},s.prototype.dispatchEvent=function(t){var n="string"==typeof t?new i.default(t):t,s=n.type;n.target||(n.target=this.eventTarget_||this);var r,o=this.listeners_[s];if(o){s in this.dispatching_||(this.dispatching_[s]=0,this.pendingRemovals_[s]=0),++this.dispatching_[s];for(var a=0,p=o.length;a<p;++a)if(!1===o[a].call(this,n)||n.propagationStopped){r=!1;break}if(--this.dispatching_[s],0===this.dispatching_[s]){var h=this.pendingRemovals_[s];for(delete this.pendingRemovals_[s];h--;)this.removeEventListener(s,e.VOID);delete this.dispatching_[s]}return r}},s.prototype.disposeInternal=function(){(0,n.clear)(this.listeners_)},s.prototype.getListeners=function(t){return this.listeners_[t]},s.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},s.prototype.removeEventListener=function(t,i){var n=this.listeners_[t];if(n){var s=n.indexOf(i);-1!==s&&(t in this.pendingRemovals_?(n[s]=e.VOID,++this.pendingRemovals_[t]):(n.splice(s,1),0===n.length&&delete this.listeners_[t]))}},s}(t.default),a=o;exports.default=a;
},{"../Disposable.js":"DDda","../functions.js":"RgA2","./Event.js":"fKNg","../obj.js":"mH6q"}],"C8cu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"};exports.default=e;
},{}],"IdSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unByKey=s,exports.default=void 0;var e=require("./events.js"),t=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(t){function n(){var e=t.call(this)||this;return e.revision_=0,e}return o(n,t),n.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.default.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.on=function(t,r){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),i=0;i<n;++i)o[i]=(0,e.listen)(this,t[i],r);return o}return(0,e.listen)(this,t,r)},n.prototype.once=function(t,r){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),i=0;i<n;++i)o[i]=(0,e.listenOnce)(this,t[i],r);return o}return(0,e.listenOnce)(this,t,r)},n.prototype.un=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)},n}(t.default);function s(t){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)(0,e.unlistenByKey)(t[r]);else(0,e.unlistenByKey)(t)}var u=i;exports.default=u;
},{"./events.js":"UqnM","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu"}],"PhPh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChangeEventType=c,exports.default=exports.ObjectEvent=void 0;var t=require("./util.js"),e=s(require("./ObjectEventType.js")),r=s(require("./Observable.js")),n=s(require("./events/Event.js")),o=require("./obj.js");function s(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.key=r,o.oldValue=n,o}return i(e,t),e}(n.default);exports.ObjectEvent=u;var a=function(r){function n(e){var n=r.call(this)||this;return(0,t.getUid)(n),n.values_={},void 0!==e&&n.setProperties(e),n}return i(n,r),n.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},n.prototype.getKeys=function(){return Object.keys(this.values_)},n.prototype.getProperties=function(){return(0,o.assign)({},this.values_)},n.prototype.notify=function(t,r){var n;n=c(t),this.dispatchEvent(new u(n,t,r)),n=e.default.PROPERTYCHANGE,this.dispatchEvent(new u(n,t,r))},n.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},n.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},n.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},n}(r.default),p={};function c(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}var v=a;exports.default=v;
},{"./util.js":"KniQ","./ObjectEventType.js":"zehl","./Observable.js":"IdSm","./events/Event.js":"fKNg","./obj.js":"mH6q"}],"FnDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CollectionEvent=void 0;var t=i(require("./AssertionError.js")),e=i(require("./CollectionEventType.js")),r=i(require("./Object.js")),n=i(require("./events/Event.js"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s={LENGTH:"length"},u=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.element=r,i.index=n,i}return o(e,t),e}(n.default);exports.CollectionEvent=u;var a=function(r){function n(t,e){var n=r.call(this)||this,i=e||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var o=0,s=n.array_.length;o<s;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return o(n,r),n.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},n.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},n.prototype.forEach=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)t(e[r],r,e)},n.prototype.getArray=function(){return this.array_},n.prototype.item=function(t){return this.array_[t]},n.prototype.getLength=function(){return this.get(s.LENGTH)},n.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new u(e.default.ADD,r,t))},n.prototype.pop=function(){return this.removeAt(this.getLength()-1)},n.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},n.prototype.remove=function(t){for(var e=this.array_,r=0,n=e.length;r<n;++r)if(e[r]===t)return this.removeAt(r)},n.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(e.default.REMOVE,r,t)),r},n.prototype.setAt=function(t,r){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(r,t);var i=this.array_[t];this.array_[t]=r,this.dispatchEvent(new u(e.default.REMOVE,i,t)),this.dispatchEvent(new u(e.default.ADD,r,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,r)}},n.prototype.updateLength_=function(){this.set(s.LENGTH,this.array_.length)},n.prototype.assertUnique_=function(e,r){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==r)throw new t.default(58)},n}(r.default),h=a;exports.default=h;
},{"./AssertionError.js":"ygGQ","./CollectionEventType.js":"BTrx","./Object.js":"PhPh","./events/Event.js":"fKNg"}],"fLG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=t;var e=r(require("./AssertionError.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(!r)throw new e.default(t)}
},{"./AssertionError.js":"ygGQ"}],"mYW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStyleFunction=u,exports.default=void 0;var e=require("./asserts.js"),t=require("./events.js"),r=s(require("./events/EventType.js")),n=i(require("./Object.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}var y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function o(t){var r=e.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener((0,n.getChangeEventType)(r.geometryName_),r.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var o=t;r.setGeometry(o)}else{var i=t;r.setProperties(i)}return r}return y(o,e),o.prototype.clone=function(){var e=new o(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var r=this.getStyle();return r&&e.setStyle(r),e},o.prototype.getGeometry=function(){return this.get(this.geometryName_)},o.prototype.getId=function(){return this.id_},o.prototype.getGeometryName=function(){return this.geometryName_},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.handleGeometryChange_=function(){this.changed()},o.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,t.listen)(e,r.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},o.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},o.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?u(e):void 0,this.changed()},o.prototype.setId=function(e){this.id_=e,this.changed()},o.prototype.setGeometryName=function(e){this.removeEventListener((0,n.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener((0,n.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},o}(n.default);function u(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:((0,e.assert)("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}var h=a;exports.default=h;
},{"./asserts.js":"fLG6","./events.js":"UqnM","./events/EventType.js":"C8cu","./Object.js":"PhPh"}],"urGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"bUAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};exports.default=e;
},{}],"QDir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.boundingExtent=o,exports.buffer=a,exports.clone=i,exports.closestSquaredDistanceXY=s,exports.containsCoordinate=f,exports.containsExtent=c,exports.containsXY=p,exports.coordinateRelationship=x,exports.createEmpty=d,exports.createOrUpdate=l,exports.createOrUpdateEmpty=h,exports.createOrUpdateFromCoordinate=m,exports.createOrUpdateFromCoordinates=g,exports.createOrUpdateFromFlatCoordinates=T,exports.createOrUpdateFromRings=E,exports.equals=M,exports.extend=O,exports.extendCoordinate=v,exports.extendCoordinates=C,exports.extendFlatCoordinates=R,exports.extendRings=F,exports.extendXY=I,exports.forEachCorner=N,exports.getArea=B,exports.getBottomLeft=L,exports.getBottomRight=y,exports.getCenter=U,exports.getCorner=G,exports.getEnlargedArea=_,exports.getForViewAndSize=A,exports.getHeight=S,exports.getIntersectionArea=H,exports.getIntersection=W,exports.getMargin=q,exports.getSize=j,exports.getTopLeft=V,exports.getTopRight=b,exports.getWidth=P,exports.intersects=X,exports.isEmpty=Y,exports.returnOrUpdate=z,exports.scaleFromCenter=K,exports.intersectsSegment=w,exports.applyTransform=D;var t=require("./asserts.js"),e=n(require("./extent/Corner.js")),r=n(require("./extent/Relationship.js"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=d(),r=0,n=t.length;r<n;++r)v(e,t[r]);return e}function u(t,e,r){return l(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}function a(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function i(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function s(t,e,r){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*o}function f(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function x(t,e){var n=t[0],o=t[1],u=t[2],a=t[3],i=e[0],s=e[1],f=r.default.UNKNOWN;return i<n?f|=r.default.LEFT:i>u&&(f|=r.default.RIGHT),s<o?f|=r.default.BELOW:s>a&&(f|=r.default.ABOVE),f===r.default.UNKNOWN&&(f=r.default.INTERSECTING),f}function d(){return[1/0,1/0,-1/0,-1/0]}function l(t,e,r,n,o){return o?(o[0]=t,o[1]=e,o[2]=r,o[3]=n,o):[t,e,r,n]}function h(t){return l(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var r=t[0],n=t[1];return l(r,n,r,n,e)}function g(t,e){return C(h(e),t)}function T(t,e,r,n,o){return R(h(o),t,e,r,n)}function E(t,e){return F(h(e),t)}function M(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function v(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var r=0,n=e.length;r<n;++r)v(t,e[r]);return t}function R(t,e,r,n,o){for(;r<n;r+=o)I(t,e[r],e[r+1]);return t}function F(t,e){for(var r=0,n=e.length;r<n;++r)C(t,e[r]);return t}function I(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function N(t,e){var r;return(r=e(L(t)))?r:(r=e(y(t)))?r:(r=e(b(t)))?r:(r=e(V(t)))||!1}function B(t){var e=0;return Y(t)||(e=P(t)*S(t)),e}function L(t){return[t[0],t[1]]}function y(t){return[t[2],t[1]]}function U(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G(r,n){var o;return n===e.default.BOTTOM_LEFT?o=L(r):n===e.default.BOTTOM_RIGHT?o=y(r):n===e.default.TOP_LEFT?o=V(r):n===e.default.TOP_RIGHT?o=b(r):(0,t.assert)(!1,13),o}function _(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)}function A(t,e,r,n,o){var u=e*n[0]/2,a=e*n[1]/2,i=Math.cos(r),s=Math.sin(r),f=u*i,c=u*s,p=a*i,x=a*s,d=t[0],h=t[1],m=d-f+x,g=d-f-x,T=d+f-x,E=d+f+x,M=h-c-p,O=h-c+p,v=h+c+p,C=h+c-p;return l(Math.min(m,g,T,E),Math.min(M,O,v,C),Math.max(m,g,T,E),Math.max(M,O,v,C),o)}function S(t){return t[3]-t[1]}function H(t,e){return B(W(t,e))}function W(t,e,r){var n=r||d();return X(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):h(n),n}function q(t){return P(t)+S(t)}function j(t){return[t[2]-t[0],t[3]-t[1]]}function V(t){return[t[0],t[3]]}function b(t){return[t[2],t[3]]}function P(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Y(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function w(t,e,n){var o=!1,u=x(t,e),a=x(t,n);if(u===r.default.INTERSECTING||a===r.default.INTERSECTING)o=!0;else{var i=t[0],s=t[1],f=t[2],c=t[3],p=e[0],d=e[1],l=n[0],h=n[1],m=(h-d)/(l-p),g=void 0,T=void 0;a&r.default.ABOVE&&!(u&r.default.ABOVE)&&(o=(g=l-(h-c)/m)>=i&&g<=f),o||!(a&r.default.RIGHT)||u&r.default.RIGHT||(o=(T=h-(l-f)*m)>=s&&T<=c),o||!(a&r.default.BELOW)||u&r.default.BELOW||(o=(g=l-(h-s)/m)>=i&&g<=f),o||!(a&r.default.LEFT)||u&r.default.LEFT||(o=(T=h-(l-i)*m)>=s&&T<=c)}return o}function D(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),u([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}
},{"./asserts.js":"fLG6","./extent/Corner.js":"urGY","./extent/Relationship.js":"bUAS"}],"Utvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};exports.default=e;
},{}],"lmV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};exports.default=e;
},{}],"LGwr":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a){for(var f=a||[],s=0,l=t;l<e;l+=n){var u=r[l],v=r[l+1];f[s++]=o[0]*u+o[2]*v+o[4],f[s++]=o[1]*u+o[3]*v+o[5]}return a&&f.length!=s&&(f.length=s),f}function t(r,t,e,n,o,a,f){for(var s=f||[],l=Math.cos(o),u=Math.sin(o),v=a[0],h=a[1],c=0,g=t;g<e;g+=n){var i=r[g]-v,p=r[g+1]-h;s[c++]=v+i*l-p*u,s[c++]=h+i*u+p*l;for(var x=g+2;x<g+n;++x)s[c++]=r[x]}return f&&s.length!=c&&(s.length=c),s}function e(r,t,e,n,o,a,f,s){for(var l=s||[],u=f[0],v=f[1],h=0,c=t;c<e;c+=n){var g=r[c]-u,i=r[c+1]-v;l[h++]=u+o*g,l[h++]=v+a*i;for(var p=c+2;p<c+n;++p)l[h++]=r[p]}return s&&l.length!=h&&(l.length=h),l}function n(r,t,e,n,o,a,f){for(var s=f||[],l=0,u=t;u<e;u+=n){s[l++]=r[u]+o,s[l++]=r[u+1]+a;for(var v=u+2;v<u+n;++v)s[l++]=r[v]}return f&&s.length!=l&&(s.length=l),s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform2D=r,exports.rotate=t,exports.scale=e,exports.translate=n;
},{}],"B96G":[function(require,module,exports) {
"use strict";function r(r,t,e){return Math.min(Math.max(r,t),e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=r,exports.squaredSegmentDistance=e,exports.squaredDistance=n,exports.solveLinearSystem=o,exports.toDegrees=a,exports.toRadians=s,exports.modulo=u,exports.lerp=i,exports.cosh=void 0;var t="cosh"in Math?Math.cosh:function(r){var t=Math.exp(r);return(t+1/t)/2};function e(r,t,e,o,a,s){var u=a-e,i=s-o;if(0!==u||0!==i){var c=((r-e)*u+(t-o)*i)/(u*u+i*i);c>1?(e=a,o=s):c>0&&(e+=u*c,o+=i*c)}return n(r,t,e,o)}function n(r,t,e,n){var o=e-r,a=n-t;return o*o+a*a}function o(r){for(var t=r.length,e=0;e<t;e++){for(var n=e,o=Math.abs(r[e][e]),a=e+1;a<t;a++){var s=Math.abs(r[a][e]);s>o&&(o=s,n=a)}if(0===o)return null;var u=r[n];r[n]=r[e],r[e]=u;for(var i=e+1;i<t;i++)for(var c=-r[i][e]/r[e][e],f=e;f<t+1;f++)e==f?r[i][f]=0:r[i][f]+=c*r[e][f]}for(var v=new Array(t),p=t-1;p>=0;p--){v[p]=r[p][t]/r[p][p];for(var h=p-1;h>=0;h--)r[h][t]-=r[h][p]*v[p]}return v}function a(r){return 180*r/Math.PI}function s(r){return r*Math.PI/180}function u(r,t){var e=r%t;return e*t<0?e+t:e}function i(r,t,e){return r+e*(t-r)}exports.cosh=t;
},{}],"q4ER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDistance=s,exports.getLength=n,exports.getArea=u,exports.offset=h,exports.DEFAULT_RADIUS=void 0;var e=require("./math.js"),t=a(require("./geom/GeometryType.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=6371008.8;function s(t,a,s){var o=s||r,n=(0,e.toRadians)(t[1]),i=(0,e.toRadians)(a[1]),u=(i-n)/2,h=(0,e.toRadians)(a[0]-t[0])/2,f=Math.sin(u)*Math.sin(u)+Math.sin(h)*Math.sin(h)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function o(e,t){for(var a=0,r=0,o=e.length;r<o-1;++r)a+=s(e[r],e[r+1],t);return a}function n(e,a){var s=a||{},i=s.radius||r,u=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:break;case t.default.LINE_STRING:case t.default.LINEAR_RING:I=o(f=e.getCoordinates(),i);break;case t.default.MULTI_LINE_STRING:case t.default.POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)I+=o(f[M],i);break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(l=0,g=(d=f[M]).length;l<g;++l)I+=o(d[l],i);break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=n(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function i(t,a){for(var r=0,s=t.length,o=t[s-1][0],n=t[s-1][1],i=0;i<s;i++){var u=t[i][0],h=t[i][1];r+=(0,e.toRadians)(u-o)*(2+Math.sin((0,e.toRadians)(n))+Math.sin((0,e.toRadians)(h))),o=u,n=h}return r*a*a/2}function u(e,a){var s=a||{},o=s.radius||r,n=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(n,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:case t.default.LINE_STRING:case t.default.MULTI_LINE_STRING:case t.default.LINEAR_RING:break;case t.default.POLYGON:for(f=e.getCoordinates(),I=Math.abs(i(f[0],o)),M=1,c=f.length;M<c;++M)I-=Math.abs(i(f[M],o));break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(d=f[M],I+=Math.abs(i(d[0],o)),l=1,g=d.length;l<g;++l)I-=Math.abs(i(d[l],o));break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=u(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function h(t,a,s,o){var n=o||r,i=(0,e.toRadians)(t[1]),u=(0,e.toRadians)(t[0]),h=a/n,f=Math.asin(Math.sin(i)*Math.cos(h)+Math.cos(i)*Math.sin(h)*Math.cos(s)),d=u+Math.atan2(Math.sin(s)*Math.sin(h)*Math.cos(i),Math.cos(h)-Math.sin(i)*Math.sin(f));return[(0,e.toDegrees)(d),(0,e.toDegrees)(f)]}exports.DEFAULT_RADIUS=r;
},{"./math.js":"B96G","./geom/GeometryType.js":"lmV0"}],"yZx6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.METERS_PER_UNIT=void 0;var E={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},e={};exports.METERS_PER_UNIT=e,e[E.DEGREES]=2*Math.PI*6370997/360,e[E.FEET]=.3048,e[E.METERS]=1,e[E.USFEET]=1200/3937;var t=E;exports.default=t;
},{}],"WUar":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Units.js"),n=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||e.METERS_PER_UNIT[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),i=n;exports.default=i;
},{"./Units.js":"yZx6"}],"lohs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEPSG4326=f,exports.toEPSG4326=E,exports.PROJECTIONS=exports.WORLD_EXTENT=exports.EXTENT=exports.HALF_SIZE=exports.RADIUS=void 0;var t=require("../math.js"),r=o(require("./Projection.js")),e=o(require("./Units.js"));function o(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),s=6378137;exports.RADIUS=s;var a=Math.PI*s;exports.HALF_SIZE=a;var u=[-a,-a,a,a];exports.EXTENT=u;var i=[-180,-85,180,85];exports.WORLD_EXTENT=i;var c=function(r){function o(o){return r.call(this,{code:o,units:e.default.METERS,extent:u,global:!0,worldExtent:i,getPointResolution:function(r,e){return r/(0,t.cosh)(e[1]/s)}})||this}return n(o,r),o}(r.default),p=[new c("EPSG:3857"),new c("EPSG:102100"),new c("EPSG:102113"),new c("EPSG:900913"),new c("urn:ogc:def:crs:EPSG:6.18:3:3857"),new c("urn:ogc:def:crs:EPSG::3857"),new c("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(t,r,e){var o=t.length,n=e>1?e:2,u=r;void 0===u&&(u=n>2?t.slice():new Array(o));for(var i=a,c=0;c<o;c+=n){u[c]=i*t[c]/180;var p=s*Math.log(Math.tan(Math.PI*(+t[c+1]+90)/360));p>i?p=i:p<-i&&(p=-i),u[c+1]=p}return u}function E(t,r,e){var o=t.length,n=e>1?e:2,u=r;void 0===u&&(u=n>2?t.slice():new Array(o));for(var i=0;i<o;i+=n)u[i]=180*t[i]/a,u[i+1]=360*Math.atan(Math.exp(t[i+1]/s))/Math.PI-90;return u}exports.PROJECTIONS=p;
},{"../math.js":"B96G","./Projection.js":"WUar","./Units.js":"yZx6"}],"ZniN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PROJECTIONS=exports.METERS_PER_UNIT=exports.EXTENT=exports.RADIUS=void 0;var e=r(require("./Projection.js")),t=r(require("./Units.js"));function r(e){return e&&e.__esModule?e:{default:e}}var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=6378137;exports.RADIUS=o;var u=[-180,-90,180,90];exports.EXTENT=u;var s=Math.PI*o/180;exports.METERS_PER_UNIT=s;var c=function(e){function r(r,n){return e.call(this,{code:r,units:t.default.DEGREES,extent:u,axisOrientation:n,global:!0,metersPerUnit:s,worldExtent:u})||this}return n(r,e),r}(e.default),i=[new c("CRS:84"),new c("EPSG:4326","neu"),new c("urn:ogc:def:crs:EPSG::4326","neu"),new c("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new c("urn:ogc:def:crs:OGC:1.3:CRS84"),new c("urn:ogc:def:crs:OGC:2:84"),new c("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new c("urn:x-ogc:def:crs:EPSG:4326","neu")];exports.PROJECTIONS=i;
},{"./Projection.js":"WUar","./Units.js":"yZx6"}],"uhlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=r,exports.add=o,exports.remove=n,exports.get=i;var e=require("../obj.js"),t={};function r(){t={}}function o(e,r,o){var n=e.getCode(),i=r.getCode();n in t||(t[n]={}),t[n][i]=o}function n(r,o){var n=r.getCode(),i=o.getCode(),d=t[n][i];return delete t[n][i],(0,e.isEmpty)(t[n])&&delete t[n],d}function i(e,r){var o;return e in t&&r in t[e]&&(o=t[e][r]),o}
},{"../obj.js":"mH6q"}],"tlE8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=t,exports.get=r,exports.add=n;var e={};function t(){e={}}function r(t){return e[t]||null}function n(t,r){e[t]=r}
},{}],"Diht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneTransform=d,exports.identityTransform=l,exports.addProjection=E,exports.addProjections=P,exports.get=j,exports.getPointResolution=g,exports.addEquivalentProjections=x,exports.addEquivalentTransforms=v,exports.clearAllProjections=m,exports.createProjection=T,exports.createTransformFromCoordinateTransform=O,exports.addCoordinateTransforms=S,exports.fromLonLat=U,exports.toLonLat=y,exports.equivalent=R,exports.getTransformFromProjections=h,exports.getTransform=C,exports.transform=_,exports.transformExtent=q,exports.transformWithProjections=b,exports.setUserProjection=M,exports.clearUserProjection=I,exports.getUserProjection=N,exports.useGeographic=D,exports.toUserCoordinate=w,exports.fromUserCoordinate=J,exports.toUserExtent=L,exports.fromUserExtent=F,exports.addCommon=W,Object.defineProperty(exports,"Projection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"METERS_PER_UNIT",{enumerable:!0,get:function(){return u.METERS_PER_UNIT}});var e=require("./sphere.js"),r=require("./extent.js"),t=require("./math.js"),n=require("./proj/epsg3857.js"),o=require("./proj/epsg4326.js"),i=p(require("./proj/Projection.js")),u=a(require("./proj/Units.js")),s=require("./proj/transforms.js"),f=require("./proj/projections.js");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}function p(e){return e&&e.__esModule?e:{default:e}}function d(e,r,t){var n;if(void 0!==r){for(var o=0,i=e.length;o<i;++o)r[o]=e[o];n=r}else n=e.slice();return n}function l(e,r,t){if(void 0!==r&&e!==r){for(var n=0,o=e.length;n<o;++n)r[n]=e[n];e=r}return e}function E(e){(0,f.add)(e.getCode(),e),(0,s.add)(e,e,d)}function P(e){e.forEach(E)}function j(e){return"string"==typeof e?(0,f.get)(e):e||null}function g(r,t,n,o){var i,s=(r=j(r)).getPointResolutionFunc();if(s)i=s(t,n),o&&o!==r.getUnits()&&(f=r.getMetersPerUnit())&&(i=i*f/u.METERS_PER_UNIT[o]);else if(r.getUnits()==u.default.DEGREES&&!o||o==u.default.DEGREES)i=t;else{var f,c=h(r,j("EPSG:4326")),a=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];a=c(a,a,2),i=((0,e.getDistance)(a.slice(0,2),a.slice(2,4))+(0,e.getDistance)(a.slice(4,6),a.slice(6,8)))/2,void 0!==(f=o?u.METERS_PER_UNIT[o]:r.getMetersPerUnit())&&(i/=f)}return i}function x(e){P(e),e.forEach(function(r){e.forEach(function(e){r!==e&&(0,s.add)(r,e,d)})})}function v(e,r,t,n){e.forEach(function(e){r.forEach(function(r){(0,s.add)(e,r,t),(0,s.add)(r,e,n)})})}function m(){(0,f.clear)(),(0,s.clear)()}function T(e,r){return e?"string"==typeof e?j(e):e:j(r)}function O(e){return function(r,t,n){for(var o=r.length,i=void 0!==n?n:2,u=void 0!==t?t:new Array(o),s=0;s<o;s+=i){var f=e([r[s],r[s+1]]);u[s]=f[0],u[s+1]=f[1];for(var c=i-1;c>=2;--c)u[s+c]=r[s+c]}return u}}function S(e,r,t,n){var o=j(e),i=j(r);(0,s.add)(o,i,O(t)),(0,s.add)(i,o,O(n))}function U(e,r){return _(e,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function y(e,r){var n=_(e,void 0!==r?r:"EPSG:3857","EPSG:4326"),o=n[0];return(o<-180||o>180)&&(n[0]=(0,t.modulo)(o+180,360)-180),n}function R(e,r){if(e===r)return!0;var t=e.getUnits()===r.getUnits();return e.getCode()===r.getCode()?t:h(e,r)===d&&t}function h(e,r){var t=e.getCode(),n=r.getCode(),o=(0,s.get)(t,n);return o||(o=l),o}function C(e,r){return h(j(e),j(r))}function _(e,r,t){return C(r,t)(e,void 0,e.length)}function q(e,t,n){var o=C(t,n);return(0,r.applyTransform)(e,o)}function b(e,r,t){return h(r,t)(e)}var G=null;function M(e){G=j(e)}function I(){G=null}function N(){return G}function D(){M("EPSG:4326")}function w(e,r){return G?_(e,r,G):e}function J(e,r){return G?_(e,G,r):e}function L(e,r){return G?q(e,r,G):e}function F(e,r){return G?q(e,G,r):e}function W(){x(n.PROJECTIONS),x(o.PROJECTIONS),v(o.PROJECTIONS,n.PROJECTIONS,n.fromEPSG4326,n.toEPSG4326)}W();
},{"./sphere.js":"q4ER","./extent.js":"QDir","./math.js":"B96G","./proj/epsg3857.js":"lohs","./proj/epsg4326.js":"ZniN","./proj/Projection.js":"WUar","./proj/Units.js":"yZx6","./proj/transforms.js":"uhlP","./proj/projections.js":"tlE8"}],"P4eA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.reset=n,exports.multiply=o,exports.set=s,exports.setFromArray=u,exports.apply=a,exports.rotate=i,exports.scale=c,exports.makeScale=p,exports.translate=x,exports.compose=f,exports.invert=v,exports.makeInverse=l,exports.determinant=m,exports.toString=y;var r=require("./asserts.js"),t=new Array(6);function e(){return[1,0,0,1,0,0]}function n(r){return s(r,1,0,0,1,0,0)}function o(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],a=r[5],i=t[0],c=t[1],p=t[2],x=t[3],f=t[4],v=t[5];return r[0]=e*i+o*c,r[1]=n*i+s*c,r[2]=e*p+o*x,r[3]=n*p+s*x,r[4]=e*f+o*v+u,r[5]=n*f+s*v+a,r}function s(r,t,e,n,o,s,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=s,r[5]=u,r}function u(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function a(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function i(r,e){var n=Math.cos(e),u=Math.sin(e);return o(r,s(t,n,u,-u,n,0,0))}function c(r,e,n){return o(r,s(t,e,0,0,n,0,0))}function p(r,t,e){return s(r,t,0,0,e,0,0)}function x(r,e,n){return o(r,s(t,1,0,0,1,e,n))}function f(r,t,e,n,o,s,u,a){var i=Math.sin(s),c=Math.cos(s);return r[0]=n*c,r[1]=o*i,r[2]=-n*i,r[3]=o*c,r[4]=u*n*c-a*n*i+t,r[5]=u*o*i+a*o*c+e,r}function v(r){return l(r,r)}function l(t,e){var n=m(e);(0,r.assert)(0!==n,32);var o=e[0],s=e[1],u=e[2],a=e[3],i=e[4],c=e[5];return t[0]=a/n,t[1]=-s/n,t[2]=-u/n,t[3]=o/n,t[4]=(u*c-a*i)/n,t[5]=-(o*c-s*i)/n,t}function m(r){return r[0]*r[3]-r[1]*r[2]}function y(r){return"matrix("+r.join(", ")+")"}
},{"./asserts.js":"fLG6"}],"F8sI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=u(require("../Object.js")),r=require("../extent.js"),n=require("./flat/transform.js"),o=require("../proj.js"),i=u(require("../proj/Units.js")),s=require("../transform.js"),a=require("../functions.js");function u(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=(0,s.create)(),f=function(e){function u(){var t=e.call(this)||this;return t.extent_=(0,r.createEmpty)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=(0,a.memoizeOne)(function(t,e,r){if(!r)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(e)}),t}return p(u,e),u.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},u.prototype.clone=function(){return(0,t.abstract)()},u.prototype.closestPointXY=function(e,r,n,o){return(0,t.abstract)()},u.prototype.containsXY=function(t,e){var r=this.getClosestPoint([t,e]);return r[0]===t&&r[1]===e},u.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},u.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},u.prototype.computeExtent=function(e){return(0,t.abstract)()},u.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,r.returnOrUpdate)(this.extent_,t)},u.prototype.rotate=function(e,r){(0,t.abstract)()},u.prototype.scale=function(e,r,n){(0,t.abstract)()},u.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},u.prototype.getSimplifiedGeometry=function(e){return(0,t.abstract)()},u.prototype.getType=function(){return(0,t.abstract)()},u.prototype.applyTransform=function(e){(0,t.abstract)()},u.prototype.intersectsExtent=function(e){return(0,t.abstract)()},u.prototype.translate=function(e,r){(0,t.abstract)()},u.prototype.transform=function(t,e){var a=(0,o.get)(t),u=a.getUnits()==i.default.TILE_PIXELS?function(t,i,u){var p=a.getExtent(),f=a.getWorldExtent(),l=(0,r.getHeight)(f)/(0,r.getHeight)(p);return(0,s.compose)(c,f[0],f[3],l,-l,0,0,0),(0,n.transform2D)(t,0,t.length,u,c,i),(0,o.getTransform)(a,e)(t,i,u)}:(0,o.getTransform)(a,e);return this.applyTransform(u),this},u}(e.default),l=f;exports.default=l;
},{"../util.js":"KniQ","../Object.js":"PhPh","../extent.js":"QDir","./flat/transform.js":"LGwr","../proj.js":"Diht","../proj/Units.js":"yZx6","../transform.js":"P4eA","../functions.js":"RgA2"}],"pnrv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStrideForLayout=l,exports.transformGeom2D=f,exports.default=void 0;var t=require("../util.js"),e=require("../extent.js"),r=n(require("./Geometry.js")),i=n(require("./GeometryLayout.js")),o=require("./flat/transform.js");function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),s=function(r){function n(){var t=r.call(this)||this;return t.layout=i.default.XY,t.stride=2,t.flatCoordinates=null,t}return a(n,r),n.prototype.computeExtent=function(t){return(0,e.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},n.prototype.getCoordinates=function(){return(0,t.abstract)()},n.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},n.prototype.getFlatCoordinates=function(){return this.flatCoordinates},n.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},n.prototype.getLayout=function(){return this.layout},n.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},n.prototype.getSimplifiedGeometryInternal=function(t){return this},n.prototype.getStride=function(){return this.stride},n.prototype.setFlatCoordinates=function(t,e){this.stride=l(t),this.layout=t,this.flatCoordinates=e},n.prototype.setCoordinates=function(e,r){(0,t.abstract)()},n.prototype.setLayout=function(t,e,r){var o;if(t)o=l(t);else{for(var n=0;n<r;++n){if(0===e.length)return this.layout=i.default.XY,void(this.stride=2);e=e[0]}t=u(o=e.length)}this.layout=t,this.stride=o},n.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},n.prototype.rotate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();(0,o.rotate)(r,0,r.length,i,t,e,r),this.changed()}},n.prototype.scale=function(t,r,i){var n=r;void 0===n&&(n=t);var a=i;a||(a=(0,e.getCenter)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(0,o.scale)(s,0,s.length,u,t,n,a,s),this.changed()}},n.prototype.translate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();(0,o.translate)(r,0,r.length,i,t,e,r),this.changed()}},n}(r.default);function u(t){var e;return 2==t?e=i.default.XY:3==t?e=i.default.XYZ:4==t&&(e=i.default.XYZM),e}function l(t){var e;return t==i.default.XY?e=2:t==i.default.XYZ||t==i.default.XYM?e=3:t==i.default.XYZM&&(e=4),e}function f(t,e,r){var i=t.getFlatCoordinates();if(i){var n=t.getStride();return(0,o.transform2D)(i,0,i.length,n,e,r)}return null}var d=s;exports.default=d;
},{"../util.js":"KniQ","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryLayout.js":"Utvi","./flat/transform.js":"LGwr"}],"EOSm":[function(require,module,exports) {
"use strict";function r(r,e,n,t){for(var o=0,i=r[n-t],a=r[n-t+1];e<n;e+=t){var s=r[e],u=r[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function e(e,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=r(e,n,u,o),n=u}return i}function n(r,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=e(r,n,u,o),n=u[u.length-1]}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRing=r,exports.linearRings=e,exports.linearRingss=n;
},{}],"rMra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxSquaredDelta=t,exports.arrayMaxSquaredDelta=a,exports.multiArrayMaxSquaredDelta=n,exports.assignClosestPoint=s,exports.assignClosestArrayPoint=o,exports.assignClosestMultiArrayPoint=i;var r=require("../../math.js");function e(e,t,a,n,s,o,i){var u,f=e[t],l=e[t+1],v=e[a]-f,h=e[a+1]-l;if(0===v&&0===h)u=t;else{var g=((s-f)*v+(o-l)*h)/(v*v+h*h);if(g>1)u=a;else{if(g>0){for(var c=0;c<n;++c)i[c]=(0,r.lerp)(e[t+c],e[a+c],g);return void(i.length=n)}u=t}}for(c=0;c<n;++c)i[c]=e[u+c];i.length=n}function t(e,t,a,n,s){var o=e[t],i=e[t+1];for(t+=n;t<a;t+=n){var u=e[t],f=e[t+1],l=(0,r.squaredDistance)(o,i,u,f);l>s&&(s=l),o=u,i=f}return s}function a(r,e,a,n,s){for(var o=0,i=a.length;o<i;++o){var u=a[o];s=t(r,e,u,n,s),e=u}return s}function n(r,e,t,n,s){for(var o=0,i=t.length;o<i;++o){var u=t[o];s=a(r,e,u,n,s),e=u[u.length-1]}return s}function s(t,a,n,s,o,i,u,f,l,v,h){if(a==n)return v;var g,c;if(0===o){if((c=(0,r.squaredDistance)(u,f,t[a],t[a+1]))<v){for(g=0;g<s;++g)l[g]=t[a+g];return l.length=s,c}return v}for(var N=h||[NaN,NaN],x=a+s;x<n;)if(e(t,x-s,x,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s,x+=s}else x+=s*Math.max((Math.sqrt(c)-Math.sqrt(v))/o|0,1);if(i&&(e(t,n-s,a,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v)){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s}return v}function o(r,e,t,a,n,o,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=s(r,e,N,a,n,o,i,u,f,l,h),e=N}return l}function i(r,e,t,a,n,s,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=o(r,e,N,a,n,s,i,u,f,l,h),e=N[N.length-1]}return l}
},{"../../math.js":"B96G"}],"FNhl":[function(require,module,exports) {
"use strict";function e(e,r,t,n){for(var o=0,a=t.length;o<a;++o)e[r++]=t[o];return r}function r(e,r,t,n){for(var o=0,a=t.length;o<a;++o)for(var f=t[o],l=0;l<n;++l)e[r++]=f[l];return r}function t(e,t,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=r(e,t,n[u],o);f[l++]=s,t=s}return f.length=l,f}function n(e,r,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=t(e,r,n[u],o,f[l]);f[l++]=s,r=s[s.length-1]}return f.length=l,f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflateCoordinate=e,exports.deflateCoordinates=r,exports.deflateCoordinatesArray=t,exports.deflateMultiCoordinatesArray=n;
},{}],"znXl":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){for(var i=void 0!==o?o:[],a=0,l=r;l<t;l+=n)i[a++]=e.slice(l,l+n);return i.length=a,i}function r(r,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=e(r,t,u,o,a[l]),t=u}return a.length=l,a}function t(e,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=r(e,t,u,o,a[l]),t=u[u.length-1]}return a.length=l,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateCoordinates=e,exports.inflateCoordinatesArray=r,exports.inflateMultiCoordinatesArray=t;
},{}],"IEpt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyLineString=e,exports.douglasPeucker=t,exports.douglasPeuckerArray=n,exports.douglasPeuckerMultiArray=u,exports.radialDistance=a,exports.snap=o,exports.quantize=i,exports.quantizeArray=s,exports.quantizeMultiArray=f;var r=require("../../math.js");function e(r,e,n,u,o,i,s){var f=void 0!==s?s:[];return i||(n=a(r,e,n,u,o,f,0),r=f,e=0,u=2),f.length=t(r,e,n,u,o,f,0),f}function t(e,t,n,u,a,o,i){var s=(n-t)/u;if(s<3){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var f=new Array(s);f[0]=1,f[s-1]=1;for(var p=[t,n-u],v=0;p.length>0;){for(var l=p.pop(),c=p.pop(),h=0,g=e[c],d=e[c+1],x=e[l],y=e[l+1],q=c+u;q<l;q+=u){var A=e[q],M=e[q+1],P=(0,r.squaredSegmentDistance)(A,M,g,d,x,y);P>h&&(v=q,h=P)}h>a&&(f[(v-t)/u]=1,c+u<v&&p.push(c,v),v+u<l&&p.push(v,l))}for(q=0;q<s;++q)f[q]&&(o[i++]=e[t+q*u],o[i++]=e[t+q*u+1]);return i}function n(r,e,n,u,a,o,i,s){for(var f=0,p=n.length;f<p;++f){var v=n[f];i=t(r,e,v,u,a,o,i),s.push(i),e=v}return i}function u(r,e,t,u,a,o,i,s){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];i=n(r,e,v,u,a,o,i,l),s.push(l),e=v[v.length-1]}return i}function a(e,t,n,u,a,o,i){if(n<=t+u){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var s=e[t],f=e[t+1];o[i++]=s,o[i++]=f;var p=s,v=f;for(t+=u;t<n;t+=u)p=e[t],v=e[t+1],(0,r.squaredDistance)(s,f,p,v)>a&&(o[i++]=p,o[i++]=v,s=p,f=v);return p==s&&v==f||(o[i++]=p,o[i++]=v),i}function o(r,e){return e*Math.round(r/e)}function i(r,e,t,n,u,a,i){if(e==t)return i;var s,f,p=o(r[e],u),v=o(r[e+1],u);e+=n,a[i++]=p,a[i++]=v;do{if(s=o(r[e],u),f=o(r[e+1],u),(e+=n)==t)return a[i++]=s,a[i++]=f,i}while(s==p&&f==v);for(;e<t;){var l=o(r[e],u),c=o(r[e+1],u);if(e+=n,l!=s||c!=f){var h=s-p,g=f-v,d=l-p,x=c-v;h*x==g*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(g<0&&x<g||g==x||g>0&&x>g)?(s=l,f=c):(a[i++]=s,a[i++]=f,p=s,v=f,s=l,f=c)}}return a[i++]=s,a[i++]=f,i}function s(r,e,t,n,u,a,o,s){for(var f=0,p=t.length;f<p;++f){var v=t[f];o=i(r,e,v,n,u,a,o),s.push(o),e=v}return o}function f(r,e,t,n,u,a,o,i){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];o=s(r,e,v,n,u,a,o,l),i.push(l),e=v[v.length-1]}return o}
},{"../../math.js":"B96G"}],"jRgU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=u(require("./GeometryLayout.js")),i=u(require("./GeometryType.js")),o=u(require("./SimpleGeometry.js")),r=require("./flat/area.js"),s=require("./flat/closest.js"),n=require("./flat/deflate.js"),a=require("./flat/inflate.js"),l=require("./flat/simplify.js");function u(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),d=function(o){function u(t,e){var i=o.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?i.setCoordinates(t,e):i.setFlatCoordinates(e,t),i}return f(u,o),u.prototype.clone=function(){return new u(this.flatCoordinates.slice(),this.layout)},u.prototype.closestPointXY=function(e,i,o,r){return r<(0,t.closestSquaredDistanceXY)(this.getExtent(),e,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,s.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,s.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,o,r))},u.prototype.getArea=function(){return(0,r.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getCoordinates=function(){return(0,a.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new u(i,e.default.XY)},u.prototype.getType=function(){return i.default.LINEAR_RING},u.prototype.intersectsExtent=function(t){return!1},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},u}(o.default),h=d;exports.default=h;
},{"../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/simplify.js":"IEpt"}],"gLcY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=i(require("./GeometryType.js")),o=i(require("./SimpleGeometry.js")),r=require("./flat/deflate.js"),n=require("../math.js");function i(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),a=function(o){function i(t,e){var r=o.call(this)||this;return r.setCoordinates(t,e),r}return s(i,o),i.prototype.clone=function(){return new i(this.flatCoordinates.slice(),this.layout)},i.prototype.closestPointXY=function(t,e,o,r){var i=this.flatCoordinates,s=(0,n.squaredDistance)(t,e,i[0],i[1]);if(s<r){for(var a=this.stride,u=0;u<a;++u)o[u]=i[u];return o.length=a,s}return r},i.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},i.prototype.computeExtent=function(e){return(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},i.prototype.getType=function(){return e.default.POINT},i.prototype.intersectsExtent=function(e){return(0,t.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},i.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,r.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},i}(o.default),u=a;exports.default=u;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl","../math.js":"B96G"}],"dzdN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingContainsExtent=n,exports.linearRingContainsXY=e,exports.linearRingsContainsXY=t,exports.linearRingssContainsXY=i;var r=require("../../extent.js");function n(n,t,i,o,u){return!(0,r.forEachCorner)(u,function(r){return!e(n,t,i,o,r[0],r[1])})}function e(r,n,e,t,i,o){for(var u=0,a=r[e-t],s=r[e-t+1];n<e;n+=t){var f=r[n],l=r[n+1];s<=o?l>o&&(f-a)*(o-s)-(i-a)*(l-s)>0&&u++:l<=o&&(f-a)*(o-s)-(i-a)*(l-s)<0&&u--,a=f,s=l}return 0!==u}function t(r,n,t,i,o,u){if(0===t.length)return!1;if(!e(r,n,t[0],i,o,u))return!1;for(var a=1,s=t.length;a<s;++a)if(e(r,t[a-1],t[a],i,o,u))return!1;return!0}function i(r,n,e,i,o,u){if(0===e.length)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(t(r,n,f,i,o,u))return!0;n=f[f.length-1]}return!1}
},{"../../extent.js":"QDir"}],"UDvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInteriorPointOfArray=t,exports.getInteriorPointsOfMultiArray=n;var r=require("../../array.js"),e=require("./contains.js");function t(t,n,a,o,i,s,u){for(var f,l,v,g,h,p,c,y=i[s+1],N=[],b=0,j=a.length;b<j;++b){var x=a[b];for(g=t[x-o],p=t[x-o+1],f=n;f<x;f+=o)h=t[f],c=t[f+1],(y<=p&&c<=y||p<=y&&y<=c)&&(v=(y-p)/(c-p)*(h-g)+g,N.push(v)),g=h,p=c}var M=NaN,O=-1/0;for(N.sort(r.numberSafeCompareFunction),g=N[0],f=1,l=N.length;f<l;++f){h=N[f];var P=Math.abs(h-g);P>O&&(v=(g+h)/2,(0,e.linearRingsContainsXY)(t,n,a,o,v,y)&&(M=v,O=P)),g=h}return isNaN(M)&&(M=i[s]),u?(u.push(M,y,O),u):[M,y,O]}function n(r,e,n,a,o){for(var i=[],s=0,u=n.length;s<u;++s){var f=n[s];i=t(r,e,f,a,o,2*s,i),e=f[f.length-1]}return i}
},{"../../array.js":"luEr","./contains.js":"dzdN"}],"U8i0":[function(require,module,exports) {
"use strict";function e(e,r,t,o,u){for(var f,n=[e[r],e[r+1]],s=[];r+o<t;r+=o){if(s[0]=e[r+o],s[1]=e[r+o+1],f=u(n,s))return f;n[0]=s[0],n[1]=s[1]}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"GZir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectsLineString=t,exports.intersectsLineStringArray=i,exports.intersectsLinearRing=s,exports.intersectsLinearRingArray=a,exports.intersectsLinearRingMultiArray=o;var n=require("../../extent.js"),e=require("./contains.js"),r=require("./segments.js");function t(e,t,i,s,a){var o=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),e,t,i,s);return!!(0,n.intersects)(a,o)&&(!!(0,n.containsExtent)(a,o)||(o[0]>=a[0]&&o[2]<=a[2]||(o[1]>=a[1]&&o[3]<=a[3]||(0,r.forEach)(e,t,i,s,function(e,r){return(0,n.intersectsSegment)(a,e,r)}))))}function i(n,e,r,i,s){for(var a=0,o=r.length;a<o;++a){if(t(n,e,r[a],i,s))return!0;e=r[a]}return!1}function s(n,r,i,s,a){return!!t(n,r,i,s,a)||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[1])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[3])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[1])||!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[3]))))}function a(n,r,i,a,o){if(!s(n,r,i[0],a,o))return!1;if(1===i.length)return!0;for(var u=1,c=i.length;u<c;++u)if((0,e.linearRingContainsExtent)(n,i[u-1],i[u],a,o)&&!t(n,i[u-1],i[u],a,o))return!1;return!0}function o(n,e,r,t,i){for(var s=0,o=r.length;s<o;++s){var u=r[s];if(a(n,e,u,t,i))return!0;e=u[u.length-1]}return!1}
},{"../../extent.js":"QDir","./contains.js":"dzdN","./segments.js":"U8i0"}],"ElTe":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(;r<o-t;){for(var s=0;s<t;++s){var a=e[r+s];e[r+s]=e[o-t+s],e[o-t+s]=a}r+=t,o-=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordinates=e;
},{}],"cJkE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingIsClockwise=e,exports.linearRingsAreOriented=n,exports.linearRingssAreOriented=t,exports.orientLinearRings=i,exports.orientLinearRingsArray=o;var r=require("./reverse.js");function e(r,e,n,t){for(var i=0,o=r[n-t],s=r[n-t+1];e<n;e+=t){var a=r[e],u=r[e+1];i+=(a-o)*(u+s),o=a,s=u}return i>0}function n(r,n,t,i,o){for(var s=void 0!==o&&o,a=0,u=t.length;a<u;++a){var f=t[a],v=e(r,n,f,i);if(0===a){if(s&&v||!s&&!v)return!1}else if(s&&!v||!s&&v)return!1;n=f}return!0}function t(r,e,t,i,o){for(var s=0,a=t.length;s<a;++s){var u=t[s];if(!n(r,e,u,i,o))return!1;u.length&&(e=u[u.length-1])}return!0}function i(n,t,i,o,s){for(var a=void 0!==s&&s,u=0,f=i.length;u<f;++u){var v=i[u],l=e(n,t,v,o);(0===u?a&&l||!a&&!l:a&&!l||!a&&l)&&(0,r.coordinates)(n,t,v,o),t=v}return t}function o(r,e,n,t,o){for(var s=0,a=n.length;s<a;++s)e=i(r,e,n[s],t,o);return e}
},{"./reverse.js":"ElTe"}],"Nwwk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circular=x,exports.fromExtent=j,exports.fromCircle=P,exports.makeRegular=m,exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=C(require("./GeometryLayout.js")),r=C(require("./GeometryType.js")),n=C(require("./LinearRing.js")),s=C(require("./Point.js")),o=C(require("./SimpleGeometry.js")),a=require("../sphere.js"),l=require("./flat/area.js"),d=require("./flat/closest.js"),h=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),c=require("./flat/orient.js"),_=require("./flat/simplify.js"),y=require("../math.js");function C(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(o){function a(t,e,i){var r=o.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==e&&i?(r.setFlatCoordinates(e,t),r.ends_=i):r.setCoordinates(t,e),r}return v(a,o),a.prototype.appendLinearRing=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},a.prototype.clone=function(){return new a(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},a.prototype.closestPointXY=function(t,i,r,n){return n<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,n))},a.prototype.containsXY=function(t,e){return(0,h.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},a.prototype.getArea=function(){return(0,l.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},a.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,c.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},a.prototype.getEnds=function(){return this.ends_},a.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,e.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,g.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},a.prototype.getInteriorPoint=function(){return new s.default(this.getFlatInteriorPoint(),i.default.XYM)},a.prototype.getLinearRingCount=function(){return this.ends_.length},a.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new n.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},a.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[],s=0,o=0,a=i.length;o<a;++o){var l=i[o],d=new n.default(e.slice(s,l),t);r.push(d),s=l}return r},a.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,c.linearRingsAreOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,c.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},a.prototype.getSimplifiedGeometryInternal=function(t){var e=[],r=[];return e.length=(0,_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new a(e,i.default.XY,r)},a.prototype.getType=function(){return r.default.POLYGON},a.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},a.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},a}(o.default),q=R;function x(e,r,n,s){for(var o=n||32,l=[],d=0;d<o;++d)(0,t.extend)(l,(0,a.offset)(e,r,2*Math.PI*d/o,s));return l.push(l[0],l[1]),new R(l,i.default.XY,[l.length])}function j(t){var e=t[0],r=t[1],n=t[2],s=t[3],o=[e,r,e,s,n,s,n,r,e,r];return new R(o,i.default.XY,[o.length])}function P(t,e,i){for(var r=e||32,n=t.getStride(),s=t.getLayout(),o=t.getCenter(),a=n*(r+1),l=new Array(a),d=0;d<a;d+=n){l[d]=0,l[d+1]=0;for(var h=2;h<n;h++)l[d+h]=o[h]}var u=[l.length],f=new R(l,s,u);return m(f,o,t.getRadius(),i),f}function m(t,e,i,r){for(var n=t.getFlatCoordinates(),s=t.getStride(),o=n.length/s-1,a=r||0,l=0;l<=o;++l){var d=l*s,h=a+2*(0,y.modulo)(l,o)*Math.PI/o;n[d]=e[0]+i*Math.cos(h),n[d+1]=e[1]+i*Math.sin(h)}t.changed()}exports.default=q;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./LinearRing.js":"jRgU","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","../sphere.js":"q4ER","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"cJkE","./flat/simplify.js":"IEpt","../math.js":"B96G"}],"X4ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=c(require("./Object.js")),e=s(require("./events/Event.js")),i=s(require("./events/EventType.js")),n=require("./geom/Polygon.js"),o=require("./math.js"),r=require("./proj.js");function s(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=n?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(i,o,r):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}var u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},h=function(t){function e(e){var n=t.call(this,i.default.ERROR)||this;return n.code=e.code,n.message=e.message,n}return u(e,t),e}(e.default),d=function(e){function i(i){var n=e.call(this)||this,o=i||{};return n.position_=null,n.transform_=r.identityTransform,n.watchId_=void 0,n.addEventListener((0,t.getChangeEventType)(p.PROJECTION),n.handleProjectionChanged_),n.addEventListener((0,t.getChangeEventType)(p.TRACKING),n.handleTrackingChanged_),void 0!==o.projection&&n.setProjection(o.projection),void 0!==o.trackingOptions&&n.setTrackingOptions(o.trackingOptions),n.setTracking(void 0!==o.tracking&&o.tracking),n}return u(i,e),i.prototype.disposeInternal=function(){this.setTracking(!1),e.prototype.disposeInternal.call(this)},i.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,r.getTransformFromProjections)((0,r.get)("EPSG:4326"),t),this.position_&&this.set(p.POSITION,this.transform_(this.position_)))},i.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},i.prototype.positionChange_=function(t){var e=t.coords;this.set(p.ACCURACY,e.accuracy),this.set(p.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(p.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(p.HEADING,null===e.heading?void 0:(0,o.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(p.POSITION,i),this.set(p.SPEED,null===e.speed?void 0:e.speed);var r=(0,n.circular)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(p.ACCURACY_GEOMETRY,r),this.changed()},i.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new h(t))},i.prototype.getAccuracy=function(){return this.get(p.ACCURACY)},i.prototype.getAccuracyGeometry=function(){return this.get(p.ACCURACY_GEOMETRY)||null},i.prototype.getAltitude=function(){return this.get(p.ALTITUDE)},i.prototype.getAltitudeAccuracy=function(){return this.get(p.ALTITUDE_ACCURACY)},i.prototype.getHeading=function(){return this.get(p.HEADING)},i.prototype.getPosition=function(){return this.get(p.POSITION)},i.prototype.getProjection=function(){return this.get(p.PROJECTION)},i.prototype.getSpeed=function(){return this.get(p.SPEED)},i.prototype.getTracking=function(){return this.get(p.TRACKING)},i.prototype.getTrackingOptions=function(){return this.get(p.TRACKING_OPTIONS)},i.prototype.setProjection=function(t){this.set(p.PROJECTION,(0,r.get)(t))},i.prototype.setTracking=function(t){this.set(p.TRACKING,t)},i.prototype.setTrackingOptions=function(t){this.set(p.TRACKING_OPTIONS,t)},i}(t.default),g=d;exports.default=g;
},{"./Object.js":"PhPh","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./geom/Polygon.js":"Nwwk","./math.js":"B96G","./proj.js":"Diht"}],"HbeD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"};exports.default=e;
},{}],"T6DQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=r(require("../Object.js")),o=r(require("./Property.js")),i=require("../math.js"),n=require("../obj.js"),s=require("../asserts.js");function r(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),u=function(e){function r(t){var i=e.call(this)||this,r=(0,n.assign)({},t);return r[o.default.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,s.assert)("number"==typeof r[o.default.OPACITY],64),r[o.default.VISIBLE]=void 0===t.visible||t.visible,r[o.default.Z_INDEX]=t.zIndex,r[o.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,r[o.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,r[o.default.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,r[o.default.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,i.className_=void 0!==r.className?t.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return a(r,e),r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},o=this.getZIndex();return e.opacity=(0,i.clamp)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==o?o:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(e){return(0,t.abstract)()},r.prototype.getLayerStatesArray=function(e){return(0,t.abstract)()},r.prototype.getExtent=function(){return this.get(o.default.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(o.default.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(o.default.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},r.prototype.getSourceState=function(){return(0,t.abstract)()},r.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},r.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},r.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(o.default.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(o.default.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){(0,s.assert)("number"==typeof t,64),this.set(o.default.OPACITY,t)},r.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},r}(e.default),l=u;exports.default=l;
},{"../util.js":"KniQ","../Object.js":"PhPh","./Property.js":"HbeD","../math.js":"B96G","../obj.js":"mH6q","../asserts.js":"fLG6"}],"z39m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};exports.default=e;
},{}],"iC8j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};exports.default=e;
},{}],"GCgv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inView=h,exports.default=void 0;var e=require("../events.js"),t=a(require("../events/EventType.js")),r=require("../Object.js"),n=a(require("./Base.js")),o=a(require("./Property.js")),s=require("../obj.js"),u=a(require("../render/EventType.js")),i=a(require("../source/State.js"));function a(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(n){function a(e){var t=this,u=(0,s.assign)({},e);delete u.source,(t=n.call(this,u)||this).mapPrecomposeKey_=null,t.mapRenderKey_=null,t.sourceChangeKey_=null,t.renderer_=null,e.render&&(t.render=e.render),e.map&&t.setMap(e.map),t.addEventListener((0,r.getChangeEventType)(o.default.SOURCE),t.handleSourcePropertyChange_);var i=e.source?e.source:null;return t.setSource(i),t}return p(a,n),a.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},a.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},a.prototype.getSource=function(){return this.get(o.default.SOURCE)||null},a.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():i.default.UNDEFINED},a.prototype.handleSourceChange_=function(){this.changed()},a.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,e.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=(0,e.listen)(r,t.default.CHANGE,this.handleSourceChange_,this)),this.changed()},a.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},a.prototype.render=function(e,t){var r=this.getRenderer();if(r.prepareFrame(e))return r.renderFrame(e,t)},a.prototype.setMap=function(r){this.mapPrecomposeKey_&&((0,e.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),r||this.changed(),this.mapRenderKey_&&((0,e.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),r&&(this.mapPrecomposeKey_=(0,e.listen)(r,u.default.PRECOMPOSE,function(e){e.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=(0,e.listen)(this,t.default.CHANGE,r.render,r),this.changed())},a.prototype.setSource=function(e){this.set(o.default.SOURCE,e)},a.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},a.prototype.hasRenderer=function(){return!!this.renderer_},a.prototype.createRenderer=function(){return null},a.prototype.disposeInternal=function(){this.setSource(null),n.prototype.disposeInternal.call(this)},a}(n.default);function h(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}var l=c;exports.default=l;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","../Object.js":"PhPh","./Base.js":"T6DQ","./Property.js":"HbeD","../obj.js":"mH6q","../render/EventType.js":"z39m","../source/State.js":"iC8j"}],"eucy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asString=s,exports.asArray=i,exports.normalize=p,exports.toString=c,exports.isStringColor=l,exports.fromString=void 0;var r=require("./asserts.js"),e=require("./math.js"),t=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,n=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(r){return"string"==typeof r?r:c(r)}function a(r){var e=document.createElement("div");if(e.style.color=r,""!==e.style.color){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}var o=function(){var r={},e=0;return function(t){var n;if(r.hasOwnProperty(t))n=r[t];else{if(e>=1024){var s=0;for(var a in r)0==(3&s++)&&(delete r[a],--e)}n=u(t),r[t]=n,++e}return n}}();function i(r){return Array.isArray(r)?r:o(r)}function u(e){var s,o,i,u,c;if(n.exec(e)&&(e=a(e)),t.exec(e)){var l=e.length-1,f=void 0;f=l<=4?1:2;var d=4===l||8===l;s=parseInt(e.substr(1+0*f,f),16),o=parseInt(e.substr(1+1*f,f),16),i=parseInt(e.substr(1+2*f,f),16),u=d?parseInt(e.substr(1+3*f,f),16):255,1==f&&(s=(s<<4)+s,o=(o<<4)+o,i=(i<<4)+i,d&&(u=(u<<4)+u)),c=[s,o,i,u/255]}else 0==e.indexOf("rgba(")?p(c=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((c=e.slice(4,-1).split(",").map(Number)).push(1),p(c)):(0,r.assert)(!1,14);return c}function p(r){return r[0]=(0,e.clamp)(r[0]+.5|0,0,255),r[1]=(0,e.clamp)(r[1]+.5|0,0,255),r[2]=(0,e.clamp)(r[2]+.5|0,0,255),r[3]=(0,e.clamp)(r[3],0,1),r}function c(r){var e=r[0];e!=(0|e)&&(e=e+.5|0);var t=r[1];t!=(0|t)&&(t=t+.5|0);var n=r[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+t+","+n+","+(void 0===r[3]?1:r[3])+")"}function l(r){return n.test(r)&&(r=a(r)),t.test(r)||0===r.indexOf("rgba(")||0===r.indexOf("rgb(")}exports.fromString=o;
},{"./asserts.js":"fLG6","./math.js":"B96G"}],"V5XN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asColorLike=e;var r=require("./color.js");function e(e){return Array.isArray(e)?(0,r.toString)(e):e}
},{"./color.js":"eucy"}],"Xno5":[function(require,module,exports) {
"use strict";function e(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function t(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function r(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function o(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function n(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function i(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function a(e,t){for(var r=e.childNodes,o=0;;++o){var n=r[o],i=t[o];if(!n&&!i)break;n!==i&&(n?i?e.insertBefore(i,n):(e.removeChild(n),--o):e.appendChild(i))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=e,exports.outerWidth=t,exports.outerHeight=r,exports.replaceNode=o,exports.removeNode=n,exports.removeChildren=i,exports.replaceChildren=a;
},{}],"u3kG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};exports.default=e;
},{}],"HgMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontParameters=exports.CLASS_COLLAPSED=exports.CLASS_CONTROL=exports.CLASS_UNSUPPORTED=exports.CLASS_UNSELECTABLE=exports.CLASS_SELECTABLE=exports.CLASS_HIDDEN=void 0;var e="ol-hidden";exports.CLASS_HIDDEN=e;var t="ol-selectable";exports.CLASS_SELECTABLE=t;var r="ol-unselectable";exports.CLASS_UNSELECTABLE=r;var o="ol-unsupported";exports.CLASS_UNSUPPORTED=o;var S="ol-control";exports.CLASS_CONTROL=S;var s="ol-collapsed";exports.CLASS_COLLAPSED=s;var L=function(){var e,t={};return function(r){if(e||(e=document.createElement("div").style),!(r in t)){e.font=r;var o=e.fontFamily,S=e.fontWeight,s=e.fontStyle;if(e.font="",!o)return null;var L=o.split(/,\s?/);t[r]={families:L,weight:S,style:s}}return t[r]}}();exports.getFontParameters=L;
},{}],"oMDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=n(require("../events/Target.js")),r=n(require("../events/EventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(t){function n(e){var r=t.call(this)||this;return r.highWaterMark=void 0!==e?e:2048,r.count_=0,r.entries_={},r.oldest_=null,r.newest_=null,r}return s(n,t),n.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.default.CLEAR)},n.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},n.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(t,r){var n=this.entries_[t];return(0,e.assert)(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},n.prototype.remove=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},n.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},n.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},n.prototype.set=function(t,r){(0,e.assert)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},n.prototype.setSize=function(e){this.highWaterMark=e},n}(t.default),i=o;exports.default=i;
},{"../asserts.js":"fLG6","../events/Target.js":"CR4Y","../events/EventType.js":"C8cu"}],"JotV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=r(require("../../structs/LRUCache.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=function(e){function r(t){var r=e.call(this,t)||this;return r.consumers={},r}return o(r,e),r.prototype.clear=function(){this.consumers={},e.prototype.clear.call(this)},r.prototype.get=function(r,o){var n=e.prototype.get.call(this,r),s=(0,t.getUid)(o);return s in this.consumers||(this.consumers[s]={}),this.consumers[s][r]=!0,n},r.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var r=this.pop();for(var e in r.width=0,r.height=0,this.consumers)delete this.consumers[e][t]}},r.prototype.release=function(e){delete this.consumers[(0,t.getUid)(e)]},r}(e.default),s=n;exports.default=s;
},{"../../util.js":"KniQ","../../structs/LRUCache.js":"oMDz"}],"iAG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidth=M,exports.measureAndCacheTextWidth=j,exports.measureTextWidths=A,exports.rotateAtOffset=k,exports.drawImage=S,exports.resetTransform=exports.measureTextHeight=exports.checkFont=exports.textHeights=exports.checkedFonts=exports.labelCache=exports.defaultLineWidth=exports.defaultPadding=exports.defaultTextBaseline=exports.defaultTextAlign=exports.defaultStrokeStyle=exports.defaultMiterLimit=exports.defaultLineJoin=exports.defaultLineDashOffset=exports.defaultLineDash=exports.defaultLineCap=exports.defaultFillStyle=exports.defaultFont=void 0;var e=require("../css.js"),t=require("../dom.js"),r=require("../obj.js"),a=require("../transform.js"),o=n(require("./canvas/LabelCache.js"));function n(e){return e&&e.__esModule?e:{default:e}}var s="10px sans-serif";exports.defaultFont=s;var i="#000";exports.defaultFillStyle=i;var l="round";exports.defaultLineCap=l;var u=[];exports.defaultLineDash=u;var f=0;exports.defaultLineDashOffset=f;var p="round";exports.defaultLineJoin=p;var d=10;exports.defaultMiterLimit=d;var x="#000";exports.defaultStrokeStyle=x;var v="center";exports.defaultTextAlign=v;var c="middle";exports.defaultTextBaseline=c;var h=[0,0,0,0];exports.defaultPadding=h;var m=1;exports.defaultLineWidth=m;var g=new o.default;exports.labelCache=g;var y={};exports.checkedFonts=y;var T,L=null,b={};exports.textHeights=b;var C=function(){var t,a,o=100,n=y,s="32px ",i=["monospace","serif"],l=i.length,u="wmytzilWMYTZIL@#/&?$%10";function f(e,t,r){for(var o=w(),n=!0,f=0;f<l;++f){var p=i[f];if(o.font=e+" "+t+" "+s+p,a=o.measureText(u).width,r!=p){o.font=e+" "+t+" "+s+r+","+p;var d=o.measureText(u).width;n=n&&d!=a}}return!!n}function p(){var e=!0;for(var a in n)n[a]<o&&(f.apply(this,a.split("\n"))?(n[a]=o,(0,r.clear)(b),L=null,T=void 0,g.getCount()&&g.clear()):(++n[a],e=!1));e&&(clearInterval(t),t=void 0)}return function(r){var a=(0,e.getFontParameters)(r);if(a)for(var s=a.families,i=0,l=s.length;i<l;++i){var u=s[i],d=a.style+"\n"+a.weight+"\n"+u;d in n||(n[d]=o,f(a.style,a.weight,u)||(n[d]=0,void 0===t&&(t=setInterval(p,32))))}}}();function w(){return L||(L=(0,t.createCanvasContext2D)(1,1)),L}exports.checkFont=C;var F=function(){var e,t=b;return function(r){var a=t[r];return null==a&&(e||((e=document.createElement("div")).innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=r,document.body.appendChild(e),a=e.offsetHeight,t[r]=a,document.body.removeChild(e)),a}}();function M(e,t){var r=w();return e!=T&&(r.font=e,T=r.font),r.measureText(t).width}function j(e,t,r){if(t in r)return r[t];var a=M(e,t);return r[t]=a,a}function A(e,t,r){for(var a=t.length,o=0,n=0;n<a;++n){var s=M(e,t[n]);o=Math.max(o,s),r.push(s)}return o}function k(e,t,r,a){0!==t&&(e.translate(r,a),e.rotate(t),e.translate(-r,-a))}exports.measureTextHeight=F;var H=(0,a.create)();function S(e,t,r,a,o,n,s,i,l,u,f){var p;1!=r&&(p=e.globalAlpha,e.globalAlpha=p*r),t&&e.setTransform.apply(e,t),e.drawImage(a,o,n,s,i,l,u,s*f,i*f),1!=r&&(e.globalAlpha=p),t&&e.setTransform.apply(e,H)}exports.resetTransform=H;
},{"../css.js":"HgMV","../dom.js":"Xno5","../obj.js":"mH6q","../transform.js":"P4eA","./canvas/LabelCache.js":"JotV"}],"S8ow":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(){function e(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getAnchor=function(){return(0,t.abstract)()},e.prototype.getImage=function(e){return(0,t.abstract)()},e.prototype.getHitDetectionImage=function(e){return(0,t.abstract)()},e.prototype.getImageState=function(){return(0,t.abstract)()},e.prototype.getImageSize=function(){return(0,t.abstract)()},e.prototype.getHitDetectionImageSize=function(){return(0,t.abstract)()},e.prototype.getOrigin=function(){return(0,t.abstract)()},e.prototype.getSize=function(){return(0,t.abstract)()},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t},e.prototype.listenImageChange=function(e){(0,t.abstract)()},e.prototype.load=function(){(0,t.abstract)()},e.prototype.unlistenImageChange=function(e){(0,t.abstract)()},e}(),o=e;exports.default=o;
},{"../util.js":"KniQ"}],"il3X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../color.js"),e=require("../colorlike.js"),i=require("../dom.js"),s=r(require("../ImageState.js")),o=require("../render/canvas.js"),n=r(require("./Image.js"));function r(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=function(n){function r(t){var e=this,i=void 0!==t.rotateWithView&&t.rotateWithView;return(e=n.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:1})||this).canvas_=null,e.hitDetectionCanvas_=null,e.fill_=void 0!==t.fill?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=void 0!==t.radius?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=void 0!==t.angle?t.angle:0,e.stroke_=void 0!==t.stroke?t.stroke:null,e.anchor_=null,e.size_=null,e.imageSize_=null,e.hitDetectionImageSize_=null,e.render(),e}return a(r,n),r.prototype.clone=function(){var t=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},r.prototype.getImage=function(t){return this.canvas_},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return s.default.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.render=function(){var t,s=o.defaultLineCap,n=o.defaultLineJoin,r=0,a=null,l=0,h=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=o.defaultStrokeStyle),t=(0,e.asColorLike)(t),void 0===(h=this.stroke_.getWidth())&&(h=o.defaultLineWidth),a=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=o.defaultLineJoin),void 0===(s=this.stroke_.getLineCap())&&(s=o.defaultLineCap),void 0===(r=this.stroke_.getMiterLimit())&&(r=o.defaultMiterLimit));var u=2*(this.radius_+h)+1,c={strokeStyle:t,strokeWidth:h,size:u,lineCap:s,lineDash:a,lineDashOffset:l,lineJoin:n,miterLimit:r},f=(0,i.createCanvasContext2D)(u,u);this.canvas_=f.canvas;var _=u=this.canvas_.width;this.draw_(c,f,0,0),this.createHitDetectionCanvas_(c),this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[_,_]},r.prototype.draw_=function(t,i,s,n){var r,a,l;i.setTransform(1,0,0,1,0,0),i.translate(s,n),i.beginPath();var h=this.points_;if(h===1/0)i.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(h*=2),r=0;r<=h;r++)a=2*r*Math.PI/h-Math.PI/2+this.angle_,l=r%2==0?this.radius_:u,i.lineTo(t.size/2+l*Math.cos(a),t.size/2+l*Math.sin(a))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=o.defaultFillStyle),i.fillStyle=(0,e.asColorLike)(c),i.fill()}this.stroke_&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,i.setLineDash&&t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke()),i.closePath()},r.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var s=this.fill_.getColor(),o=0;if("string"==typeof s&&(s=(0,t.asArray)(s)),null===s?o=1:Array.isArray(s)&&(o=4===s.length?s[3]:1),0===o){var n=(0,i.createCanvasContext2D)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n,0,0)}}},r.prototype.drawHitDetectionCanvas_=function(t,e,i,s){e.setTransform(1,0,0,1,0,0),e.translate(i,s),e.beginPath();var n=this.points_;if(n===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(n*=2);var a=void 0,l=void 0,h=void 0;for(a=0;a<=n;a++)h=2*a*Math.PI/n-Math.PI/2+this.angle_,l=a%2==0?this.radius_:r,e.lineTo(t.size/2+l*Math.cos(h),t.size/2+l*Math.sin(h))}e.fillStyle=o.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},r}(n.default),h=l;exports.default=h;
},{"../color.js":"eucy","../colorlike.js":"V5XN","../dom.js":"Xno5","../ImageState.js":"u3kG","../render/canvas.js":"iAG7","./Image.js":"S8ow"}],"cdf1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./RegularShape.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e){var r=e||{};return t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke})||this}return r(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(t.default),i=o;exports.default=i;
},{"./RegularShape.js":"il3X"}],"AFcg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function o(o){var r=o||{};this.color_=void 0!==r.color?r.color:null}return o.prototype.clone=function(){var r=this.getColor();return new o({color:Array.isArray(r)?r.slice():r||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(o){this.color_=o},o}(),r=o;exports.default=r;
},{}],"TXDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.lineCap_=i.lineCap,this.lineDash_=void 0!==i.lineDash?i.lineDash:null,this.lineDashOffset_=i.lineDashOffset,this.lineJoin_=i.lineJoin,this.miterLimit_=i.miterLimit,this.width_=i.width}return t.prototype.clone=function(){var i=this.getColor();return new t({color:Array.isArray(i)?i.slice():i||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),i=t;exports.default=i;
},{}],"he4w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFunction=l,exports.createDefaultStyle=f,exports.createEditingStyle=d,exports.default=void 0;var e=require("../asserts.js"),t=i(require("../geom/GeometryType.js")),o=i(require("./Circle.js")),r=i(require("./Fill.js")),n=i(require("./Stroke.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=a,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=a,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function l(t){var o;if("function"==typeof t)o=t;else{var r;if(Array.isArray(t))r=t;else(0,e.assert)("function"==typeof t.getZIndex,41),r=[t];o=function(){return r}}return o}var s=null;function f(e,t){if(!s){var i=new r.default({color:"rgba(255,255,255,0.4)"}),l=new n.default({color:"#3399CC",width:1.25});s=[new u({image:new o.default({fill:i,stroke:l,radius:5}),fill:i,stroke:l})]}return s}function d(){var e={},i=[255,255,255,1],l=[0,153,255,1];return e[t.default.POLYGON]=[new u({fill:new r.default({color:[255,255,255,.5]})})],e[t.default.MULTI_POLYGON]=e[t.default.POLYGON],e[t.default.LINE_STRING]=[new u({stroke:new n.default({color:i,width:5})}),new u({stroke:new n.default({color:l,width:3})})],e[t.default.MULTI_LINE_STRING]=e[t.default.LINE_STRING],e[t.default.CIRCLE]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING]),e[t.default.POINT]=[new u({image:new o.default({radius:6,fill:new r.default({color:l}),stroke:new n.default({color:i,width:1.5})}),zIndex:1/0})],e[t.default.MULTI_POINT]=e[t.default.POINT],e[t.default.GEOMETRY_COLLECTION]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING],e[t.default.POINT]),e}function a(e){return e.getGeometry()}var c=u;exports.default=c;
},{"../asserts.js":"fLG6","../geom/GeometryType.js":"lmV0","./Circle.js":"cdf1","./Fill.js":"AFcg","./Stroke.js":"TXDt"}],"pskK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Layer.js")),e=require("../obj.js"),r=require("../style/Style.js");function n(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o={RENDER_ORDER:"renderOrder"},u=function(t){function n(r){var n=this,i=r||{},o=(0,e.assign)({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return i(n,t),n.prototype.getDeclutter=function(){return this.declutter_},n.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},n.prototype.getRenderBuffer=function(){return this.renderBuffer_},n.prototype.getRenderOrder=function(){return this.get(o.RENDER_ORDER)},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},n.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},n.prototype.setRenderOrder=function(t){this.set(o.RENDER_ORDER,t)},n.prototype.setStyle=function(t){this.style_=void 0!==t?t:r.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,r.toFunction)(this.style_),this.changed()},n}(t.default),l=u;exports.default=l;
},{"./Layer.js":"GCgv","../obj.js":"mH6q","../style/Style.js":"he4w"}],"cuLW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ANIMATING:0,INTERACTING:1};exports.default=e;
},{}],"LQER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(){}return t.prototype.drawCustom=function(t,o,e){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,o){},t.prototype.drawFeature=function(t,o){},t.prototype.drawGeometryCollection=function(t,o){},t.prototype.drawLineString=function(t,o){},t.prototype.drawMultiLineString=function(t,o){},t.prototype.drawMultiPoint=function(t,o){},t.prototype.drawMultiPolygon=function(t,o){},t.prototype.drawPoint=function(t,o){},t.prototype.drawPolygon=function(t,o){},t.prototype.drawText=function(t,o){},t.prototype.setFillStrokeStyle=function(t,o){},t.prototype.setImageStyle=function(t,o){},t.prototype.setTextStyle=function(t,o){},t}(),o=t;exports.default=o;
},{}],"kTJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.closePathInstruction=exports.beginPathInstruction=exports.strokeInstruction=exports.fillInstruction=void 0;var t={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[t.FILL];exports.fillInstruction=r;var e=[t.STROKE];exports.strokeInstruction=e;var o=[t.BEGIN_PATH];exports.beginPathInstruction=o;var s=[t.CLOSE_PATH];exports.closePathInstruction=s;var E=t;exports.default=E;
},{}],"QBj4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),n=l(require("../../extent/Relationship.js")),r=l(require("../../geom/GeometryType.js")),o=require("../../geom/flat/inflate.js"),s=l(require("../VectorContext.js")),a=require("../canvas.js"),u=l(require("./Instruction.js"));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(s){function l(t,e,i,n){var r=s.call(this)||this;return r.tolerance=t,r.maxExtent=e,r.pixelRatio=n,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return h(l,s),l.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},l.prototype.appendFlatCoordinates=function(t,e,r,o,s,a){var u=this.coordinates.length,l=this.getBufferedMaxExtent();a&&(e+=o);var h,d,c,f=t[e],p=t[e+1],y=this.tmpCoordinate_,v=!0;for(h=e+o;h<r;h+=o)y[0]=t[h],y[1]=t[h+1],(c=(0,i.coordinateRelationship)(l,y))!==d?(v&&(this.coordinates[u++]=f,this.coordinates[u++]=p),this.coordinates[u++]=y[0],this.coordinates[u++]=y[1],v=!1):c===n.default.INTERSECTING?(this.coordinates[u++]=y[0],this.coordinates[u++]=y[1],v=!1):v=!0,f=y[0],p=y[1],d=c;return(s&&v||h===e+o)&&(this.coordinates[u++]=f,this.coordinates[u++]=p),u},l.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var a=i[o],u=this.appendFlatCoordinates(t,e,a,n,!1,!1);r.push(u),e=a}return e},l.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,s,a,l,h,d=t.getType(),c=t.getStride(),f=this.coordinates.length;if(d==r.default.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),l=[];var p=t.getEndss();h=0;for(var y=0,v=p.length;y<v;++y){var _=[];h=this.drawCustomCoordinates_(n,h,p[y],c,_),l.push(_)}this.instructions.push([u.default.CUSTOM,f,l,t,i,o.inflateMultiCoordinatesArray])}else d==r.default.POLYGON||d==r.default.MULTI_LINE_STRING?(a=[],n=d==r.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(n,0,t.getEnds(),c,a),this.instructions.push([u.default.CUSTOM,f,a,t,i,o.inflateCoordinatesArray])):d==r.default.LINE_STRING||d==r.default.MULTI_POINT?(n=t.getFlatCoordinates(),s=this.appendFlatCoordinates(n,0,n.length,c,!1,!1),this.instructions.push([u.default.CUSTOM,f,s,t,i,o.inflateCoordinates])):d==r.default.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),s=this.coordinates.length,this.instructions.push([u.default.CUSTOM,f,s,t,i]));this.endGeometry(e)},l.prototype.beginGeometry=function(t,e){var i=t.getExtent();this.beginGeometryInstruction1_=[u.default.BEGIN_GEOMETRY,e,0,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[u.default.BEGIN_GEOMETRY,e,0,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},l.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},l.prototype.reverseHitDetectionInstructions=function(){var e,i=this.hitDetectionInstructions;i.reverse();var n,r,o=i.length,s=-1;for(e=0;e<o;++e)(r=(n=i[e])[0])==u.default.END_GEOMETRY?s=e:r==u.default.BEGIN_GEOMETRY&&(n[2]=e,(0,t.reverseSubArray)(this.hitDetectionInstructions,s,e),s=-1)},l.prototype.setFillStrokeStyle=function(t,i){var n=this.state;if(t){var r=t.getColor();n.fillStyle=(0,e.asColorLike)(r||a.defaultFillStyle)}else n.fillStyle=void 0;if(i){var o=i.getColor();n.strokeStyle=(0,e.asColorLike)(o||a.defaultStrokeStyle);var s=i.getLineCap();n.lineCap=void 0!==s?s:a.defaultLineCap;var u=i.getLineDash();n.lineDash=u?u.slice():a.defaultLineDash;var l=i.getLineDashOffset();n.lineDashOffset=l||a.defaultLineDashOffset;var h=i.getLineJoin();n.lineJoin=void 0!==h?h:a.defaultLineJoin;var d=i.getWidth();n.lineWidth=void 0!==d?d:a.defaultLineWidth;var c=i.getMiterLimit();n.miterLimit=void 0!==c?c:a.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},l.prototype.createFill=function(t){var e=t.fillStyle,i=[u.default.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i},l.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},l.prototype.createStroke=function(t){return[u.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},l.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},l.prototype.updateStrokeStyle=function(e,i){var n=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,u=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||o!=e.currentLineDash&&!(0,t.equals)(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=u||e.currentMiterLimit!=l)&&(void 0!==n&&i.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=u,e.currentMiterLimit=l)},l.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[u.default.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},l.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,i.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,i.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},l}(s.default),c=d;exports.default=c;
},{"../../array.js":"luEr","../../colorlike.js":"V5XN","../../extent.js":"QDir","../../extent/Relationship.js":"bUAS","../../geom/GeometryType.js":"lmV0","../../geom/flat/inflate.js":"znXl","../VectorContext.js":"LQER","../canvas.js":"iAG7","./Instruction.js":"kTJv"}],"JWDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Instruction.js")),i=e(require("./Builder.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),h=function(i){function e(t,e,o,h){var s=i.call(this,t,e,o,h)||this;return s.declutterGroups_=null,s.hitDetectionImage_=null,s.image_=null,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s}return o(e,i),e.prototype.drawCoordinates_=function(t,i,e,o){return this.appendFlatCoordinates(t,i,e,o,!1,!1)},e.prototype.drawPoint=function(i,e){if(this.image_){this.beginGeometry(i,e);var o=i.getFlatCoordinates(),h=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,h);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(i,e){if(this.image_){this.beginGeometry(i,e);var o=i.getFlatCoordinates(),h=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,h);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,i.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,i){var e=t.getAnchor(),o=t.getSize(),h=t.getHitDetectionImage(1),s=t.getImage(1),r=t.getOrigin();this.anchorX_=e[0],this.anchorY_=e[1],this.declutterGroups_=i,this.hitDetectionImage_=h,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=o[0]},e}(i.default),s=h;exports.default=s;
},{"./Instruction.js":"kTJv","./Builder.js":"QBj4"}],"ppsk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Instruction.js")),e=i(require("./Builder.js"));function i(t){return t&&t.__esModule?t:{default:t}}function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,e&&e.set(t,i),i}var o=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e){function i(t,i,n,r){return e.call(this,t,i,n,r)||this}return o(i,e),i.prototype.drawFlatCoordinates_=function(e,i,n,r){var o=this.coordinates.length,s=this.appendFlatCoordinates(e,i,n,r,!1,!1),u=[t.default.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),n},i.prototype.drawLineString=function(e,i){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],t.beginPathInstruction);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(i)}},i.prototype.drawMultiLineString=function(e,i){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],t.beginPathInstruction);for(var s=e.getEnds(),u=e.getFlatCoordinates(),a=e.getStride(),l=0,h=0,c=s.length;h<c;++h)l=this.drawFlatCoordinates_(u,l,s[h],a);this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(i)}},i.prototype.finish=function(){var i=this.state;return null!=i.lastStroke&&i.lastStroke!=this.coordinates.length&&this.instructions.push(t.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},i.prototype.applyStroke=function(i){null!=i.lastStroke&&i.lastStroke!=this.coordinates.length&&(this.instructions.push(t.strokeInstruction),i.lastStroke=this.coordinates.length),i.lastStroke=0,e.prototype.applyStroke.call(this,i),this.instructions.push(t.beginPathInstruction)},i}(e.default),u=s;exports.default=u;
},{"./Instruction.js":"kTJv","./Builder.js":"QBj4"}],"e19k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../geom/flat/simplify.js"),e=require("../canvas.js"),i=r(require("./Instruction.js")),s=n(require("./Builder.js"));function n(t){return t&&t.__esModule?t:{default:t}}function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=s?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}var l=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),u=function(s){function n(t,e,i,n){return s.call(this,t,e,i,n)||this}return l(n,s),n.prototype.drawFlatCoordinatess_=function(t,e,s,n){var o=this.state,r=void 0!==o.fillStyle,l=void 0!==o.strokeStyle,u=s.length;this.instructions.push(i.beginPathInstruction),this.hitDetectionInstructions.push(i.beginPathInstruction);for(var h=0;h<u;++h){var a=s[h],c=this.coordinates.length,f=this.appendFlatCoordinates(t,e,a,n,!0,!l),d=[i.default.MOVE_TO_LINE_TO,c,f];this.instructions.push(d),this.hitDetectionInstructions.push(d),l&&(this.instructions.push(i.closePathInstruction),this.hitDetectionInstructions.push(i.closePathInstruction)),e=a}return r&&(this.instructions.push(i.fillInstruction),this.hitDetectionInstructions.push(i.fillInstruction)),l&&(this.instructions.push(i.strokeInstruction),this.hitDetectionInstructions.push(i.strokeInstruction)),e},n.prototype.drawCircle=function(t,s){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,s),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([i.default.SET_FILL_STYLE,e.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var l=t.getFlatCoordinates(),u=t.getStride(),h=this.coordinates.length;this.appendFlatCoordinates(l,0,l.length,u,!1,!1);var a=[i.default.CIRCLE,h];this.instructions.push(i.beginPathInstruction,a),this.hitDetectionInstructions.push(i.beginPathInstruction,a),void 0!==n.fillStyle&&(this.instructions.push(i.fillInstruction),this.hitDetectionInstructions.push(i.fillInstruction)),void 0!==n.strokeStyle&&(this.instructions.push(i.strokeInstruction),this.hitDetectionInstructions.push(i.strokeInstruction)),this.endGeometry(s)}},n.prototype.drawPolygon=function(t,s){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,s),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([i.default.SET_FILL_STYLE,e.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var l=t.getEnds(),u=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(u,0,l,h),this.endGeometry(s)}},n.prototype.drawMultiPolygon=function(t,s){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,s),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([i.default.SET_FILL_STYLE,e.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var l=t.getEndss(),u=t.getOrientedFlatCoordinates(),h=t.getStride(),a=0,c=0,f=l.length;c<f;++c)a=this.drawFlatCoordinatess_(u,a,l[c],h);this.endGeometry(s)}},n.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,o=i.length;n<o;++n)i[n]=(0,t.snap)(i[n],e);return s.prototype.finish.call(this)},n.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},n}(s.default),h=u;exports.default=h;
},{"../../geom/flat/simplify.js":"IEpt","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Builder.js":"QBj4"}],"hCfl":[function(require,module,exports) {
"use strict";function t(t,e,r,o,a){var s,i,n,u,c,v,d,h,f,p=r,M=r,l=0,x=0,_=r;for(s=r;s<o;s+=a){var b=e[s],g=e[s+1];void 0!==u&&(h=b-u,f=g-c,n=Math.sqrt(h*h+f*f),void 0!==v&&(x+=i,Math.acos((v*h+d*f)/(i*n))>t&&(x>l&&(l=x,p=_,M=s),x=0,_=s-a)),i=n,v=h,d=f),u=b,c=g}return(x+=n)>l?[_,s]:[p,M]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchingChunk=t;
},{}],"AXKs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"point",LINE:"line"};exports.default=e;
},{}],"DEzw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TEXT_ALIGN=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),s=require("../../geom/flat/straightchunk.js"),l=h(require("../../geom/GeometryType.js")),a=require("../canvas.js"),r=h(require("./Instruction.js")),o=h(require("./Builder.js")),n=h(require("../../style/TextPlacement.js"));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};exports.TEXT_ALIGN=f;var d=function(o){function h(t,e,i,s){var l=o.call(this,t,e,i,s)||this;return l.declutterGroups_,l.labels_=null,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=void 0,l.textRotation_=0,l.textFillState_=null,l.fillStates={},l.textStrokeState_=null,l.strokeStates={},l.textState_={},l.textStates={},l.textKey_="",l.fillKey_="",l.strokeKey_="",a.labelCache.prune(),l}return u(h,o),h.prototype.finish=function(){var t=o.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},h.prototype.drawText=function(t,e){var o=this.textFillState_,h=this.textStrokeState_,u=this.textState_;if(""!==this.text_&&u&&(o||h)){var f,d,_=this.coordinates.length,c=t.getType(),g=null,x=2,S=2;if(u.placement===n.default.LINE){if(!(0,i.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var p=void 0;if(g=t.getFlatCoordinates(),S=t.getStride(),c==l.default.LINE_STRING)p=[g.length];else if(c==l.default.MULTI_LINE_STRING)p=t.getEnds();else if(c==l.default.POLYGON)p=t.getEnds().slice(0,1);else if(c==l.default.MULTI_POLYGON){var k=t.getEndss();for(p=[],f=0,d=k.length;f<d;++f)p.push(k[f][0])}this.beginGeometry(t,e);for(var y=u.textAlign,v=0,L=void 0,N=0,O=p.length;N<O;++N){if(null==y){var m=(0,s.matchingChunk)(u.maxAngle,g,v,p[N],S);v=m[0],L=m[1]}else L=p[N];for(f=v;f<L;f+=S)this.coordinates.push(g[f],g[f+1]);x=this.coordinates.length,v=p[N];var F=this.declutterGroups_?0===N?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(_,x,F),_=x}this.endGeometry(e)}else{var T=null;switch(u.overflow||(T=[]),c){case l.default.POINT:case l.default.MULTI_POINT:x=(g=t.getFlatCoordinates()).length;break;case l.default.LINE_STRING:g=t.getFlatMidpoint();break;case l.default.CIRCLE:g=t.getCenter();break;case l.default.MULTI_LINE_STRING:x=(g=t.getFlatMidpoints()).length;break;case l.default.POLYGON:g=t.getFlatInteriorPoint(),u.overflow||T.push(g[2]/this.resolution),S=3;break;case l.default.MULTI_POLYGON:var I=t.getFlatInteriorPoints();for(g=[],f=0,d=I.length;f<d;f+=3)u.overflow||T.push(I[f+2]/this.resolution),g.push(I[f],I[f+1]);if(0==(x=g.length))return}x=this.appendFlatCoordinates(g,0,x,S,!1,!1),this.saveTextStates_(),(u.backgroundFill||u.backgroundStroke)&&(this.setFillStrokeStyle(u.backgroundFill,u.backgroundStroke),u.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),u.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var b=this.pixelRatio;this.instructions.push([r.default.DRAW_IMAGE,_,x,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,u.padding==a.defaultPadding?a.defaultPadding:u.padding.map(function(t){return t*b}),!!u.backgroundFill,!!u.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,T]),this.hitDetectionInstructions.push([r.default.DRAW_IMAGE,_,x,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,u.padding,!!u.backgroundFill,!!u.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,T]),this.endGeometry(e)}}},h.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var l=this.textKey_;l in this.textStates||(this.textStates[l]={font:e.font,textAlign:e.textAlign||a.defaultTextAlign,textBaseline:e.textBaseline||a.defaultTextBaseline,scale:e.scale});var r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))},h.prototype.drawChars_=function(t,e,i){var s=this.textStrokeState_,l=this.textState_,a=this.strokeKey_,o=this.textKey_,n=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,u=f[l.textBaseline],d=this.textOffsetY_*h,_=this.text_,c=l.scale,g=s?s.lineWidth*c/2:0;this.instructions.push([r.default.DRAW_CHARS,t,e,u,i,l.overflow,n,l.maxAngle,h,d,a,g*h,_,o,1]),this.hitDetectionInstructions.push([r.default.DRAW_CHARS,t,e,u,i,l.overflow,n,l.maxAngle,1,d,a,g,_,o,1/h])},h.prototype.setTextStyle=function(i,s){var l,r,o;if(i){this.declutterGroups_=s;var n=i.getFill();n?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=(0,e.asColorLike)(n.getColor()||a.defaultFillStyle)):(r=null,this.textFillState_=r);var h=i.getStroke();if(h){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var u=h.getLineDash(),f=h.getLineDashOffset(),d=h.getWidth(),_=h.getMiterLimit();o.lineCap=h.getLineCap()||a.defaultLineCap,o.lineDash=u?u.slice():a.defaultLineDash,o.lineDashOffset=void 0===f?a.defaultLineDashOffset:f,o.lineJoin=h.getLineJoin()||a.defaultLineJoin,o.lineWidth=void 0===d?a.defaultLineWidth:d,o.miterLimit=void 0===_?a.defaultMiterLimit:_,o.strokeStyle=(0,e.asColorLike)(h.getColor()||a.defaultStrokeStyle)}else o=null,this.textStrokeState_=o;l=this.textState_;var c=i.getFont()||a.defaultFont;(0,a.checkFont)(c);var g=i.getScale();l.overflow=i.getOverflow(),l.font=c,l.maxAngle=i.getMaxAngle(),l.placement=i.getPlacement(),l.textAlign=i.getTextAlign(),l.textBaseline=i.getTextBaseline()||a.defaultTextBaseline,l.backgroundFill=i.getBackgroundFill(),l.backgroundStroke=i.getBackgroundStroke(),l.padding=i.getPadding()||a.defaultPadding,l.scale=void 0===g?1:g;var x=i.getOffsetX(),S=i.getOffsetY(),p=i.getRotateWithView(),k=i.getRotation();this.text_=i.getText()||"",this.textOffsetX_=void 0===x?0:x,this.textOffsetY_=void 0===S?0:S,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===k?0:k,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:(0,t.getUid)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=l.font+l.scale+(l.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,t.getUid)(r.fillStyle):""}else this.text_=""},h}(o.default),_=d;exports.default=_;
},{"../../util.js":"KniQ","../../colorlike.js":"V5XN","../../extent.js":"QDir","../../geom/flat/straightchunk.js":"hCfl","../../geom/GeometryType.js":"lmV0","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Builder.js":"QBj4","../../style/TextPlacement.js":"AXKs"}],"vqHd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../extent.js"),t=s(require("./Builder.js")),r=s(require("./ImageBuilder.js")),i=s(require("./LineStringBuilder.js")),u=s(require("./PolygonBuilder.js")),n=s(require("./TextBuilder.js"));function s(e){return e&&e.__esModule?e:{default:e}}var l={Circle:u.default,Default:t.default,Image:r.default,LineString:i.default,Polygon:u.default,Text:n.default},o=function(){function t(e,t,r,i,u){this.declutter_=u,this.declutterGroups_=null,this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var r=null;return this.declutter_&&(t?(r=this.declutterGroups_)[0][4]++:(r=[(0,e.createEmpty)()],this.declutterGroups_=r,r[0].push(1))),r},t.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var u=r[i].finish();e[t][i]=u}}return e},t.prototype.getBuilder=function(e,t){var r=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[r];void 0===i&&(i={},this.buildersByZIndex_[r]=i);var u=i[t];void 0===u&&(u=new(0,l[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=u);return u},t}(),d=o;exports.default=d;
},{"../../extent.js":"QDir","./Builder.js":"QBj4","./ImageBuilder.js":"JWDt","./LineStringBuilder.js":"ppsk","./PolygonBuilder.js":"e19k","./TextBuilder.js":"DEzw"}],"irm1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};exports.default=e;
},{}],"ZZrx":[function(require,module,exports) {
"use strict";function r(r,t,e,n){for(var i=r[t],o=r[t+1],s=0,a=t+n;a<e;a+=n){var u=r[a],c=r[a+1];s+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return s}function t(t,e,n,i){var o=r(t,e,n,i),s=t[n-i]-t[e],a=t[n-i+1]-t[e+1];return o+=Math.sqrt(s*s+a*a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringLength=r,exports.linearRingLength=t;
},{}],"JxN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawTextOnPath=a;var t=require("../../math.js");function a(a,r,e,h,M,o,n,p,s,u,v){for(var P,i,l=[],f=a[r]>a[e-h],I=M.length,w=a[r],d=a[r+1],c=a[r+=h],q=a[r+1],x=0,b=Math.sqrt(Math.pow(c-w,2)+Math.pow(q-d,2)),j=!1,O=0;O<I;++O){for(var _=M[P=f?I-O-1:O],g=p*s(u,_,v),m=o+g/2;r<e-h&&x+b<m;)w=c,d=q,c=a[r+=h],q=a[r+1],x+=b,b=Math.sqrt(Math.pow(c-w,2)+Math.pow(q-d,2));var y=m-x,T=Math.atan2(q-d,c-w);if(f&&(T+=T>0?-Math.PI:Math.PI),void 0!==i){var k=T-i;if(j=j||0!==k,k+=k>Math.PI?-2*Math.PI:k<-Math.PI?2*Math.PI:0,Math.abs(k)>n)return null}i=T;var z=y/b,A=(0,t.lerp)(w,c,z),B=(0,t.lerp)(d,q,z);l[P]=[A,B,g/2,T,_],o+=g}return j?l:[[l[0][0],l[0][1],l[0][2],l[0][3],M]]}
},{"../../math.js":"B96G"}],"XGea":[function(require,module,exports) {
var define;
var t;!function(i,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):(i=i||self).RBush=n()}(this,function(){"use strict";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(e,Math.floor(r-s*f/o+u)),Math.min(a,Math.floor(r+(o-s)*f/o+u)),h)}var m=n[r],c=e,p=a;for(i(n,e,r),h(n[a],m)>0&&i(n,e,a);c<p;){for(i(n,c,p),c++,p--;h(n[c],m)<0;)c++;for(;h(n[p],m)>0;)p--}0===h(n[e],m)?i(n,e,p):i(n,++p,a),p<=r&&(e=p+1),r<=p&&(a=p-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,void 0,void 0,void 0,void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});
},{}],"pZKE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../extent.js"),i=require("../../geom/flat/length.js"),a=require("../../geom/flat/textpath.js"),r=require("../../geom/flat/transform.js"),l=require("../canvas.js"),n=c(require("./Instruction.js")),s=require("./TextBuilder.js"),o=require("../../transform.js"),h=require("../../dom.js"),u=c(require("../../Disposable.js")),d=c(require("rbush"));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),p=(0,e.createEmpty)(),v=(0,o.create)(),_=[],g=[],x=[],m=[],y=function(u){function c(t,e,i,a){var r=u.call(this)||this;return r.overlaps=i,r.pixelRatio=e,r.resolution=t,r.alignFill_,r.declutterItems=[],r.instructions=a.instructions,r.coordinates=a.coordinates,r.coordinateCache_={},r.renderedTransform_=(0,o.create)(),r.hitDetectionInstructions=a.hitDetectionInstructions,r.pixelCoordinates_=null,r.viewRotation_=0,r.fillStates=a.fillStates||{},r.strokeStates=a.strokeStates||{},r.textStates=a.textStates||{},r.widths_={},r}return f(c,u),c.prototype.disposeInternal=function(){l.labelCache.release(this),u.prototype.disposeInternal.call(this)},c.prototype.getTextImage=function(t,e,i,a){var r,n=a+e+t+i+this.pixelRatio;if(!l.labelCache.containsKey(n)){var o=a?this.strokeStates[a]:null,u=i?this.fillStates[i]:null,d=this.textStates[e],c=this.pixelRatio,f=d.scale*c,p=s.TEXT_ALIGN[d.textAlign||l.defaultTextAlign],v=a&&o.lineWidth?o.lineWidth:0,_=t.split("\n"),g=_.length,x=[],m=(0,l.measureTextWidths)(d.font,_,x),y=(0,l.measureTextHeight)(d.font),T=y*g,S=m+v,I=(0,h.createCanvasContext2D)(Math.ceil((S+2)*f),Math.ceil((T+v)*f));r=I.canvas,l.labelCache.set(n,r),1!=f&&I.scale(f,f),I.font=d.font,a&&(I.strokeStyle=o.strokeStyle,I.lineWidth=v,I.lineCap=o.lineCap,I.lineJoin=o.lineJoin,I.miterLimit=o.miterLimit,I.setLineDash&&o.lineDash.length&&(I.setLineDash(o.lineDash),I.lineDashOffset=o.lineDashOffset)),i&&(I.fillStyle=u.fillStyle),I.textBaseline="middle",I.textAlign="center";var k=.5-p,b=p*S+k*v,w=void 0;if(a)for(w=0;w<g;++w)I.strokeText(_[w],b+k*x[w],.5*(v+y)+w*y);if(i)for(w=0;w<g;++w)I.fillText(_[w],b+k*x[w],.5*(v+y)+w*y)}return l.labelCache.get(n,this)},c.prototype.replayTextBackground_=function(t,e,i,a,r,l,n){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,a),t.lineTo.apply(t,r),t.lineTo.apply(t,e),l&&(this.alignFill_=l[2],this.fill_(t)),n&&(this.setStrokeStyle_(t,n),t.stroke())},c.prototype.replayImage_=function(t,i,a,r,n,s,h,u,d,c,f,y,T,S,I,k,b,w){var E=b||w;i-=n*=T,a-=s*=T;var C=I+c>r.width?r.width-c:I,A=u+f>r.height?r.height-f:u,R=k[3]+C*T+k[1],L=k[0]+A*T+k[2],M=i-k[3],O=a-k[0];(E||0!==y)&&(_[0]=M,m[0]=M,_[1]=O,g[1]=O,g[0]=M+R,x[0]=g[0],x[1]=O+L,m[1]=x[1]);var D=null;if(0!==y){var P=i+n,j=a+s;D=(0,o.compose)(v,P,j,1,1,y,-P,-j),(0,o.apply)(v,_),(0,o.apply)(v,g),(0,o.apply)(v,x),(0,o.apply)(v,m),(0,e.createOrUpdate)(Math.min(_[0],g[0],x[0],m[0]),Math.min(_[1],g[1],x[1],m[1]),Math.max(_[0],g[0],x[0],m[0]),Math.max(_[1],g[1],x[1],m[1]),p)}else(0,e.createOrUpdate)(M,O,M+R,O+L,p);var q=t.canvas,W=w?w[2]*T/2:0,N=p[0]-W<=q.width&&p[2]+W>=0&&p[1]-W<=q.height&&p[3]+W>=0;if(S&&(i=Math.round(i),a=Math.round(a)),h){if(!N&&1==h[4])return;(0,e.extend)(h,p);var G=N?[t,D?D.slice(0):null,d,r,c,f,C,A,i,a,T]:null;G&&(E&&G.push(b,w,_,g,x,m),h.push(G))}else N&&(E&&this.replayTextBackground_(t,_,g,x,m,b,w),(0,l.drawImage)(t,D,d,r,c,f,C,A,i,a,T))},c.prototype.fill_=function(t){if(this.alignFill_){var e=(0,o.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},c.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},c.prototype.renderDeclutter=function(t,i,a,r){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:i};if(r||(r=new d.default(9)),!r.collides(s)){r.insert(s);for(var o=5,h=t.length;o<h;++o){var u=t[o],c=u[0],f=c.globalAlpha;f!==a&&(c.globalAlpha=a),u.length>11&&this.replayTextBackground_(u[0],u[13],u[14],u[15],u[16],u[11],u[12]),l.drawImage.apply(void 0,u),f!==a&&(c.globalAlpha=f)}}t.length=5,(0,e.createOrUpdateEmpty)(t)}}return r},c.prototype.drawTextImageWithPointPlacement_=function(t,e,i,a){var r=this.textStates[e],n=this.getTextImage(t,e,a,i),o=this.strokeStates[i],h=this.pixelRatio,u=s.TEXT_ALIGN[r.textAlign||l.defaultTextAlign],d=s.TEXT_ALIGN[r.textBaseline||l.defaultTextBaseline],c=o&&o.lineWidth?o.lineWidth:0;return{label:n,anchorX:u*(n.width/h-2*r.scale)+2*(.5-u)*c,anchorY:d*n.height/h+2*(.5-d)*c}},c.prototype.execute_=function(h,u,d,c,f,p){var v;this.declutterItems.length=0,this.pixelCoordinates_&&(0,t.equals)(u,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=(0,r.transform2D)(this.coordinates,0,this.coordinates.length,2,u,this.pixelCoordinates_),(0,o.setFromArray)(this.renderedTransform_,u));for(var _,g,x,m,y,T,S,I,k,b,w,E,C,A,R,L,M,O=0,D=d.length,P=0,j=0,q=0,W=null,N=null,G=this.coordinateCache_,B=this.viewRotation_,F=Math.round(1e12*Math.atan2(-u[1],u[0]))/1e12,X={context:h,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},Y=this.instructions!=d||this.overlaps?0:200;O<D;){var H=d[O];switch(H[0]){case n.default.BEGIN_GEOMETRY:(R=H[1]).getGeometry()?void 0===p||(0,e.intersects)(p,H[3])?++O:O=H[2]+1:O=H[2];break;case n.default.BEGIN_PATH:j>Y&&(this.fill_(h),j=0),q>Y&&(h.stroke(),q=0),j||q||(h.beginPath(),m=NaN,y=NaN),++O;break;case n.default.CIRCLE:var U=v[P=H[1]],J=v[P+1],K=v[P+2]-U,V=v[P+3]-J,z=Math.sqrt(K*K+V*V);h.moveTo(U+z,J),h.arc(U,J,z,0,2*Math.PI,!0),++O;break;case n.default.CLOSE_PATH:h.closePath(),++O;break;case n.default.CUSTOM:P=H[1],_=H[2];var Q=H[3],Z=H[4],$=6==H.length?H[5]:void 0;X.geometry=Q,X.feature=R,O in G||(G[O]=[]);var tt=G[O];$?$(v,P,_,2,tt):(tt[0]=v[P],tt[1]=v[P+1],tt.length=2),Z(tt,X),++O;break;case n.default.DRAW_IMAGE:P=H[1],_=H[2],b=H[3],g=H[4],x=H[5],k=f?null:H[6];var et=H[7],it=H[8],at=H[9],rt=H[10],lt=H[11],nt=H[12],st=H[13],ot=H[14];if(!b&&H.length>=19){w=H[18],E=H[19],C=H[20],A=H[21];var ht=this.drawTextImageWithPointPlacement_(w,E,C,A);b=ht.label,H[3]=b;var ut=H[22];g=(ht.anchorX-ut)*this.pixelRatio,H[4]=g;var dt=H[23];x=(ht.anchorY-dt)*this.pixelRatio,H[5]=x,et=b.height,H[7]=et,ot=b.width,H[14]=ot}var ct=void 0;H.length>24&&(ct=H[24]);var ft=void 0,pt=void 0,vt=void 0;H.length>16?(ft=H[15],pt=H[16],vt=H[17]):(ft=l.defaultPadding,pt=!1,vt=!1),lt&&F?nt+=B:lt||F||(nt-=B);for(var _t=0,gt=0;P<_;P+=2)if(!(ct&&ct[_t++]<ot/this.pixelRatio)){if(k){var xt=Math.floor(gt);k.length<xt+1&&((I=(0,e.createEmpty)()).push(k[0][4]),k.push(I)),I=k[xt]}this.replayImage_(h,v[P],v[P+1],b,g,x,I,et,it,at,rt,nt,st,c,ot,ft,pt?W:null,vt?N:null),I&&(gt===Math.floor(gt)&&this.declutterItems.push(this,I,R),gt+=1/I[4])}++O;break;case n.default.DRAW_CHARS:var mt=H[1],yt=H[2],Tt=H[3];I=f?null:H[4];var St=H[5];A=H[6];var It=H[7],kt=H[8],bt=H[9];C=H[10];var wt=H[11];w=H[12],E=H[13];var Et=H[14],Ct=this.textStates[E],At=Ct.font,Rt=Ct.scale*kt,Lt=void 0;At in this.widths_?Lt=this.widths_[At]:(Lt={},this.widths_[At]=Lt);var Mt=(0,i.lineStringLength)(v,mt,yt,2),Ot=Rt*(0,l.measureAndCacheTextWidth)(At,w,Lt);if(St||Ot<=Mt){var Dt=this.textStates[E].textAlign,Pt=(Mt-Ot)*s.TEXT_ALIGN[Dt],jt=(0,a.drawTextOnPath)(v,mt,yt,2,w,Pt,It,Rt,l.measureAndCacheTextWidth,At,Lt);if(jt){var qt=void 0,Wt=void 0,Nt=void 0,Gt=void 0,Bt=void 0;if(C)for(qt=0,Wt=jt.length;qt<Wt;++qt)Nt=(Bt=jt[qt])[4],Gt=this.getTextImage(Nt,E,"",C),g=Bt[2]+wt,x=Tt*Gt.height+2*(.5-Tt)*wt-bt,this.replayImage_(h,Bt[0],Bt[1],Gt,g,x,I,Gt.height,1,0,0,Bt[3],Et,!1,Gt.width,l.defaultPadding,null,null);if(A)for(qt=0,Wt=jt.length;qt<Wt;++qt)Nt=(Bt=jt[qt])[4],Gt=this.getTextImage(Nt,E,A,""),g=Bt[2],x=Tt*Gt.height-bt,this.replayImage_(h,Bt[0],Bt[1],Gt,g,x,I,Gt.height,1,0,0,Bt[3],Et,!1,Gt.width,l.defaultPadding,null,null)}}this.declutterItems.push(this,I,R),++O;break;case n.default.END_GEOMETRY:if(void 0!==f){var Ft=f(R=H[1]);if(Ft)return Ft}++O;break;case n.default.FILL:Y?j++:this.fill_(h),++O;break;case n.default.MOVE_TO_LINE_TO:for(P=H[1],_=H[2],L=v[P],S=(M=v[P+1])+.5|0,(T=L+.5|0)===m&&S===y||(h.moveTo(L,M),m=T,y=S),P+=2;P<_;P+=2)T=(L=v[P])+.5|0,S=(M=v[P+1])+.5|0,P!=_-2&&T===m&&S===y||(h.lineTo(L,M),m=T,y=S);++O;break;case n.default.SET_FILL_STYLE:W=H,this.alignFill_=H[2],j&&(this.fill_(h),j=0,q&&(h.stroke(),q=0)),h.fillStyle=H[1],++O;break;case n.default.SET_STROKE_STYLE:N=H,q&&(h.stroke(),q=0),this.setStrokeStyle_(h,H),++O;break;case n.default.STROKE:Y?q++:h.stroke(),++O;break;default:++O}}j&&this.fill_(h),q&&h.stroke()},c.prototype.execute=function(t,e,i,a){this.viewRotation_=i,this.execute_(t,e,this.instructions,a,void 0,void 0)},c.prototype.executeHitDetection=function(t,e,i,a,r){return this.viewRotation_=i,this.execute_(t,e,this.hitDetectionInstructions,!0,a,r)},c}(u.default),T=y;exports.default=T;
},{"../../array.js":"luEr","../../extent.js":"QDir","../../geom/flat/length.js":"ZZrx","../../geom/flat/textpath.js":"JxN9","../../geom/flat/transform.js":"LGwr","../canvas.js":"iAG7","./Instruction.js":"kTJv","./TextBuilder.js":"DEzw","../../transform.js":"P4eA","../../dom.js":"Xno5","../../Disposable.js":"DDda","rbush":"XGea"}],"ngEc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCircleArray=d,exports.replayDeclutter=x,exports.default=void 0;var e=require("../../array.js"),t=require("../../dom.js"),r=require("../../extent.js"),o=require("../../geom/flat/transform.js"),n=require("../../obj.js"),i=c(require("./BuilderType.js")),a=require("../../transform.js"),s=c(require("./Executor.js")),u=c(require("../../Disposable.js"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=[i.default.POLYGON,i.default.CIRCLE,i.default.LINE_STRING,i.default.IMAGE,i.default.TEXT,i.default.DEFAULT],h=function(u){function c(e,t,r,o,n,i){var s=u.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=r,s.resolution_=t,s.renderBuffer_=i,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=(0,a.create)(),s.createExecutors_(n),s}return f(c,u),c.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},c.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var o=e[t];for(var n in o){var i=o[n];r[n]=new s.default(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},c.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var t=this.executorsByZIndex_[e];for(var r in t)t[r].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=0,o.height=0}u.prototype.disposeInternal.call(this)},c.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],o=0,n=e.length;o<n;++o)if(e[o]in r)return!0;return!1},c.prototype.forEachFeatureAtCoordinate=function(o,n,s,u,c,f){var h=2*(u=Math.round(u))+1,p=(0,a.compose)(this.hitDetectionTransform_,u+.5,u+.5,1/n,-1/n,-s,-o[0],-o[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,t.createCanvasContext2D)(h,h));var v,x=this.hitDetectionContext_;x.canvas.width!==h||x.canvas.height!==h?(x.canvas.width=h,x.canvas.height=h):x.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(v=(0,r.createEmpty)(),(0,r.extendCoordinate)(v,o),(0,r.buffer)(v,n*(this.renderBuffer_+u),v));var _,y=d(u);function m(e){for(var t=x.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var o=0;o<h;o++)if(y[r][o]&&t[4*(o*h+r)+3]>0){var n=void 0;return(!f||_!=i.default.IMAGE&&_!=i.default.TEXT||-1!==f.indexOf(e))&&(n=c(e)),n||void x.clearRect(0,0,h,h)}}var I,g,E,C,b,j=Object.keys(this.executorsByZIndex_).map(Number);for(j.sort(e.numberSafeCompareFunction),I=j.length-1;I>=0;--I){var B=j[I].toString();for(E=this.executorsByZIndex_[B],g=l.length-1;g>=0;--g)if(void 0!==(C=E[_=l[g]])&&(b=C.executeHitDetection(x,p,s,m,v)))return b}},c.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],n=t[1],i=t[2],a=t[3],s=[r,n,r,a,i,a,i,n];return(0,o.transform2D)(s,0,8,2,e,s),s},c.prototype.isEmpty=function(){return(0,n.isEmpty)(this.executorsByZIndex_)},c.prototype.execute=function(t,r,o,n,a,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(e.numberSafeCompareFunction),this.maxExtent_&&(t.save(),this.clip(t,r));var c,f,h,p,v,d,x=a||l;for(c=0,f=u.length;c<f;++c){var _=u[c].toString();for(v=this.executorsByZIndex_[_],h=0,p=x.length;h<p;++h){var y=x[h];if(void 0!==(d=v[y]))if(!s||y!=i.default.IMAGE&&y!=i.default.TEXT)d.execute(t,r,o,n);else{var m=s[_];m?m.push(d,r.slice(0)):s[_]=[d,r.slice(0)]}}}this.maxExtent_&&t.restore()},c}(u.default),p={0:[[!0]]};function v(e,t,r){var o,n=Math.floor(e.length/2);if(t>=n)for(o=n;o<t;o++)e[o][r]=!0;else if(t<n)for(o=t+1;o<n;o++)e[o][r]=!0}function d(e){if(void 0!==p[e])return p[e];for(var t=2*e+1,r=new Array(t),o=0;o<t;o++)r[o]=new Array(t);for(var n=e,i=0,a=0;n>=i;)v(r,e+n,e+i),v(r,e+i,e+n),v(r,e-i,e+n),v(r,e-n,e+i),v(r,e-n,e-i),v(r,e-i,e-n),v(r,e+i,e-n),v(r,e+n,e-i),2*((a+=1+2*++i)-n)+1>0&&(a+=1-2*(n-=1));return p[e]=r,r}function x(t,r,o,n,i,a){for(var s=Object.keys(t).map(Number).sort(e.numberSafeCompareFunction),u=0,c=s.length;u<c;++u)for(var f=t[s[u].toString()],l=void 0,h=0,p=f.length;h<p;){var v=f[h++];v!==l&&(l=v,a.push({items:v.declutterItems,opacity:n}));var d=f[h++];v.execute(r,d,o,i)}}var _=h;exports.default=_;
},{"../../array.js":"luEr","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/transform.js":"LGwr","../../obj.js":"mH6q","./BuilderType.js":"irm1","../../transform.js":"P4eA","./Executor.js":"pZKE","../../Disposable.js":"DDda"}],"EB6P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=function(t){function e(e,r,n,o){var u=t.call(this,e)||this;return u.inversePixelTransform=r,u.frameState=n,u.context=o,u}return r(e,t),e}(t.default),o=n;exports.default=o;
},{"../events/Event.js":"fKNg"}],"fpOz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=a(require("../ImageState.js")),r=a(require("../Observable.js")),n=a(require("../events/EventType.js")),o=a(require("../source/State.js"));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(r){function a(e){var t=r.call(this)||this;return t.boundHandleImageChange_=t.handleImageChange_.bind(t),t.layer_=e,t}return u(a,r),a.prototype.getFeatures=function(t){return(0,e.abstract)()},a.prototype.prepareFrame=function(t){return(0,e.abstract)()},a.prototype.renderFrame=function(t,r){return(0,e.abstract)()},a.prototype.loadedTileCallback=function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r},a.prototype.createLoadedTileFinder=function(e,t,r){return function(n,o){var a=this.loadedTileCallback.bind(this,r,n);return e.forEachLoadedTile(t,n,o,a)}.bind(this)},a.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,o){},a.prototype.getDataAtPixel=function(t,r,n){return(0,e.abstract)()},a.prototype.getLayer=function(){return this.layer_},a.prototype.handleFontsChanged=function(){},a.prototype.handleImageChange_=function(e){e.target.getState()===t.default.LOADED&&this.renderIfReadyAndVisible()},a.prototype.loadImage=function(e){var r=e.getState();return r!=t.default.LOADED&&r!=t.default.ERROR&&e.addEventListener(n.default.CHANGE,this.boundHandleImageChange_),r==t.default.IDLE&&(e.load(),r=e.getState()),r==t.default.LOADED},a.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==o.default.READY&&e.changed()},a}(r.default),d=i;exports.default=d;
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../Observable.js":"IdSm","../events/EventType.js":"C8cu","../source/State.js":"iC8j"}],"vPfl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../extent.js"),e=require("../../dom.js"),r=s(require("../../render/Event.js")),n=s(require("../../render/EventType.js")),o=require("../../render/canvas.js"),a=s(require("../Layer.js")),i=require("../../transform.js");function s(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(a){function s(t){var r=a.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform_=(0,i.create)(),r.pixelTransform=(0,i.create)(),r.inversePixelTransform=(0,i.create)(),r.context=null,r.containerReused=!1,r.createTransformStringCanvas_=(0,e.createCanvasContext2D)(1,1).canvas,r}return p(s,a),s.prototype.useContainer=function(t,r,n){var o,a,i=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===i&&((p=t.firstElementChild)instanceof HTMLCanvasElement&&(a=p.getContext("2d")));if(a&&a.canvas.style.transform===r?(this.container=t,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement("div")).className=i;var s=o.style;s.position="absolute",s.width="100%",s.height="100%";var p=(a=(0,e.createCanvasContext2D)()).canvas;o.appendChild(p),(s=p.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=o,this.context=a}},s.prototype.clip=function(e,r,n){var a=r.pixelRatio,s=r.size[0]*a/2,p=r.size[1]*a/2,l=r.viewState.rotation,c=(0,t.getTopLeft)(n),u=(0,t.getTopRight)(n),f=(0,t.getBottomRight)(n),d=(0,t.getBottomLeft)(n);(0,i.apply)(r.coordinateToPixelTransform,c),(0,i.apply)(r.coordinateToPixelTransform,u),(0,i.apply)(r.coordinateToPixelTransform,f),(0,i.apply)(r.coordinateToPixelTransform,d),e.save(),(0,o.rotateAtOffset)(e,-l,s,p),e.beginPath(),e.moveTo(c[0]*a,c[1]*a),e.lineTo(u[0]*a,u[1]*a),e.lineTo(f[0]*a,f[1]*a),e.lineTo(d[0]*a,d[1]*a),e.clip(),(0,o.rotateAtOffset)(e,l,s,p)},s.prototype.clipUnrotated=function(e,r,n){var o=(0,t.getTopLeft)(n),a=(0,t.getTopRight)(n),s=(0,t.getBottomRight)(n),p=(0,t.getBottomLeft)(n);(0,i.apply)(r.coordinateToPixelTransform,o),(0,i.apply)(r.coordinateToPixelTransform,a),(0,i.apply)(r.coordinateToPixelTransform,s),(0,i.apply)(r.coordinateToPixelTransform,p);var l=this.inversePixelTransform;(0,i.apply)(l,o),(0,i.apply)(l,a),(0,i.apply)(l,s),(0,i.apply)(l,p),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(p[0]),Math.round(p[1])),e.clip()},s.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){var a=new r.default(t,this.inversePixelTransform,n,e);o.dispatchEvent(a)}},s.prototype.preRender=function(t,e){this.dispatchRenderEvent_(n.default.PRERENDER,t,e)},s.prototype.postRender=function(t,e){this.dispatchRenderEvent_(n.default.POSTRENDER,t,e)},s.prototype.getRenderTransform=function(t,e,r,n,o,a,s){var p=o/2,l=a/2,c=n/e,u=-c,f=-t[0]+s,d=-t[1];return(0,i.compose)(this.tempTransform_,p,l,c,u,-r,f,d)},s.prototype.getDataAtPixel=function(t,e,r){var n,o=(0,i.apply)(this.inversePixelTransform,t.slice()),a=this.context;try{n=a.getImageData(Math.round(o[0]),Math.round(o[1]),1,1).data}catch(s){return"SecurityError"===s.name?new Uint8Array:n}return 0===n[3]?null:n},s.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=(0,i.toString)(t),this.createTransformStringCanvas_.style.transform},s}(a.default),c=l;exports.default=c;
},{"../../extent.js":"QDir","../../dom.js":"Xno5","../../render/Event.js":"EB6P","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../Layer.js":"fpOz","../../transform.js":"P4eA"}],"UCah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOrder=u,exports.getSquaredTolerance=n,exports.getTolerance=g,exports.renderFeature=o;var e=require("../util.js"),t=l(require("../ImageState.js")),r=l(require("../geom/GeometryType.js")),a=l(require("../render/canvas/BuilderType.js"));function l(e){return e&&e.__esModule?e:{default:e}}var d=.5,i={Point:c,LineString:v,Polygon:m,MultiPoint:y,MultiLineString:I,MultiPolygon:S,GeometryCollection:s,Circle:f};function u(t,r){return parseInt((0,e.getUid)(t),10)-parseInt((0,e.getUid)(r),10)}function n(e,t){var r=g(e,t);return r*r}function g(e,t){return d*e/t}function f(e,t,r,l){var d=r.getFill(),i=r.getStroke();if(d||i){var u=e.getBuilder(r.getZIndex(),a.default.CIRCLE);u.setFillStrokeStyle(d,i),u.drawCircle(t,l)}var n=r.getText();if(n){var g=e.getBuilder(r.getZIndex(),a.default.TEXT);g.setTextStyle(n,e.addDeclutter(!1)),g.drawText(t,l)}}function o(e,r,a,l,d,i){var u=!1,n=a.getImage();if(n){var g=n.getImageState();g==t.default.LOADED||g==t.default.ERROR?n.unlistenImageChange(d):(g==t.default.IDLE&&n.load(),g=n.getImageState(),n.listenImageChange(d),u=!0)}return T(e,r,a,l,i),u}function T(e,t,r,a,l){var d=r.getGeometryFunction()(t);if(d){var u=d.simplifyTransformed(a,l);if(r.getRenderer())x(e,u,r,t);else(0,i[u.getType()])(e,u,r,t)}}function x(e,t,l,d){if(t.getType()!=r.default.GEOMETRY_COLLECTION)e.getBuilder(l.getZIndex(),a.default.DEFAULT).drawCustom(t,d,l.getRenderer());else for(var i=t.getGeometries(),u=0,n=i.length;u<n;++u)x(e,i[u],l,d)}function s(e,t,r,a){var l,d,u=t.getGeometriesArray();for(l=0,d=u.length;l<d;++l){(0,i[u[l].getType()])(e,u[l],r,a)}}function v(e,t,r,l){var d=r.getStroke();if(d){var i=e.getBuilder(r.getZIndex(),a.default.LINE_STRING);i.setFillStrokeStyle(null,d),i.drawLineString(t,l)}var u=r.getText();if(u){var n=e.getBuilder(r.getZIndex(),a.default.TEXT);n.setTextStyle(u,e.addDeclutter(!1)),n.drawText(t,l)}}function I(e,t,r,l){var d=r.getStroke();if(d){var i=e.getBuilder(r.getZIndex(),a.default.LINE_STRING);i.setFillStrokeStyle(null,d),i.drawMultiLineString(t,l)}var u=r.getText();if(u){var n=e.getBuilder(r.getZIndex(),a.default.TEXT);n.setTextStyle(u,e.addDeclutter(!1)),n.drawText(t,l)}}function S(e,t,r,l){var d=r.getFill(),i=r.getStroke();if(i||d){var u=e.getBuilder(r.getZIndex(),a.default.POLYGON);u.setFillStrokeStyle(d,i),u.drawMultiPolygon(t,l)}var n=r.getText();if(n){var g=e.getBuilder(r.getZIndex(),a.default.TEXT);g.setTextStyle(n,e.addDeclutter(!1)),g.drawText(t,l)}}function c(e,r,l,d){var i=l.getImage();if(i){if(i.getImageState()!=t.default.LOADED)return;var u=e.getBuilder(l.getZIndex(),a.default.IMAGE);u.setImageStyle(i,e.addDeclutter(!1)),u.drawPoint(r,d)}var n=l.getText();if(n){var g=e.getBuilder(l.getZIndex(),a.default.TEXT);g.setTextStyle(n,e.addDeclutter(!!i)),g.drawText(r,d)}}function y(e,r,l,d){var i=l.getImage();if(i){if(i.getImageState()!=t.default.LOADED)return;var u=e.getBuilder(l.getZIndex(),a.default.IMAGE);u.setImageStyle(i,e.addDeclutter(!1)),u.drawMultiPoint(r,d)}var n=l.getText();if(n){var g=e.getBuilder(l.getZIndex(),a.default.TEXT);g.setTextStyle(n,e.addDeclutter(!!i)),g.drawText(r,d)}}function m(e,t,r,l){var d=r.getFill(),i=r.getStroke();if(d||i){var u=e.getBuilder(r.getZIndex(),a.default.POLYGON);u.setFillStrokeStyle(d,i),u.drawPolygon(t,l)}var n=r.getText();if(n){var g=e.getBuilder(r.getZIndex(),a.default.TEXT);g.setTextStyle(n,e.addDeclutter(!1)),g.drawText(t,l)}}
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../geom/GeometryType.js":"lmV0","../render/canvas/BuilderType.js":"irm1"}],"fo6K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),s=h(require("../../geom/GeometryType.js")),a=require("../../geom/SimpleGeometry.js"),o=require("../../geom/flat/transform.js"),n=h(require("../VectorContext.js")),r=require("../canvas.js"),l=require("../../transform.js");function h(t){return t&&t.__esModule?t:{default:t}}var _=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),f=function(n){function h(t,e,i,s,a,o,r){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=e,h.extent_=i,h.transform_=s,h.viewRotation_=a,h.squaredTolerance_=o,h.userTransform_=r,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=0,h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=0,h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=(0,l.create)(),h}return _(h,n),h.prototype.drawImages_=function(t,e,i,s){if(this.image_){var a=(0,o.transform2D)(t,e,i,2,this.transform_,this.pixelCoordinates_),n=this.context_,r=this.tmpLocalTransform_,h=n.globalAlpha;1!=this.imageOpacity_&&(n.globalAlpha=h*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var f=0,g=a.length;f<g;f+=2){var S=a[f]-this.imageAnchorX_,x=a[f+1]-this.imageAnchorY_;if(0!==_||1!=this.imageScale_){var d=S+this.imageAnchorX_,m=x+this.imageAnchorY_;(0,l.compose)(r,d,m,this.imageScale_,this.imageScale_,_,-d,-m),n.setTransform.apply(n,r)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,S,x,this.imageWidth_,this.imageHeight_)}0===_&&1==this.imageScale_||n.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(n.globalAlpha=h)}},h.prototype.drawText_=function(t,e,i,s){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),n=this.context_,r=this.textRotation_;for(this.textRotateWithView_&&(r+=this.viewRotation_);e<i;e+=s){var h=a[e]+this.textOffsetX_,_=a[e+1]+this.textOffsetY_;if(0!==r||1!=this.textScale_){var f=(0,l.compose)(this.tmpLocalTransform_,h,_,this.textScale_,this.textScale_,r,-h,-_);n.setTransform.apply(n,f)}this.textStrokeState_&&n.strokeText(this.text_,h,_),this.textFillState_&&n.fillText(this.text_,h,_)}0===r&&1==this.textScale_||n.setTransform(1,0,0,1,0,0)}},h.prototype.moveToLineTo_=function(t,e,i,s,a){var n=this.context_,r=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_);n.moveTo(r[0],r[1]);var l=r.length;a&&(l-=2);for(var h=2;h<l;h+=2)n.lineTo(r[h],r[h+1]);return a&&n.closePath(),i},h.prototype.drawRings_=function(t,e,i,s){for(var a=0,o=i.length;a<o;++a)e=this.moveToLineTo_(t,e,i[a],s,!0);return e},h.prototype.drawCircle=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,a.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),s=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(s*s+o*o),r=this.context_;r.beginPath(),r.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},h.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},h.prototype.setTransform=function(t){this.transform_=t},h.prototype.drawGeometry=function(t){switch(t.getType()){case s.default.POINT:this.drawPoint(t);break;case s.default.LINE_STRING:this.drawLineString(t);break;case s.default.POLYGON:this.drawPolygon(t);break;case s.default.MULTI_POINT:this.drawMultiPoint(t);break;case s.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.default.CIRCLE:this.drawCircle(t)}},h.prototype.drawFeature=function(t,e){var s=e.getGeometryFunction()(t);s&&(0,i.intersects)(this.extent_,s.getExtent())&&(this.setStyle(e),this.drawGeometry(s))},h.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,s=e.length;i<s;++i)this.drawGeometry(e[i])},h.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},h.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},h.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},h.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,i.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var s=this.context_,a=t.getFlatCoordinates(),o=0,n=t.getEnds(),r=t.getStride();s.beginPath();for(var l=0,h=n.length;l<h;++l)o=this.moveToLineTo_(a,o,n[l],r,!1);s.stroke()}if(""!==this.text_){var _=t.getFlatMidpoints();this.drawText_(_,0,_.length,2)}}},h.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var s=t.getFlatInteriorPoint();this.drawText_(s,0,2,2)}}},h.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),n=t.getStride();e.beginPath();for(var r=0,l=o.length;r<l;++r){var h=o[r];a=this.drawRings_(s,a,h,n)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var _=t.getFlatInteriorPoints();this.drawText_(_,0,_.length,2)}}},h.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},h.prototype.setContextStrokeState_=function(e){var i=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=e.lineCap&&(s.lineCap=e.lineCap,i.lineCap=e.lineCap),i.setLineDash&&((0,t.equals)(s.lineDash,e.lineDash)||i.setLineDash(s.lineDash=e.lineDash),s.lineDashOffset!=e.lineDashOffset&&(s.lineDashOffset=e.lineDashOffset,i.lineDashOffset=e.lineDashOffset)),s.lineJoin!=e.lineJoin&&(s.lineJoin=e.lineJoin,i.lineJoin=e.lineJoin),s.lineWidth!=e.lineWidth&&(s.lineWidth=e.lineWidth,i.lineWidth=e.lineWidth),s.miterLimit!=e.miterLimit&&(s.miterLimit=e.miterLimit,i.miterLimit=e.miterLimit),s.strokeStyle!=e.strokeStyle&&(s.strokeStyle=e.strokeStyle,i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,i.setLineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},h.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:r.defaultTextAlign;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=s&&(i.textAlign=s,e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})},h.prototype.setFillStrokeStyle=function(t,i){if(t){var s=t.getColor();this.fillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.fillState_=null;if(i){var a=i.getColor(),o=i.getLineCap(),n=i.getLineDash(),l=i.getLineDashOffset(),h=i.getLineJoin(),_=i.getWidth(),f=i.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:r.defaultLineCap,lineDash:n||r.defaultLineDash,lineDashOffset:l||r.defaultLineDashOffset,lineJoin:void 0!==h?h:r.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==_?_:r.defaultLineWidth),miterLimit:void 0!==f?f:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(a||r.defaultStrokeStyle)}}else this.strokeState_=null},h.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),s=t.getOrigin(),a=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=a[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=a[0]}else this.image_=null},h.prototype.setTextStyle=function(t){if(t){var i=t.getFill();if(i){var s=i.getColor();this.textFillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.textFillState_=null;var a=t.getStroke();if(a){var o=a.getColor(),n=a.getLineCap(),l=a.getLineDash(),h=a.getLineDashOffset(),_=a.getLineJoin(),f=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:r.defaultLineCap,lineDash:l||r.defaultLineDash,lineDashOffset:h||r.defaultLineDashOffset,lineJoin:void 0!==_?_:r.defaultLineJoin,lineWidth:void 0!==f?f:r.defaultLineWidth,miterLimit:void 0!==g?g:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(o||r.defaultStrokeStyle)}}else this.textStrokeState_=null;var S=t.getFont(),x=t.getOffsetX(),d=t.getOffsetY(),m=t.getRotateWithView(),c=t.getRotation(),u=t.getScale(),p=t.getText(),y=t.getTextAlign(),T=t.getTextBaseline();this.textState_={font:void 0!==S?S:r.defaultFont,textAlign:void 0!==y?y:r.defaultTextAlign,textBaseline:void 0!==T?T:r.defaultTextBaseline},this.text_=void 0!==p?p:"",this.textOffsetX_=void 0!==x?this.pixelRatio_*x:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==c?c:0,this.textScale_=this.pixelRatio_*(void 0!==u?u:1)}else this.text_=""},h}(n.default),g=f;exports.default=g;
},{"../../array.js":"luEr","../../colorlike.js":"V5XN","../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../../geom/SimpleGeometry.js":"pnrv","../../geom/flat/transform.js":"LGwr","../VectorContext.js":"LQER","../canvas.js":"iAG7","../../transform.js":"P4eA"}],"Rlas":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={FRACTION:"fraction",PIXELS:"pixels"};exports.default=e;
},{}],"V0oB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shared=exports.default=void 0;var e=require("../color.js"),t=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,c){var r=i(e,t,c);return r in this.cache_?this.cache_[r]:null},e.prototype.set=function(e,t,c,r){var a=i(e,t,c);this.cache_[a]=r,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function i(t,i,c){return i+":"+t+":"+(c?(0,e.asString)(c):"null")}var c=t;exports.default=c;var r=new t;exports.shared=r;
},{"../color.js":"eucy"}],"Ojbp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./events/Target.js")),o=r(require("./events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),u=function(e){function r(t,o,r,n){var u=e.call(this)||this;return u.extent=t,u.pixelRatio_=r,u.resolution=o,u.state=n,u}return n(r,e),r.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return(0,t.abstract)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){(0,t.abstract)()},r}(e.default),i=u;exports.default=i;
},{"./util.js":"KniQ","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu"}],"f3Nv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IMAGE_DECODE=exports.DEVICE_PIXEL_RATIO=exports.MAC=exports.WEBKIT=exports.SAFARI=exports.FIREFOX=void 0;var e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==e.indexOf("firefox");exports.FIREFOX=o;var r=-1!==e.indexOf("safari")&&-1==e.indexOf("chrom");exports.SAFARI=r;var t=-1!==e.indexOf("webkit")&&-1==e.indexOf("edge");exports.WEBKIT=t;var i=-1!==e.indexOf("macintosh");exports.MAC=i;var x=window.devicePixelRatio||1;exports.DEVICE_PIXEL_RATIO=x;var s="undefined"!=typeof Image&&Image.prototype.decode;exports.IMAGE_DECODE=s;
},{}],"DHWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listenImage=h,exports.default=void 0;var t=a(require("./ImageBase.js")),e=a(require("./ImageState.js")),n=require("./events.js"),i=a(require("./events/EventType.js")),r=require("./extent.js"),s=require("./has.js");function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=function(t){function n(n,i,r,s,a,o){var u=t.call(this,n,i,r,e.default.IDLE)||this;return u.src_=s,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.state=e.default.IDLE,u.imageLoadFunction_=o,u}return o(n,t),n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,r.getHeight)(this.extent)/this.image_.height),this.state=e.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=e.default.IDLE&&this.state!=e.default.ERROR||(this.state=e.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=h(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},n.prototype.setImage=function(t){this.image_=t},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(t.default);function h(t,e,r){var a=t;if(a.src&&s.IMAGE_DECODE){var o=a.decode(),u=!0;return o.then(function(){u&&e()}).catch(function(t){u&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():r())}),function(){u=!1}}var h=[(0,n.listenOnce)(a,i.default.LOAD,e),(0,n.listenOnce)(a,i.default.ERROR,r)];return function(){h.forEach(n.unlistenByKey)}}var l=u;exports.default=l;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3kG","./events.js":"UqnM","./events/EventType.js":"C8cu","./extent.js":"QDir","./has.js":"f3Nv"}],"XCOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=_,exports.default=void 0;var t=require("../dom.js"),e=r(require("../events/Target.js")),i=r(require("../events/EventType.js")),a=r(require("../ImageState.js")),n=require("./IconImageCache.js"),s=require("../Image.js");function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),h=function(e){function n(t,i,a,n,s,r){var o=e.call(this)||this;return o.hitDetectionImage_=null,o.image_=t||new Image,null!==n&&(o.image_.crossOrigin=n),o.canvas_=r?document.createElement("canvas"):null,o.color_=r,o.unlisten_=null,o.imageState_=s,o.size_=a,o.src_=i,o.tainted_,o}return o(n,e),n.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.default.LOADED){this.tainted_=!1;var e=(0,t.createCanvasContext2D)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(i){this.tainted_=!0}}return!0===this.tainted_},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.default.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=a.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=a.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.isTainted_()){var i=this.size_[0],a=this.size_[1],n=(0,t.createCanvasContext2D)(i,a);n.fillRect(0,0,i,a),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==a.default.IDLE){this.imageState_=a.default.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,s.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,a=this.color_[0]/255,n=this.color_[1]/255,s=this.color_[2]/255,r=0,o=i.length;r<o;r+=4)i[r]*=a,i[r+1]*=n,i[r+2]*=s;t.putImageData(e,0,0)}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(e.default);function _(t,e,i,a,s,r){var o=n.shared.get(e,a,r);return o||(o=new h(t,e,i,a,s,r),n.shared.set(e,a,r,o)),o}var c=h;exports.default=c;
},{"../dom.js":"Xno5","../events/Target.js":"CR4Y","../events/EventType.js":"C8cu","../ImageState.js":"u3kG","./IconImageCache.js":"V0oB","../Image.js":"DHWK"}],"z2xv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=h(require("../ImageState.js")),e=require("../asserts.js"),o=require("../color.js"),r=h(require("../events/EventType.js")),n=h(require("./IconAnchorUnits.js")),s=require("./IconImage.js"),a=h(require("./IconOrigin.js")),c=h(require("./Image.js"));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function o(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),l=function(c){function h(r){var h=this,u=r||{},l=void 0!==u.opacity?u.opacity:1,f=void 0!==u.rotation?u.rotation:0,g=void 0!==u.scale?u.scale:1,_=void 0!==u.rotateWithView&&u.rotateWithView;(h=c.call(this,{opacity:l,rotation:f,scale:g,rotateWithView:_})||this).anchor_=void 0!==u.anchor?u.anchor:[.5,.5],h.normalizedAnchor_=null,h.anchorOrigin_=void 0!==u.anchorOrigin?u.anchorOrigin:a.default.TOP_LEFT,h.anchorXUnits_=void 0!==u.anchorXUnits?u.anchorXUnits:n.default.FRACTION,h.anchorYUnits_=void 0!==u.anchorYUnits?u.anchorYUnits:n.default.FRACTION,h.crossOrigin_=void 0!==u.crossOrigin?u.crossOrigin:null;var d=void 0!==u.img?u.img:null,O=void 0!==u.imgSize?u.imgSize:null,p=u.src;(0,e.assert)(!(void 0!==p&&d),4),(0,e.assert)(!d||d&&O,5),void 0!==p&&0!==p.length||!d||(p=d.src||(0,t.getUid)(d)),(0,e.assert)(void 0!==p&&p.length>0,6);var I=void 0!==u.src?i.default.IDLE:i.default.LOADED;return h.color_=void 0!==u.color?(0,o.asArray)(u.color):null,h.iconImage_=(0,s.get)(d,p,O,h.crossOrigin_,I,h.color_),h.offset_=void 0!==u.offset?u.offset:[0,0],h.offsetOrigin_=void 0!==u.offsetOrigin?u.offsetOrigin:a.default.TOP_LEFT,h.origin_=null,h.size_=void 0!==u.size?u.size:null,h}return u(h,c),h.prototype.clone=function(){return new h({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},h.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,i=this.getSize();if(this.anchorXUnits_==n.default.FRACTION||this.anchorYUnits_==n.default.FRACTION){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==n.default.FRACTION&&(t[0]*=i[0]),this.anchorYUnits_==n.default.FRACTION&&(t[1]*=i[1])}if(this.anchorOrigin_!=a.default.TOP_LEFT){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=a.default.TOP_RIGHT&&this.anchorOrigin_!=a.default.BOTTOM_RIGHT||(t[0]=-t[0]+i[0]),this.anchorOrigin_!=a.default.BOTTOM_LEFT&&this.anchorOrigin_!=a.default.BOTTOM_RIGHT||(t[1]=-t[1]+i[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},h.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},h.prototype.getColor=function(){return this.color_},h.prototype.getImage=function(t){return this.iconImage_.getImage(t)},h.prototype.getImageSize=function(){return this.iconImage_.getSize()},h.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},h.prototype.getImageState=function(){return this.iconImage_.getImageState()},h.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},h.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=a.default.TOP_LEFT){var i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),this.offsetOrigin_!=a.default.TOP_RIGHT&&this.offsetOrigin_!=a.default.BOTTOM_RIGHT||(t[0]=e[0]-i[0]-t[0]),this.offsetOrigin_!=a.default.BOTTOM_LEFT&&this.offsetOrigin_!=a.default.BOTTOM_RIGHT||(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_},h.prototype.getSrc=function(){return this.iconImage_.getSrc()},h.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},h.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(r.default.CHANGE,t)},h.prototype.load=function(){this.iconImage_.load()},h.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(r.default.CHANGE,t)},h}(c.default),f=l;exports.default=f;
},{"../util.js":"KniQ","../ImageState.js":"u3kG","../asserts.js":"fLG6","../color.js":"eucy","../events/EventType.js":"C8cu","./IconAnchorUnits.js":"Rlas","./IconImage.js":"XCOy","./IconOrigin.js":"urGY","./Image.js":"S8ow"}],"RPsG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Fill.js")),e=o(require("./TextPlacement.js"));function o(t){return t&&t.__esModule?t:{default:t}}var i="#333",n=function(){function o(o){var n=o||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.text_=n.text,this.textAlign_=n.textAlign,this.textBaseline_=n.textBaseline,this.fill_=void 0!==n.fill?n.fill:new t.default({color:i}),this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4,this.placement_=void 0!==n.placement?n.placement:e.default.POINT,this.overflow_=!!n.overflow,this.stroke_=void 0!==n.stroke?n.stroke:null,this.offsetX_=void 0!==n.offsetX?n.offsetX:0,this.offsetY_=void 0!==n.offsetY?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=void 0===n.padding?null:n.padding}return o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setRotateWithView=function(t){this.rotateWithView_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},o}(),r=n;exports.default=r;
},{"./Fill.js":"AFcg","./TextPlacement.js":"AXKs"}],"qeKX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Fill",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Icon",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"IconImage",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"RegularShape",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"Stroke",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"Style",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return s.default}});var e=f(require("./style/Circle.js")),t=f(require("./style/Fill.js")),r=f(require("./style/Icon.js")),u=f(require("./style/IconImage.js")),n=f(require("./style/Image.js")),l=f(require("./style/RegularShape.js")),o=f(require("./style/Stroke.js")),i=f(require("./style/Style.js")),s=f(require("./style/Text.js"));function f(e){return e&&e.__esModule?e:{default:e}}
},{"./style/Circle.js":"cdf1","./style/Fill.js":"AFcg","./style/Icon.js":"z2xv","./style/IconImage.js":"XCOy","./style/Image.js":"S8ow","./style/RegularShape.js":"il3X","./style/Stroke.js":"TXDt","./style/Style.js":"he4w","./style/Text.js":"RPsG"}],"MrCe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createHitDetectionImageData=s,exports.hitDetect=g;var e=l(require("./Immediate.js")),t=require("../../dom.js"),a=require("../../style.js"),r=l(require("../../style/IconAnchorUnits.js")),i=l(require("../../geom/GeometryType.js")),n=require("../../extent.js"),o=require("../../array.js");function l(e){return e&&e.__esModule?e:{default:e}}function s(l,s,g,u,c,h,d){var v=l[0]/2,f=l[1]/2,m=(0,t.createCanvasContext2D)(v,f);m.imageSmoothingEnabled=!1;for(var y=m.canvas,I=new e.default(m,.5,c,null,d),p=g.length,S=Math.ceil(16777216/p),w={},x=0;x<p;++x){var C=g[x],j=C.getStyleFunction()||u;if(u){var q=j(C,h);Array.isArray(q)||(q=[q]);for(var E="#"+("000000"+(x*S).toString(16)).slice(-6),M=0,O=q.length;M<O;++M){var b=q[M],D=b.clone(),N=D.getFill();N&&N.setColor(E);var T=D.getStroke();T&&T.setColor(E),D.setText(void 0);var G=b.getImage();if(G){var L=G.getImageSize(),P=document.createElement("canvas");P.width=L[0],P.height=L[1];var R=P.getContext("2d",{alpha:!1});R.fillStyle=E;var _=R.canvas;R.fillRect(0,0,_.width,_.height);var z=L?L[0]:_.width,A=L?L[1]:_.height;(0,t.createCanvasContext2D)(z,A).drawImage(_,0,0),D.setImage(new a.Icon({img:_,imgSize:L,anchor:G.getAnchor(),anchorXUnits:r.default.PIXELS,anchorYUnits:r.default.PIXELS,offset:G.getOrigin(),size:G.getSize(),opacity:G.getOpacity(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}var F=Number(D.getZIndex());(V=w[F])||(V={},w[F]=V,V[i.default.POLYGON]=[],V[i.default.CIRCLE]=[],V[i.default.LINE_STRING]=[],V[i.default.POINT]=[]);var U=D.getGeometryFunction()(C);U&&(0,n.intersects)(c,U.getExtent())&&V[U.getType().replace("Multi","")].push(U,D)}}}for(var X=Object.keys(w).map(Number).sort(o.numberSafeCompareFunction),k=(x=0,X.length);x<k;++x){var V=w[X[x]];for(var W in V){var Y=V[W];for(M=0,O=Y.length;M<O;M+=2){I.setStyle(Y[M+1]);for(var H=0,Z=s.length;H<Z;++H)I.setTransform(s[H]),I.drawGeometry(Y[M])}}}return m.getImageData(0,0,y.width,y.height)}function g(e,t,a){var r=[];if(a){var i=4*(Math.round(e[0]/2)+Math.round(e[1]/2)*a.width),n=a.data[i],o=a.data[i+1],l=a.data[i+2]+256*(o+256*n),s=Math.ceil(16777216/t.length);l%s==0&&r.push(t[l/s])}return r}
},{"./Immediate.js":"fo6K","../../dom.js":"Xno5","../../style.js":"qeKX","../../style/IconAnchorUnits.js":"Rlas","../../geom/GeometryType.js":"lmV0","../../extent.js":"QDir","../../array.js":"luEr"}],"F2e3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=c(require("../../ViewHint.js")),r=require("../../extent.js"),n=require("../../proj.js"),i=c(require("../../render/canvas/BuilderGroup.js")),a=l(require("../../render/canvas/ExecutorGroup.js")),o=c(require("./Layer.js")),s=require("../vector.js"),u=require("../../transform.js"),d=require("../../render/canvas/hitdetect.js");function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(o){function h(e){var t=o.call(this,e)||this;return t.boundHandleStyleImageChange_=t.handleStyleImageChange_.bind(t),t.animatingOrInteracting_,t.dirty_=!1,t.hitDetectionImageData_=null,t.renderedFeatures_=null,t.renderedRevision_=-1,t.renderedResolution_=NaN,t.renderedExtent_=(0,r.createEmpty)(),t.renderedRotation_,t.renderedCenter_=null,t.renderedProjection_=null,t.renderedRenderOrder_=null,t.replayGroup_=null,t.replayGroupChanged=!0,t}return p(h,o),h.prototype.useContainer=function(e,t,r){r<1&&(e=null),o.prototype.useContainer.call(this,e,t,r)},h.prototype.renderFrame=function(e,i){var o=e.pixelRatio,s=e.layerStatesArray[e.layerIndex];(0,u.makeScale)(this.pixelTransform,1/o,1/o),(0,u.makeInverse)(this.inversePixelTransform,this.pixelTransform);var d=(0,u.toString)(this.pixelTransform);this.useContainer(i,d,s.opacity);var h=this.context,l=h.canvas,c=this.replayGroup_;if(!c||c.isEmpty())return!this.containerReused&&l.width>0&&(l.width=0),this.container;var p=Math.round(e.size[0]*o),f=Math.round(e.size[1]*o);l.width!=p||l.height!=f?(l.width=p,l.height=f,l.style.transform!==d&&(l.style.transform=d)):this.containerReused||h.clearRect(0,0,p,f),this.preRender(h,e);var g=e.extent,y=e.viewState,v=y.center,_=y.resolution,m=y.projection,x=y.rotation,I=m.getExtent(),R=this.getLayer().getSource(),j=!1;if(s.extent){var E=(0,n.fromUserExtent)(s.extent,m);(j=!(0,r.containsExtent)(E,e.extent)&&(0,r.intersects)(E,e.extent))&&this.clip(h,e,E)}var F=e.viewHints,w=!(F[t.default.ANIMATING]||F[t.default.INTERACTING]),O=this.getRenderTransform(v,_,x,o,p,f,0),T=this.getLayer().getDeclutter()?{}:null;if(c.execute(h,O,x,w,void 0,T),R.getWrapX()&&m.canWrapX()&&!(0,r.containsExtent)(I,g)){for(var D=g[0],C=(0,r.getWidth)(I),G=0,b=void 0;D<I[0];){b=C*--G;var S=this.getRenderTransform(v,_,x,o,p,f,b);c.execute(h,S,x,w,void 0,T),D+=C}for(G=0,D=g[2];D>I[2];){b=C*++G;var A=this.getRenderTransform(v,_,x,o,p,f,b);c.execute(h,A,x,w,void 0,T),D-=C}}if(T){var P=e.viewHints,N=!(P[t.default.ANIMATING]||P[t.default.INTERACTING]);(0,a.replayDeclutter)(T,h,x,1,N,e.declutterItems)}j&&h.restore(),this.postRender(h,e);var W=s.opacity,q=this.container;return W!==parseFloat(q.style.opacity)&&(q.style.opacity=1===W?"":W),this.container},h.prototype.getFeatures=function(e){return new Promise(function(t,n){this.hitDetectionImageData_||this.animatingOrInteracting_?t((0,d.hitDetect)(e,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];(0,u.apply)(this.pixelTransform,n);var i=this.renderedCenter_,a=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,h=this.renderedExtent_,l=this.getLayer(),c=[],p=n[0]/2,f=n[1]/2;c.push(this.getRenderTransform(i,a,o,.5,p,f,0).slice());var g=l.getSource(),y=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!(0,r.containsExtent)(y,h)){for(var v=h[0],_=(0,r.getWidth)(y),m=0,x=void 0;v<y[0];)x=_*--m,c.push(this.getRenderTransform(i,a,o,.5,p,f,x).slice()),v+=_;for(m=0,v=h[2];v>y[2];)x=_*++m,c.push(this.getRenderTransform(i,a,o,.5,p,f,x).slice()),v-=_}this.hitDetectionImageData_=(0,d.createHitDetectionImageData)(n,c,this.renderedFeatures_,l.getStyleFunction(),h,a,o),t((0,d.hitDetect)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},h.prototype.forEachFeatureAtCoordinate=function(t,r,n,i,a){if(this.replayGroup_){var o=r.viewState.resolution,s=r.viewState.rotation,u=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,n,function(t){var r=(0,e.getUid)(t);if(!(r in d))return d[r]=!0,i(t,u)},u.getDeclutter()?a:null)}},h.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},h.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},h.prototype.prepareFrame=function(e){var o=this.getLayer(),u=o.getSource(),d=e.viewHints[t.default.ANIMATING],h=e.viewHints[t.default.INTERACTING],l=o.getUpdateWhileAnimating(),c=o.getUpdateWhileInteracting();if(!this.dirty_&&!l&&d||!c&&h)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var p=e.extent,f=e.viewState,g=f.projection,y=f.resolution,v=e.pixelRatio,_=o.getRevision(),m=o.getRenderBuffer(),x=o.getRenderOrder();void 0===x&&(x=s.defaultOrder);var I=f.center.slice(),R=(0,r.buffer)(p,m*y),j=f.projection.getExtent();if(u.getWrapX()&&f.projection.canWrapX()&&!(0,r.containsExtent)(j,e.extent)){var E=(0,r.getWidth)(j),F=Math.max((0,r.getWidth)(R)/2,E);R[0]=j[0]-F,R[2]=j[2]+F;var w=Math.floor((I[0]-j[0])/E);I[0]-=w*E}if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==_&&this.renderedRenderOrder_==x&&(0,r.containsExtent)(this.renderedExtent_,R))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var O,T=new i.default((0,s.getTolerance)(y,v),R,y,v,o.getDeclutter()),D=(0,n.getUserProjection)();D?(u.loadFeatures((0,n.toUserExtent)(R,g),y,D),O=(0,n.getTransformFromProjections)(D,g)):u.loadFeatures(R,y,g);var C=(0,s.getSquaredTolerance)(y,v),G=function(e){var t,r=e.getStyleFunction()||o.getStyleFunction();if(r&&(t=r(e,y)),t){var n=this.renderFeature(e,C,t,T,O);this.dirty_=this.dirty_||n}}.bind(this),b=(0,n.toUserExtent)(R,g),S=u.getFeaturesInExtent(b);x&&S.sort(x);for(var A=0,P=S.length;A<P;++A)G(S[A]);this.renderedFeatures_=S;var N=T.finish(),W=new a.default(R,y,v,u.getOverlaps(),N,o.getRenderBuffer());return this.renderedResolution_=y,this.renderedRevision_=_,this.renderedRenderOrder_=x,this.renderedExtent_=R,this.renderedRotation_=f.rotation,this.renderedCenter_=I,this.renderedProjection_=g,this.replayGroup_=W,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},h.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var o=0,u=r.length;o<u;++o)a=(0,s.renderFeature)(n,e,r[o],t,this.boundHandleStyleImageChange_,i)||a;else a=(0,s.renderFeature)(n,e,r,t,this.boundHandleStyleImageChange_,i);return a},h}(o.default),g=f;exports.default=g;
},{"../../util.js":"KniQ","../../ViewHint.js":"cuLW","../../extent.js":"QDir","../../proj.js":"Diht","../../render/canvas/BuilderGroup.js":"vqHd","../../render/canvas/ExecutorGroup.js":"ngEc","./Layer.js":"vPfl","../vector.js":"UCah","../../transform.js":"P4eA","../../render/canvas/hitdetect.js":"MrCe"}],"dflx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./BaseVector.js")),e=r(require("../renderer/canvas/VectorLayer.js"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(t){function r(e){return t.call(this,e)||this}return n(r,t),r.prototype.createRenderer=function(){return new e.default(this)},r}(t.default),u=o;exports.default=u;
},{"./BaseVector.js":"pskK","../renderer/canvas/VectorLayer.js":"F2e3"}],"AiCK":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=void 0!==t?e.toFixed(t):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>r?n:new Array(1+r-i).join("0")+n}function r(e,r){for(var t=(""+e).split("."),n=(""+r).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.padNumber=e,exports.compareVersions=r;
},{}],"nGsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.closestOnCircle=n,exports.closestOnSegment=o,exports.createStringXY=u,exports.degreesToStringHDMS=s,exports.format=a,exports.equals=i,exports.rotate=c,exports.scale=f,exports.squaredDistance=p,exports.distance=x,exports.squaredDistanceToSegment=d,exports.toStringHDMS=l,exports.toStringXY=h;var t=require("./math.js"),r=require("./string.js");function e(t,r){return t[0]+=+r[0],t[1]+=+r[1],t}function n(t,r){var e=r.getRadius(),n=r.getCenter(),o=n[0],u=n[1],s=t[0]-o,a=t[1]-u;0===s&&0===a&&(s=1);var i=Math.sqrt(s*s+a*a);return[o+e*s/i,u+e*a/i]}function o(t,r){var e,n,o=t[0],u=t[1],s=r[0],a=r[1],i=s[0],c=s[1],f=a[0],p=a[1],x=f-i,d=p-c,l=0===x&&0===d?0:(x*(o-i)+d*(u-c))/(x*x+d*d||0);return l<=0?(e=i,n=c):l>=1?(e=f,n=p):(e=i+l*x,n=c+l*d),[e,n]}function u(t){return function(r){return h(r,t)}}function s(e,n,o){var u=(0,t.modulo)(n+180,360)-180,s=Math.abs(3600*u),a=o||0,i=Math.pow(10,a),c=Math.floor(s/3600),f=Math.floor((s-3600*c)/60),p=s-3600*c-60*f;return(p=Math.ceil(p*i)/i)>=60&&(p=0,f+=1),f>=60&&(f=0,c+=1),c+"° "+(0,r.padNumber)(f,2)+"′ "+(0,r.padNumber)(p,2,a)+"″"+(0==u?"":" "+e.charAt(u<0?1:0))}function a(t,r,e){return t?r.replace("{x}",t[0].toFixed(e)).replace("{y}",t[1].toFixed(e)):""}function i(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function c(t,r){var e=Math.cos(r),n=Math.sin(r),o=t[0]*e-t[1]*n,u=t[1]*e+t[0]*n;return t[0]=o,t[1]=u,t}function f(t,r){return t[0]*=r,t[1]*=r,t}function p(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function x(t,r){return Math.sqrt(p(t,r))}function d(t,r){return p(t,o(t,r))}function l(t,r){return t?s("NS",t[1],r)+" "+s("EW",t[0],r):""}function h(t,r){return a(t,"{x}, {y}",r)}
},{"./math.js":"B96G","./string.js":"AiCK"}],"rDTq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolatePoint=n,exports.lineStringCoordinateAtM=t,exports.lineStringsCoordinateAtM=i;var r=require("../../array.js"),e=require("../../math.js");function n(n,t,i,l,u,a){var f=NaN,s=NaN,o=(i-t)/l;if(1===o)f=n[t],s=n[t+1];else if(2==o)f=(1-u)*n[t]+u*n[t+l],s=(1-u)*n[t+1]+u*n[t+l+1];else if(0!==o){for(var v=n[t],c=n[t+1],p=0,h=[0],g=t+l;g<i;g+=l){var d=n[g],x=n[g+1];p+=Math.sqrt((d-v)*(d-v)+(x-c)*(x-c)),h.push(p),v=d,c=x}var M=u*p,N=(0,r.binarySearch)(h,M);if(N<0){var j=(M-h[-N-2])/(h[-N-1]-h[-N-2]),q=t+(-N-2)*l;f=(0,e.lerp)(n[q],n[q+l],j),s=(0,e.lerp)(n[q+1],n[q+l+1],j)}else f=n[t+N*l],s=n[t+N*l+1]}return a?(a[0]=f,a[1]=s,a):[f,s]}function t(r,n,t,i,l,u){if(t==n)return null;var a;if(l<r[n+i-1])return u?((a=r.slice(n,n+i))[i-1]=l,a):null;if(r[t-1]<l)return u?((a=r.slice(t-i,t))[i-1]=l,a):null;if(l==r[n+i-1])return r.slice(n,n+i);for(var f=n/i,s=t/i;f<s;){var o=f+s>>1;l<r[(o+1)*i-1]?s=o:f=o+1}var v=r[f*i-1];if(l==v)return r.slice((f-1)*i,(f-1)*i+i);var c=(l-v)/(r[(f+1)*i-1]-v);a=[];for(var p=0;p<i-1;++p)a.push((0,e.lerp)(r[(f-1)*i+p],r[f*i+p],c));return a.push(l),a}function i(r,e,n,i,l,u,a){if(a)return t(r,e,n[n.length-1],i,l,u);var f;if(l<r[i-1])return u?((f=r.slice(0,i))[i-1]=l,f):null;if(r[r.length-1]<l)return u?((f=r.slice(r.length-i))[i-1]=l,f):null;for(var s=0,o=n.length;s<o;++s){var v=n[s];if(e!=v){if(l<r[e+i-1])return null;if(l<=r[v-1])return t(r,e,v,i,l,!1);e=v}}return null}
},{"../../array.js":"luEr","../../math.js":"B96G"}],"DfxW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=p(require("./GeometryLayout.js")),o=p(require("./GeometryType.js")),n=p(require("./SimpleGeometry.js")),r=require("./flat/closest.js"),s=require("./flat/deflate.js"),a=require("./flat/inflate.js"),l=require("./flat/interpolate.js"),f=require("./flat/intersectsextent.js"),h=require("./flat/length.js"),d=require("./flat/segments.js"),u=require("./flat/simplify.js");function p(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),C=function(n){function p(t,e){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?i.setCoordinates(t,e):i.setFlatCoordinates(e,t),i}return c(p,n),p.prototype.appendCoordinate=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},p.prototype.clone=function(){return new p(this.flatCoordinates.slice(),this.layout)},p.prototype.closestPointXY=function(t,i,o,n){return n<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,o,n))},p.prototype.forEachSegment=function(t){return(0,d.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM)return null;var o=void 0!==e&&e;return(0,l.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},p.prototype.getCoordinates=function(){return(0,a.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getCoordinateAt=function(t,e){return(0,l.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},p.prototype.getLength=function(){return(0,h.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},p.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new p(e,i.default.XY)},p.prototype.getType=function(){return o.default.LINE_STRING},p.prototype.intersectsExtent=function(t){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},p}(n.default),g=C;exports.default=g;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/length.js":"ZZrx","./flat/segments.js":"U8i0","./flat/simplify.js":"IEpt"}],"AbO3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};exports.default=e;
},{}],"U3JP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadFeaturesXhr=n,exports.xhr=o,exports.setWithCredentials=a;var e=require("./functions.js"),t=r(require("./format/FormatType.js"));function r(e){return e&&e.__esModule?e:{default:e}}var s=!1;function n(e,r,n,o){return function(a,i,u){var f=new XMLHttpRequest;f.open("GET","function"==typeof e?e(a,i,u):e,!0),r.getType()==t.default.ARRAY_BUFFER&&(f.responseType="arraybuffer"),f.withCredentials=s,f.onload=function(e){if(!f.status||f.status>=200&&f.status<300){var s=r.getType(),i=void 0;s==t.default.JSON||s==t.default.TEXT?i=f.responseText:s==t.default.XML?(i=f.responseXML)||(i=(new DOMParser).parseFromString(f.responseText,"application/xml")):s==t.default.ARRAY_BUFFER&&(i=f.response),i?n.call(this,r.readFeatures(i,{extent:a,featureProjection:u}),r.readProjection(i)):o.call(this)}else o.call(this)}.bind(this),f.onerror=function(){o.call(this)}.bind(this),f.send()}}function o(t,r){return n(t,r,function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)},e.VOID)}function a(e){s=e}
},{"./functions.js":"RgA2","./format/FormatType.js":"AbO3"}],"JpXE":[function(require,module,exports) {
"use strict";function e(e,t){return[[-1/0,-1/0,1/0,1/0]]}function t(e,t){return[e]}function r(e){return function(t,r){var n=e.getZForResolution(r),o=e.getTileRangeForExtentAndZ(t,n),u=[],i=[n,0,0];for(i[1]=o.minX;i[1]<=o.maxX;++i[1])for(i[2]=o.minY;i[2]<=o.maxY;++i[2])u.push(e.getTileCoordExtent(i));return u}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=e,exports.bbox=t,exports.tile=r;
},{}],"H38a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),r=n(require("../Object.js")),o=require("../proj.js"),e=n(require("./State.js"));function n(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(r,o)};return function(r,o){function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),u=function(r){function n(t){var n=r.call(this)||this;return n.projection_=(0,o.get)(t.projection),n.attributions_=s(t.attributions),n.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,n.loading=!1,n.state_=void 0!==t.state?t.state:e.default.READY,n.wrapX_=void 0!==t.wrapX&&t.wrapX,n}return i(n,r),n.prototype.getAttributions=function(){return this.attributions_},n.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolutions=function(){return(0,t.abstract)()},n.prototype.getState=function(){return this.state_},n.prototype.getWrapX=function(){return this.wrapX_},n.prototype.refresh=function(){this.changed()},n.prototype.setAttributions=function(t){this.attributions_=s(t),this.changed()},n.prototype.setState=function(t){this.state_=t,this.changed()},n}(r.default);function s(t){return t?Array.isArray(t)?function(r){return t}:"function"==typeof t?t:function(r){return[t]}:null}var a=u;exports.default=a;
},{"../util.js":"KniQ","../Object.js":"PhPh","../proj.js":"Diht","./State.js":"iC8j"}],"s8Fc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};exports.default=e;
},{}],"MiUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("rbush")),r=require("../extent.js"),i=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var o=function(){function n(t){this.rbush_=new e.default(t),this.items_={}}return n.prototype.insert=function(e,r){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:r};this.rbush_.insert(i),this.items_[(0,t.getUid)(r)]=i},n.prototype.load=function(e,r){for(var i=new Array(r.length),n=0,o=r.length;n<o;n++){var s=e[n],u=r[n],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:u};i[n]=a,this.items_[(0,t.getUid)(u)]=a}this.rbush_.load(i)},n.prototype.remove=function(e){var r=(0,t.getUid)(e),i=this.items_[r];return delete this.items_[r],null!==this.rbush_.remove(i)},n.prototype.update=function(e,i){var n=this.items_[(0,t.getUid)(i)],o=[n.minX,n.minY,n.maxX,n.maxY];(0,r.equals)(o,e)||(this.remove(i),this.insert(e,i))},n.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},n.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},n.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},n.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},n.prototype.forEach_=function(t,e){for(var r,i=0,n=t.length;i<n;i++)if(r=e(t[i]))return r;return r},n.prototype.isEmpty=function(){return(0,i.isEmpty)(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,r.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},n.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},n}(),s=o;exports.default=s;
},{"../util.js":"KniQ","rbush":"XGea","../extent.js":"QDir","../obj.js":"mH6q"}],"ZS12":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.VectorSourceEvent=void 0;var e=require("../util.js"),t=E(require("../Collection.js")),r=E(require("../CollectionEventType.js")),n=E(require("../ObjectEventType.js")),i=require("../array.js"),o=require("../asserts.js"),s=require("../events.js"),a=E(require("../events/Event.js")),u=E(require("../events/EventType.js")),l=require("../extent.js"),h=require("../featureloader.js"),d=require("../functions.js"),f=require("../loadingstrategy.js"),c=require("../obj.js"),_=E(require("./Source.js")),p=E(require("./State.js")),v=E(require("./VectorEventType.js")),y=E(require("../structs/RBush.js"));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return g(t,e),t}(a.default);exports.VectorSourceEvent=x;var F=function(a){function _(e){var r=this,n=e||{};(r=a.call(this,{attributions:n.attributions,projection:void 0,state:p.default.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=d.VOID,r.format_=n.format,r.overlaps_=null==n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&((0,o.assert)(r.format_,7),r.loader_=(0,h.xhr)(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:f.all;var i,s,u=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=u?new y.default:null,r.loadedExtentsRtree_=new y.default,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?s=n.features:n.features&&(s=(i=n.features).getArray()),u||void 0!==i||(i=new t.default(s)),void 0!==s&&r.addFeaturesInternal(s),void 0!==i&&r.bindFeaturesCollection_(i),r}return g(_,a),_.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},_.prototype.addFeatureInternal=function(t){var r=(0,e.getUid)(t);if(this.addToIndex_(r,t)){this.setupChangeEvents_(r,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new x(v.default.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},_.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[(0,s.listen)(t,u.default.CHANGE,this.handleFeatureChange_,this),(0,s.listen)(t,n.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},_.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&((0,o.assert)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},_.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},_.prototype.addFeaturesInternal=function(t){for(var r=[],n=[],i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=(0,e.getUid)(a);this.addToIndex_(u,a)&&n.push(a)}o=0;for(var l=n.length;o<l;o++){a=n[o],u=(0,e.getUid)(a);this.setupChangeEvents_(u,a);var h=a.getGeometry();if(h){var d=h.getExtent();r.push(d),i.push(a)}else this.nullGeometryFeatures_[u]=a}this.featuresRtree_&&this.featuresRtree_.load(r,i);o=0;for(var f=n.length;o<f;o++)this.dispatchEvent(new x(v.default.ADDFEATURE,n[o]))},_.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(v.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),this.addEventListener(v.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),e.addEventListener(r.default.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(r.default.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},_.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(s.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new x(v.default.CLEAR);this.dispatchEvent(n),this.changed()},_.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},_.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0})},_.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},_.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}})},_.prototype.getFeaturesCollection=function(){return this.featuresCollection_},_.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,c.isEmpty)(this.nullGeometryFeatures_)||(0,i.extend)(e,(0,c.getValues)(this.nullGeometryFeatures_))),e},_.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},_.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},_.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=t||d.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(u(e)){var t=e.getGeometry(),l=s;if((s=t.closestPointXY(r,n,o,s))<l){i=e;var h=Math.sqrt(s);a[0]=r-h,a[1]=n-h,a[2]=r+h,a[3]=n+h}}}),i},_.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},_.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},_.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},_.prototype.getFormat=function(){return this.format_},_.prototype.getOverlaps=function(){return this.overlaps_},_.prototype.getUrl=function(){return this.url_},_.prototype.handleFeatureChange_=function(t){var r=t.target,n=(0,e.getUid)(r),i=r.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,r)):this.featuresRtree_&&this.featuresRtree_.update(o,r)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[n]=r);var s=r.getId();if(void 0!==s){var a=s.toString();this.idIndex_[a]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[a]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[n]=r;this.changed(),this.dispatchEvent(new x(v.default.CHANGEFEATURE,r))},_.prototype.hasFeature=function(t){var r=t.getId();return void 0!==r?r in this.idIndex_:(0,e.getUid)(t)in this.uidIndex_},_.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,c.isEmpty)(this.nullGeometryFeatures_)},_.prototype.loadFeatures=function(e,t,r){var n=this.loadedExtentsRtree_,i=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var a=i[e];n.forEachInExtent(a,function(e){return(0,l.containsExtent)(e.extent,a)})||(s.loader_.call(s,a,t,r),n.insert(a,{extent:a.slice()}),s.loading=s.loader_!==d.VOID)},s=this,a=0,u=i.length;a<u;++a)o(a)},_.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),a.prototype.refresh.call(this)},_.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,l.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)},_.prototype.removeFeature=function(t){var r=(0,e.getUid)(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},_.prototype.removeFeatureInternal=function(t){var r=(0,e.getUid)(t);this.featureChangeKeys_[r].forEach(s.unlistenByKey),delete this.featureChangeKeys_[r];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[r],this.dispatchEvent(new x(v.default.REMOVEFEATURE,t))},_.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},_.prototype.setLoader=function(e){this.loader_=e},_.prototype.setUrl=function(e){(0,o.assert)(this.format_,7),this.setLoader((0,h.xhr)(e,this.format_))},_}(_.default),I=F;exports.default=I;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../ObjectEventType.js":"zehl","../array.js":"luEr","../asserts.js":"fLG6","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../extent.js":"QDir","../featureloader.js":"U3JP","../functions.js":"RgA2","../loadingstrategy.js":"JpXE","../obj.js":"mH6q","./Source.js":"H38a","./State.js":"iC8j","./VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"w0c6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.greatCircleArc=n,exports.meridian=e,exports.parallel=o;var t=require("../../math.js"),a=require("../../proj.js");function r(a,r,n){for(var e,o,s,i,u,p,h=[],c=a(0),M=a(1),f=r(c),g=r(M),d=[M,c],l=[g,f],v=[1,0],R={},m=1e5;--m>0&&v.length>0;)s=v.pop(),c=d.pop(),f=l.pop(),(p=s.toString())in R||(h.push(f[0],f[1]),R[p]=!0),i=v.pop(),M=d.pop(),g=l.pop(),o=r(e=a(u=(s+i)/2)),(0,t.squaredSegmentDistance)(o[0],o[1],f[0],f[1],g[0],g[1])<n?(h.push(g[0],g[1]),R[p=i.toString()]=!0):(v.push(i,u,u,s),l.push(g,o,o,f),d.push(M,e,e,c));return h}function n(n,e,o,s,i,u){var p=(0,a.get)("EPSG:4326"),h=Math.cos((0,t.toRadians)(e)),c=Math.sin((0,t.toRadians)(e)),M=Math.cos((0,t.toRadians)(s)),f=Math.sin((0,t.toRadians)(s)),g=Math.cos((0,t.toRadians)(o-n)),d=Math.sin((0,t.toRadians)(o-n)),l=c*f+h*M*g;return r(function(a){if(1<=l)return[o,s];var r=a*Math.acos(l),e=Math.cos(r),i=Math.sin(r),u=d*M,p=h*f-c*M*g,v=Math.atan2(u,p),R=Math.asin(c*e+h*i*Math.cos(v)),m=(0,t.toRadians)(n)+Math.atan2(Math.sin(v)*i*h,e-c*Math.sin(R));return[(0,t.toDegrees)(m),(0,t.toDegrees)(R)]},(0,a.getTransform)(p,i),u)}function e(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[t,n+(e-n)*a]},(0,a.getTransform)(i,o),s)}function o(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[n+(e-n)*a,t]},(0,a.getTransform)(i,o),s)}
},{"../../math.js":"B96G","../../proj.js":"Diht"}],"wXs0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=g(require("./Vector.js")),t=require("../obj.js"),a=require("../coordinate.js"),i=g(require("../style/Text.js")),l=g(require("../style/Fill.js")),r=g(require("../style/Stroke.js")),n=g(require("../geom/LineString.js")),s=g(require("../source/Vector.js")),o=require("../proj.js"),h=require("../extent.js"),_=require("../math.js"),d=g(require("../style/Style.js")),u=g(require("../Feature.js")),L=require("../loadingstrategy.js"),m=require("../geom/flat/geodesic.js"),f=g(require("../geom/GeometryLayout.js")),p=g(require("../geom/Point.js")),b=g(require("../Collection.js"));function g(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),x=new r.default({color:"rgba(0,0,0,0.2)"}),y=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],P=function(e){function g(n){var o=this,h=n||{},_=(0,t.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},h);return delete _.maxLines,delete _.strokeStyle,delete _.targetSize,delete _.showLabels,delete _.lonLabelFormatter,delete _.latLabelFormatter,delete _.lonLabelPosition,delete _.latLabelPosition,delete _.lonLabelStyle,delete _.latLabelStyle,delete _.intervals,(o=e.call(this,_)||this).projection_=null,o.maxLat_=1/0,o.maxLon_=1/0,o.minLat_=-1/0,o.minLon_=-1/0,o.maxLatP_=1/0,o.maxLonP_=1/0,o.minLatP_=-1/0,o.minLonP_=-1/0,o.targetSize_=void 0!==h.targetSize?h.targetSize:100,o.maxLines_=void 0!==h.maxLines?h.maxLines:100,o.meridians_=[],o.parallels_=[],o.strokeStyle_=void 0!==h.strokeStyle?h.strokeStyle:x,o.fromLonLatTransform_=void 0,o.toLonLatTransform_=void 0,o.projectionCenterLonLat_=null,o.meridiansLabels_=null,o.parallelsLabels_=null,h.showLabels&&(o.lonLabelFormatter_=null==h.lonLabelFormatter?a.degreesToStringHDMS.bind(o,"EW"):h.lonLabelFormatter,o.latLabelFormatter_=null==h.latLabelFormatter?a.degreesToStringHDMS.bind(o,"NS"):h.latLabelFormatter,o.lonLabelPosition_=null==h.lonLabelPosition?0:h.lonLabelPosition,o.latLabelPosition_=null==h.latLabelPosition?1:h.latLabelPosition,o.lonLabelStyleBase_=new d.default({text:void 0!==h.lonLabelStyle?h.lonLabelStyle.clone():new i.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new r.default({color:"rgba(255,255,255,1)",width:3})})}),o.lonLabelStyle_=function(e){var t=e.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}.bind(o),o.latLabelStyleBase_=new d.default({text:void 0!==h.latLabelStyle?h.latLabelStyle.clone():new i.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new r.default({color:"rgba(255,255,255,1)",width:3})})}),o.latLabelStyle_=function(e){var t=e.get("graticule_label");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}.bind(o),o.meridiansLabels_=[],o.parallelsLabels_=[]),o.intervals_=void 0!==h.intervals?h.intervals:y,o.setSource(new s.default({loader:o.loaderFunction.bind(o),strategy:L.bbox,features:new b.default,overlaps:!1,useSpatialIndex:!1,wrapX:h.wrapX})),o.featurePool_=[],o.lineStyle_=new d.default({stroke:o.strokeStyle_}),o.renderedExtent_=null,o.setRenderOrder(null),o.tmpExtent_=null,o}return c(g,e),g.prototype.loaderFunction=function(e,t,a){var i=this.getSource(),l=this.getExtent()||[-1/0,-1/0,1/0,1/0],r=(0,h.getIntersection)(l,e,this.tmpExtent_);if(setTimeout(function(){i.removeLoadedExtent(e)},0),!(this.renderedExtent_&&(0,h.equals)(this.renderedExtent_,r)||(this.renderedExtent_=r,(0,h.isEmpty)(r)))){var n=(0,h.getCenter)(r),s=t*t/4;(!this.projection_||!(0,o.equivalent)(this.projection_,a))&&this.updateProjectionInfo_(a),this.createGraticule_(r,n,t,s);var _,d=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(d+=this.meridiansLabels_.length),this.parallelsLabels_&&(d+=this.parallelsLabels_.length);d>this.featurePool_.length;)_=new u.default,this.featurePool_.push(_);var L=i.getFeaturesCollection();L.clear();var m,f,p,b=0;for(m=0,f=this.meridians_.length;m<f;++m)(_=this.featurePool_[b++]).setGeometry(this.meridians_[m]),_.setStyle(this.lineStyle_),L.push(_);for(m=0,f=this.parallels_.length;m<f;++m)(_=this.featurePool_[b++]).setGeometry(this.parallels_[m]),_.setStyle(this.lineStyle_),L.push(_);if(this.meridiansLabels_)for(m=0,f=this.meridiansLabels_.length;m<f;++m)p=this.meridiansLabels_[m],(_=this.featurePool_[b++]).setGeometry(p.geom),_.setStyle(this.lonLabelStyle_),_.set("graticule_label",p.text),L.push(_);if(this.parallelsLabels_)for(m=0,f=this.parallelsLabels_.length;m<f;++m)p=this.parallelsLabels_[m],(_=this.featurePool_[b++]).setGeometry(p.geom),_.setStyle(this.latLabelStyle_),_.set("graticule_label",p.text),L.push(_)}},g.prototype.addMeridian_=function(e,t,a,i,l,r){var n=this.getMeridian_(e,t,a,i,r);if((0,h.intersects)(n.getExtent(),l)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(n,l,r);this.meridiansLabels_[r]={geom:s,text:this.lonLabelFormatter_(e)}}this.meridians_[r++]=n}return r},g.prototype.addParallel_=function(e,t,a,i,l,r){var n=this.getParallel_(e,t,a,i,r);if((0,h.intersects)(n.getExtent(),l)){if(this.parallelsLabels_){var s=this.getParallelPoint_(n,l,r);this.parallelsLabels_[r]={geom:s,text:this.latLabelFormatter_(e)}}this.parallels_[r++]=n}return r},g.prototype.createGraticule_=function(e,t,a,i){var l=this.getInterval_(a);if(-1==l)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var r,n,s,h,d=this.toLonLatTransform_(t),u=d[0],L=d[1],m=this.maxLines_,f=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)],p=(f=(0,o.transformExtent)(f,this.projection_,"EPSG:4326"))[3],b=f[2],g=f[1],c=f[0];for(u=Math.floor(u/l)*l,h=(0,_.clamp)(u,this.minLon_,this.maxLon_),n=this.addMeridian_(h,g,p,i,e,0),r=0;h!=this.minLon_&&r++<m;)h=Math.max(h-l,this.minLon_),n=this.addMeridian_(h,g,p,i,e,n);for(h=(0,_.clamp)(u,this.minLon_,this.maxLon_),r=0;h!=this.maxLon_&&r++<m;)h=Math.min(h+l,this.maxLon_),n=this.addMeridian_(h,g,p,i,e,n);for(this.meridians_.length=n,this.meridiansLabels_&&(this.meridiansLabels_.length=n),L=Math.floor(L/l)*l,s=(0,_.clamp)(L,this.minLat_,this.maxLat_),n=this.addParallel_(s,c,b,i,e,0),r=0;s!=this.minLat_&&r++<m;)s=Math.max(s-l,this.minLat_),n=this.addParallel_(s,c,b,i,e,n);for(s=(0,_.clamp)(L,this.minLat_,this.maxLat_),r=0;s!=this.maxLat_&&r++<m;)s=Math.min(s+l,this.maxLat_),n=this.addParallel_(s,c,b,i,e,n);this.parallels_.length=n,this.parallelsLabels_&&(this.parallelsLabels_.length=n)},g.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],a=this.projectionCenterLonLat_[1],i=-1,l=Math.pow(this.targetSize_*e,2),r=[],n=[],s=0,o=this.intervals_.length;s<o;++s){var h=this.intervals_[s]/2;if(r[0]=t-h,r[1]=a-h,n[0]=t+h,n[1]=a+h,this.fromLonLatTransform_(r,r),this.fromLonLatTransform_(n,n),Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2)<=l)break;i=this.intervals_[s]}return i},g.prototype.getMeridian_=function(e,t,a,i,l){var r=(0,m.meridian)(e,t,a,this.projection_,i),s=this.meridians_[l];return s?(s.setFlatCoordinates(f.default.XY,r),s.changed()):(s=new n.default(r,f.default.XY),this.meridians_[l]=s),s},g.prototype.getMeridianPoint_=function(e,t,a){var i,l=e.getFlatCoordinates(),r=Math.max(t[1],l[1]),n=Math.min(t[3],l[l.length-1]),s=(0,_.clamp)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,r,n),o=[l[0],s];return a in this.meridiansLabels_?(i=this.meridiansLabels_[a].geom).setCoordinates(o):i=new p.default(o),i},g.prototype.getMeridians=function(){return this.meridians_},g.prototype.getParallel_=function(e,t,a,i,l){var r=(0,m.parallel)(e,t,a,this.projection_,i),s=this.parallels_[l];return s?(s.setFlatCoordinates(f.default.XY,r),s.changed()):s=new n.default(r,f.default.XY),s},g.prototype.getParallelPoint_=function(e,t,a){var i,l=e.getFlatCoordinates(),r=Math.max(t[0],l[0]),n=Math.min(t[2],l[l.length-2]),s=[(0,_.clamp)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,r,n),l[1]];return a in this.parallelsLabels_?(i=this.parallelsLabels_[a].geom).setCoordinates(s):i=new p.default(s),i},g.prototype.getParallels=function(){return this.parallels_},g.prototype.updateProjectionInfo_=function(e){var t=(0,o.get)("EPSG:4326"),a=e.getWorldExtent(),i=(0,o.transformExtent)(a,t,e);this.maxLat_=a[3],this.maxLon_=a[2],this.minLat_=a[1],this.minLon_=a[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=(0,o.getTransform)(t,e),this.toLonLatTransform_=(0,o.getTransform)(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_((0,h.getCenter)(e.getExtent())),this.projection_=e},g}(e.default),v=P;exports.default=v;
},{"./Vector.js":"dflx","../obj.js":"mH6q","../coordinate.js":"nGsj","../style/Text.js":"RPsG","../style/Fill.js":"AFcg","../style/Stroke.js":"TXDt","../geom/LineString.js":"DfxW","../source/Vector.js":"ZS12","../proj.js":"Diht","../extent.js":"QDir","../math.js":"B96G","../style/Style.js":"he4w","../Feature.js":"mYW9","../loadingstrategy.js":"JpXE","../geom/flat/geodesic.js":"w0c6","../geom/GeometryLayout.js":"Utvi","../geom/Point.js":"gLcY","../Collection.js":"FnDa"}],"K7j2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ImageBase.js")),e=r(require("./ImageState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=function(t){function r(r,o,n,a,u){var i=this,s=void 0!==u?e.default.IDLE:e.default.LOADED;return(i=t.call(this,r,o,n,s)||this).loader_=void 0!==u?u:null,i.canvas_=a,i.error_=null,i}return o(r,t),r.prototype.getError=function(){return this.error_},r.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=e.default.ERROR):this.state=e.default.LOADED,this.changed()},r.prototype.load=function(){this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},r.prototype.getImage=function(){return this.canvas_},r}(t.default),a=n;exports.default=a;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3kG"}],"Xz9x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};exports.default=e;
},{}],"IeCz":[function(require,module,exports) {
"use strict";function e(e){return Math.pow(e,3)}function t(t){return 1-e(1-t)}function n(e){return 3*e*e-2*e*e*e}function r(e){return e}function u(e){return e<.5?n(2*e):1-n(2*(e-.5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeIn=e,exports.easeOut=t,exports.inAndOut=n,exports.linear=r,exports.upAndDown=u;
},{}],"IWZI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./TileState.js")),e=require("./easing.js"),i=o(require("./events/Target.js")),r=o(require("./events/EventType.js")),n=require("./util.js");function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),a=function(i){function o(t,e,r){var n=i.call(this)||this,o=r||{};return n.tileCoord=t,n.state=e,n.interimTile=null,n.hifi=!0,n.key="",n.transition_=void 0===o.transition?250:o.transition,n.transitionStarts_={},n}return s(o,i),o.prototype.changed=function(){this.dispatchEvent(r.default.CHANGE)},o.prototype.disposeInternal=function(){this.setState(t.default.ABORT)},o.prototype.getKey=function(){return this.key+"/"+this.tileCoord},o.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==t.default.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},o.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,i=this;do{if(e.getState()==t.default.LOADED){e.interimTile=null;break}e.getState()==t.default.LOADING?i=e:e.getState()==t.default.IDLE?i.interimTile=e.interimTile:i=e,e=i.interimTile}while(e)}},o.prototype.getTileCoord=function(){return this.tileCoord},o.prototype.getState=function(){return this.state},o.prototype.setState=function(e){if(this.state!==t.default.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},o.prototype.load=function(){(0,n.abstract)()},o.prototype.getAlpha=function(t,i){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=i,this.transitionStarts_[t]=r;var n=i-r+1e3/60;return n>=this.transition_?1:(0,e.easeIn)(n/this.transition_)},o.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},o.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},o}(i.default),u=a;exports.default=u;
},{"./TileState.js":"Xz9x","./easing.js":"IeCz","./events/Target.js":"CR4Y","./events/EventType.js":"C8cu","./util.js":"KniQ"}],"TOsW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./Tile.js")),e=s(require("./TileState.js")),i=require("./dom.js"),n=require("./Image.js");function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function i(e,i,n,s,r,a){var o=t.call(this,e,i,a)||this;return o.crossOrigin_=s,o.src_=n,o.image_=new Image,null!==s&&(o.image_.crossOrigin=s),o.unlisten_=null,o.tileLoadFunction_=r,o}return r(i,t),i.prototype.disposeInternal=function(){this.state==e.default.LOADING&&(this.unlistenImage_(),this.image_=o()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.image_},i.prototype.getKey=function(){return this.src_},i.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.image_=o(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=e.default.LOADED:this.state=e.default.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==e.default.ERROR&&(this.state=e.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,n.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},i.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},i}(t.default);function o(){var t=(0,i.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var u=a;exports.default=u;
},{"./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./Image.js":"DHWK"}],"gAnK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(t,i,n){this.decay_=t,this.minVelocity_=i,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,i){this.points_.push(t,i,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;for(var n=i-3;n>0&&this.points_[n+2]>t;)n-=3;var e=this.points_[i+2]-this.points_[n+2];if(e<1e3/60)return!1;var s=this.points_[i]-this.points_[n],o=this.points_[i+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/e,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),i=t;exports.default=i;
},{}],"vFcA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.map=r,o.frameState=void 0!==n?n:null,o}return r(e,t),e}(t.default),o=n;exports.default=o;
},{"./events/Event.js":"fKNg"}],"HMLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),n=function(t){function e(e,o,n,r,i){var p=t.call(this,e,o,i)||this;return p.originalEvent=n,p.pixel_=null,p.coordinate_=null,p.dragging=void 0!==r&&r,p}return o(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(t.default),r=n;exports.default=r;
},{"./MapEvent.js":"vFcA"}],"xusX":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):e.PointerEventsPolyfill=n()}(this,function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var r=document.createEvent("Event");r.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var o,a=2;a<t.length;a++)r[o=t[a]]=i[o]||e[a];r.buttons=i.buttons||0;var s=0;return s=void 0!==i.pressure&&r.buttons?i.pressure:r.buttons?.5:0,r.x=r.clientX,r.y=r.clientY,r.pointerId=i.pointerId||0,r.width=i.width||1,r.height=i.height||1,r.pressure=s,r.tiltX=i.tiltX||0,r.tiltY=i.tiltY||0,r.twist=i.twist||0,r.tangentialPressure=i.tangentialPressure||0,r.pointerType=i.pointerType||"",r.hwTimestamp=i.hwTimestamp||0,r.isPrimary=i.isPrimary||!1,r.detail=0,r}var i=window.Map&&window.Map.prototype.forEach?Map:r;function r(){this.array=[],this.size=0}r.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},u="undefined"!=typeof SVGElementInstance,c={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,i=n.events;i&&(i.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(n){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new n(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),i=0;i<o.length;i++)n[e=o[i]]=t[e]||a[i],!u||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var i=t.target,r=[];null!=i&&i!==document&&!i.contains(t.relatedTarget);)if(r.push(i),!(i=i.parentNode))return;n&&r.reverse(),r.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,i){this.captureInfo[t]&&this.releaseCapture(t,i),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var r=new n("gotpointercapture",{bubbles:!0});r.pointerId=t,r._target=e,i||this.asyncDispatchEvent(r)},releaseCapture:function(t,e){var i=this.captureInfo[t];if(i){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var r=new n("lostpointercapture",{bubbles:!0});r.pointerId=t,r._target=i,e||this.asyncDispatchEvent(r)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};c.boundHandler=c.eventHandler.bind(c);var l={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var i,r,o=t.elementFromPoint(e,n);for(r=this.targetingShadow(o);r;){if(i=r.elementFromPoint(e,n)){var a=this.targetingShadow(i);return this.searchRoot(a,e,n)||i}r=this.olderShadow(r)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,i=this.owner(t.target);return i.elementFromPoint(e,n)||(i=document),this.searchRoot(i,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),v=Array.prototype.slice.call.bind(Array.prototype.slice),f=Array.prototype.filter.call.bind(Array.prototype.filter),d=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function b(t,e,n,i){this.addCallback=t.bind(i),this.removeCallback=e.bind(i),this.changedCallback=n.bind(i),d&&(this.observer=new d(this.mutationWatcher.bind(this)))}function E(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}b.prototype={watchSubtree:function(t){this.observer&&l.canTarget(t)&&this.observer.observe(t,m)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(v(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=p(t,this.findElements,this);return e.push(f(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){"childList"===t.type?(this.flattenMutationTree(t.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(t.removedNodes).forEach(this.removeElement,this)):"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var g=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],y="",T=window.PointerEvent||window.MSPointerEvent,w=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;var P=c.pointermap,S=[1,4,2,8,16],O=!1;try{O=1===new MouseEvent("test",{buttons:1}).buttons}catch(z){}var M,I={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(i-e.x),u=Math.abs(r-e.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(t){var e=c.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=P.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=P.get(this.POINTER_ID),n=this.prepareEvent(t);O||(n.buttons=S[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),P.set(this.POINTER_ID,t),e&&0!==e.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,P.set(this.POINTER_ID,t),c.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=P.get(this.POINTER_ID),n=this.prepareEvent(t);if(!O){var i=S[n.button];n.buttons=e?e.buttons&~i:0,t.buttons=n.buttons}P.set(this.POINTER_ID,t),n.buttons&=~S[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,P.set(this.POINTER_ID,t),c.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);O||this.prepareButtonsForMove(e,t),e.button=-1,c.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.deactivateMouse()},deactivateMouse:function(){P.delete(this.POINTER_ID)}},N=c.captureInfo,_=l.findTarget.bind(l),R=l.allShadows.bind(l),D=c.pointermap,C={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){M.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"==typeof n&&(t._scrollType=n,c.listen(t,this.events),R(t).forEach(function(t){t._scrollType=n,c.listen(t,this.events)},this))},elementRemoved:function(t){if(D.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,c.unlisten(t,e)})}else t._scrollType=void 0,c.unlisten(t,this.events);R(t).forEach(function(t){t._scrollType=void 0,c.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(e);"number"==typeof i&&"number"==typeof r?(t._scrollType=i,R(t).forEach(function(t){t._scrollType=i},this)):"number"==typeof r?this.elementRemoved(t):"number"==typeof i&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===D.size||1===D.size&&D.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=c.cloneEvent(t),i=n.pointerId=t.identifier+2;if(n.target=N[i]||_(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var r=Math.tan(t.altitudeAngle),o=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/r)*o,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/r)*o}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var i,r=0;r<n.length;r++)i=n[r],e.call(this,this.touchToPointer(i))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var i=t.changedTouches[0],r=i.clientY-this.firstXY.Y,o=Math.abs(r),a=i.clientX-this.firstXY.X,s=Math.abs(a),u=1&n,c=2&n,l=4&n,h=8&n;l&&h?e=s>o:l?e=s>o&&a>0:h&&(e=s>o&&a<0),e||(u&&c?e=s<o:u?e=s<o&&r>0:c&&(e=s<o&&r<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,i=0,r=t.length;i<r&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(D.size>=e.length){var n=[];D.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var r=t.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){D.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),c.enterOver(t),c.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=D.get(e.pointerId);if(n){var i=n.out,r=n.outTarget;c.move(e),i&&r!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=r,i.target=r,e.target?(c.leaveOut(i),c.enterOver(e)):(e.target=r,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(c.up(t),c.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){c.cancel(t),c.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){D.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=I.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};e.push(i);var r=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,i);setTimeout(r,2500)}}};M=new b(C.elementAdded,C.elementRemoved,C.elementChanged,C);var Y,X,F,A=c.pointermap,L=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,k={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){c.listen(t,this.events)},unregister:function(t){c.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return L&&((e=c.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){A.delete(t)},MSPointerDown:function(t){A.set(t.pointerId,t);var e=this.prepareEvent(t);c.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);c.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);c.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);c.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);c.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);c.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=c.makeEvent("lostpointercapture",t);c.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=c.makeEvent("gotpointercapture",t);c.dispatchEvent(e)}};function K(t){if(!c.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function x(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function U(t){return 0!==c.pointermap.get(t).buttons}return window.navigator.msPointerEnabled?(Y=function(t){K(t),x(this),U(t)&&(c.setCapture(t,this,!0),this.msSetPointerCapture(t))},X=function(t){K(t),c.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(Y=function(t){K(t),x(this),U(t)&&c.setCapture(t,this)},X=function(t){K(t),c.releaseCapture(t)}),F=function(t){return!!c.captureInfo[t]},function(){if(T){g.forEach(function(t){y+=t.selector+E(t.value)+"\n",w&&(y+="body /shadow-deep/ "+t.selector+E(t.value)+"\n")});var t=document.createElement("style");t.textContent=y,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),c.registerSource("ms",k)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",I),void 0!==window.ontouchstart&&c.registerSource("touch",C);c.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Y},releasePointerCapture:{value:X},hasPointerCapture:{value:F}}),{dispatcher:c,Installer:b,PointerEvent:n,PointerMap:i,targetFinding:l}});
},{}],"YhDM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./events/EventType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={SINGLECLICK:"singleclick",CLICK:e.default.CLICK,DBLCLICK:e.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=r;
},{"./events/EventType.js":"C8cu"}],"J1WQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapBrowserEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o,n,u){var i=t.call(this,e,r,o,n,u)||this;return i.pointerEvent=o,i}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./MapBrowserEvent.js":"HMLS"}],"TaSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=e;
},{}],"ohHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("@openlayers/pepjs");var t=require("./has.js"),e=o(require("./MapBrowserEventType.js")),i=o(require("./MapBrowserPointerEvent.js")),n=require("./events.js"),s=o(require("./events/Target.js")),r=o(require("./pointer/EventType.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(s){function o(e,i){var o=s.call(this,e)||this;o.map_=e,o.clickTimeoutId_,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=i?i*t.DEVICE_PIXEL_RATIO:t.DEVICE_PIXEL_RATIO,o.down_=null;var a=o.map_.getViewport();return o.activePointers_=0,o.trackedTouches_={},o.element_=a,o.pointerdownListenerKey_=(0,n.listen)(a,r.default.POINTERDOWN,o.handlePointerDown_,o),o.relayedListenerKey_=(0,n.listen)(a,r.default.POINTERMOVE,o.relayEvent_,o),o}return a(o,s),o.prototype.emulateClick_=function(t){var n=new i.default(e.default.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new i.default(e.default.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new i.default(e.default.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},o.prototype.updateActivePointers_=function(t){var i=t;i.type==e.default.POINTERUP||i.type==e.default.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==e.default.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},o.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERUP,this.map_,t);this.dispatchEvent(s),s.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},o.prototype.isMouseActionButton_=function(t){return 0===t.button},o.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERDOWN,this.map_,t);this.dispatchEvent(s),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push((0,n.listen)(document,e.default.POINTERMOVE,this.handlePointerMove_,this),(0,n.listen)(document,e.default.POINTERUP,this.handlePointerUp_,this),(0,n.listen)(this.element_,e.default.POINTERCANCEL,this.handlePointerUp_,this))},o.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new i.default(e.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}},o.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.default(t.type,this.map_,t,e))},o.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},o.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,n.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,n.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,s.prototype.disposeInternal.call(this)},o}(s.default),h=u;exports.default=h;
},{"@openlayers/pepjs":"xusX","./has.js":"f3Nv","./MapBrowserEventType.js":"YhDM","./MapBrowserPointerEvent.js":"J1WQ","./events.js":"UqnM","./events/Target.js":"CR4Y","./pointer/EventType.js":"TaSm"}],"xLGm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};exports.default=e;
},{}],"zlNQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};exports.default=e;
},{}],"RQLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DROP=void 0;var t=require("../asserts.js"),e=require("../obj.js"),i=1/0;exports.DROP=i;var n=function(){function n(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,e.clear)(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},n.prototype.enqueue=function(e){(0,t.assert)(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);return n!=i&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return 2*t+1},n.prototype.getRightChildIndex_=function(t){return 2*t+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return 0===this.elements_.length},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;t<n>>1;){var u=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),p=h<n&&i[h]<i[u]?h:u;e[t]=e[p],i[t]=i[p],t=p}e[t]=s,i[t]=r,this.siftDown_(o,t)},n.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,s=i[e],r=n[e];e>t;){var o=this.getParentIndex_(e);if(!(n[o]>r))break;i[e]=i[o],n[e]=n[o],e=o}i[e]=s,n[e]=r},n.prototype.reprioritize=function(){var t,e,n,s=this.priorityFunction_,r=this.elements_,o=this.priorities_,u=0,h=r.length;for(e=0;e<h;++e)(n=s(t=r[e]))==i?delete this.queuedElements_[this.keyFunction_(t)]:(o[u]=n,r[u++]=t);r.length=u,o.length=u,this.heapify_()},n}(),s=n;exports.default=s;
},{"../asserts.js":"fLG6","../obj.js":"mH6q"}],"tHOl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./TileState.js")),t=i(require("./events/EventType.js")),n=i(require("./structs/PriorityQueue.js"));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=function(n){function i(e,t){var i=n.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=t,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return o(i,n),i.prototype.enqueue=function(e){var i=n.prototype.enqueue.call(this,e);i&&e[0].addEventListener(t.default.CHANGE,this.boundHandleTileChange_);return i},i.prototype.getTilesLoading=function(){return this.tilesLoading_},i.prototype.handleTileChange=function(n){var i=n.target,o=i.getState();if(i.hifi&&o===e.default.LOADED||o===e.default.ERROR||o===e.default.EMPTY||o===e.default.ABORT){i.removeEventListener(t.default.CHANGE,this.boundHandleTileChange_);var r=i.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},i.prototype.loadMoreTiles=function(t,n){for(var i,o,r,a=0,l=!1;this.tilesLoading_<t&&a<n&&this.getCount()>0;)r=(o=this.dequeue()[0]).getKey(),(i=o.getState())===e.default.ABORT?l=!0:i!==e.default.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++a,o.load());0===a&&l&&this.tileChangeCallback_()},i}(n.default),a=r;exports.default=a;
},{"./TileState.js":"Xz9x","./events/EventType.js":"C8cu","./structs/PriorityQueue.js":"RQLY"}],"mOEX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TILE_SIZE=exports.DEFAULT_MAX_ZOOM=void 0;var e=42;exports.DEFAULT_MAX_ZOOM=e;var r=256;exports.DEFAULT_TILE_SIZE=r;
},{}],"Rc7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExtent=a,exports.none=e;var t=require("./math.js");function a(a,e,r){return function(n,o,u,h){if(n){var M=e?0:u[0]*o,c=e?0:u[1]*o,l=a[0]+M/2,x=a[2]-M/2,i=a[1]+c/2,m=a[3]-c/2;l>x&&(x=l=(x+l)/2),i>m&&(m=i=(m+i)/2);var s=(0,t.clamp)(n[0],l,x),p=(0,t.clamp)(n[1],i,m),f=30*o;return h&&r&&(s+=-f*Math.log(1+Math.max(0,l-n[0])/f)+f*Math.log(1+Math.max(0,n[0]-x)/f),p+=-f*Math.log(1+Math.max(0,i-n[1])/f)+f*Math.log(1+Math.max(0,n[1]-m)/f)),[s,p]}}}function e(t){return t}
},{"./math.js":"B96G"}],"o7nl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSnapToResolutions=o,exports.createSnapToPower=i,exports.createMinMaxResolution=u;var t=require("./array.js"),r=require("./extent.js"),e=require("./math.js");function a(t,e,a){var n=(0,r.getWidth)(e)/a[0],o=(0,r.getHeight)(e)/a[1];return Math.min(t,Math.min(n,o))}function n(t,r,a){var n=Math.min(t,r);return n*=Math.log(1+50*Math.max(0,t/r-1))/50+1,a&&(n=Math.max(n,a),n/=Math.log(1+50*Math.max(0,a/t-1))/50+1),(0,e.clamp)(n,a/2,2*r)}function o(r,o,i){return function(u,h,M,l){if(void 0!==u){var c=r[0],f=r[r.length-1],v=i?a(c,i,M):c;if(l)return void 0===o||o?n(u,v,f):(0,e.clamp)(u,f,v);var m=Math.min(v,u),s=Math.floor((0,t.linearFindNearest)(r,m,h));return r[s]>v&&s<r.length-1?r[s+1]:r[s]}}}function i(t,r,o,i,u){return function(h,M,l,c){if(void 0!==h){var f=u?a(r,u,l):r,v=void 0!==o?o:0;if(c)return void 0===i||i?n(h,f,v):(0,e.clamp)(h,v,f);var m=Math.ceil(Math.log(r/f)/Math.log(t)-1e-9),s=-M*(.5-1e-9)+.5,p=Math.min(f,h),d=Math.floor(Math.log(r/p)/Math.log(t)+s),g=Math.max(m,d),x=r/Math.pow(t,g);return(0,e.clamp)(x,v,f)}}}function u(t,r,o,i){return function(u,h,M,l){if(void 0!==u){var c=i?a(t,i,M):t;return(void 0===o||o)&&l?n(u,c,r):(0,e.clamp)(u,r,c)}}}
},{"./array.js":"luEr","./extent.js":"QDir","./math.js":"B96G"}],"EKd0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.disable=e,exports.none=o,exports.createSnapToN=t,exports.createSnapToZero=n;var r=require("./math.js");function e(r){return void 0!==r?0:void 0}function o(r){return void 0!==r?r:void 0}function t(r){var e=2*Math.PI/r;return function(r,o){return o?r:void 0!==r?r=Math.floor(r/e+.5)*e:void 0}}function n(e){var o=e||(0,r.toRadians)(5);return function(r,e){return e?r:void 0!==r?Math.abs(r)<=o?0:r:void 0}}
},{"./math.js":"B96G"}],"cE7c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};exports.default=e;
},{}],"hNqE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCenterConstraint=x,exports.createResolutionConstraint=E,exports.createRotationConstraint=A,exports.isNoopAnimation=T,exports.default=void 0;var t=require("./tilegrid/common.js"),o=require("./util.js"),e=require("./functions.js"),n=require("./centerconstraint.js"),i=y(require("./Object.js")),r=require("./resolutionconstraint.js"),s=require("./rotationconstraint.js"),a=y(require("./ViewHint.js")),u=y(require("./ViewProperty.js")),h=require("./array.js"),l=require("./asserts.js"),c=require("./coordinate.js"),p=require("./easing.js"),g=require("./extent.js"),m=y(require("./geom/GeometryType.js")),f=require("./geom/Polygon.js"),d=require("./math.js"),_=require("./obj.js"),R=require("./proj.js"),v=y(require("./proj/Units.js"));function y(t){return t&&t.__esModule?t:{default:t}}var C=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),I=0,M=function(t){function n(o){var e=t.call(this)||this,n=(0,_.assign)({},o);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=(0,R.createProjection)(n.projection,"EPSG:3857"),e.targetCenter_=null,e.targetResolution_,e.targetRotation_,n.center&&(n.center=(0,R.fromUserCoordinate)(n.center,e.projection_)),n.extent&&(n.extent=(0,R.fromUserExtent)(n.extent,e.projection_)),e.applyOptions_(n),e}return C(n,t),n.prototype.applyOptions_=function(t){var o=E(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=o.minZoom;var e=x(t),n=o.constraint,i=A(t);this.constraints_={center:e,resolution:n,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},n.prototype.getUpdatedOptions_=function(t){var o=(0,_.assign)({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),(0,_.assign)({},o,t)},n.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),e=0;e<o.length;++e){var n=arguments[e];n.center&&((n=(0,_.assign)({},n)).center=(0,R.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&((n=(0,_.assign)({},n)).anchor=(0,R.fromUserCoordinate)(n.anchor,this.getProjection())),o[e]=n}this.animateInternal.apply(this,o)},n.prototype.animateInternal=function(t){var o,e=arguments.length;if(e>1&&"function"==typeof arguments[e-1]&&(o=arguments[e-1],--e),!this.isDef()){var n=arguments[e-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(o&&j(o,!0))}for(var i=Date.now(),r=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,h=[],l=0;l<e;++l){var c=arguments[l],g={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||p.inAndOut,callback:o};if(c.center&&(g.sourceCenter=r,g.targetCenter=c.center.slice(),r=g.targetCenter),void 0!==c.zoom?(g.sourceResolution=s,g.targetResolution=this.getResolutionForZoom(c.zoom),s=g.targetResolution):c.resolution&&(g.sourceResolution=s,g.targetResolution=c.resolution,s=g.targetResolution),void 0!==c.rotation){g.sourceRotation=u;var m=(0,d.modulo)(c.rotation-u+Math.PI,2*Math.PI)-Math.PI;g.targetRotation=u+m,u=g.targetRotation}T(g)?g.complete=!0:i+=g.duration,h.push(g)}this.animations_.push(h),this.setHint(a.default.ANIMATING,1),this.updateAnimations_()},n.prototype.getAnimating=function(){return this.hints_[a.default.ANIMATING]>0},n.prototype.getInteracting=function(){return this.hints_[a.default.INTERACTING]>0},n.prototype.cancelAnimations=function(){this.setHint(a.default.ANIMATING,-this.hints_[a.default.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var e=this.animations_[t];e[0].callback&&j(e[0].callback,!1)}this.animations_.length=0},n.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var n=this.animations_[e],i=!0,r=0,s=n.length;r<s;++r){var u=n[r];if(!u.complete){var h=t-u.start,l=u.duration>0?h/u.duration:1;l>=1?(u.complete=!0,l=1):i=!1;var c=u.easing(l);if(u.sourceCenter){var p=u.sourceCenter[0],g=u.sourceCenter[1],m=p+c*(u.targetCenter[0]-p),f=g+c*(u.targetCenter[1]-g);this.targetCenter_=[m,f]}if(u.sourceResolution&&u.targetResolution){var _=1===c?u.targetResolution:u.sourceResolution+c*(u.targetResolution-u.sourceResolution);if(u.anchor){var R=this.getSizeFromViewport_(this.getRotation()),v=this.constraints_.resolution(_,0,R,!0);this.targetCenter_=this.calculateCenterZoom(v,u.anchor)}this.targetResolution_=_,this.applyTargetState_(!0)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var y=1===c?(0,d.modulo)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+c*(u.targetRotation-u.sourceRotation);if(u.anchor){var C=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(C,u.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),o=!0,!u.complete)break}}if(i){this.animations_[e]=null,this.setHint(a.default.ANIMATING,-1);var I=n[0].callback;I&&j(I,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},n.prototype.calculateCenterRotate=function(t,o){var e,n=this.getCenterInternal();return void 0!==n&&(e=[n[0]-o[0],n[1]-o[1]],(0,c.rotate)(e,t-this.getRotation()),(0,c.add)(e,o)),e},n.prototype.calculateCenterZoom=function(t,o){var e,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(e=[o[0]-t*(o[0]-n[0])/i,o[1]-t*(o[1]-n[1])/i]);return e},n.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+(0,o.getUid)(this)+'"]',i=document.querySelector(n);if(i){var r=getComputedStyle(i);e[0]=parseInt(r.width,10),e[1]=parseInt(r.height,10)}if(t){var s=e[0],a=e[1];e[0]=Math.abs(s*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(s*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},n.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,R.toUserCoordinate)(t,this.getProjection()):t},n.prototype.getCenterInternal=function(){return this.get(u.default.CENTER)},n.prototype.getConstraints=function(){return this.constraints_},n.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},n.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return(0,R.toUserExtent)(o,this.getProjection())},n.prototype.calculateExtentInternal=function(t){var o=t||this.getSizeFromViewport_(),e=this.getCenterInternal();(0,l.assert)(e,1);var n=this.getResolution();(0,l.assert)(void 0!==n,2);var i=this.getRotation();return(0,l.assert)(void 0!==i,3),(0,g.getForViewAndSize)(e,n,i,o)},n.prototype.getMaxResolution=function(){return this.maxResolution_},n.prototype.getMinResolution=function(){return this.minResolution_},n.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},n.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},n.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},n.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},n.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},n.prototype.getProjection=function(){return this.projection_},n.prototype.getResolution=function(){return this.get(u.default.RESOLUTION)},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal((0,R.fromUserExtent)(t,this.getProjection()),o)},n.prototype.getResolutionForExtentInternal=function(t,o){var e=o||this.getSizeFromViewport_(),n=(0,g.getWidth)(t)/e[0],i=(0,g.getHeight)(t)/e[1];return Math.max(n,i)},n.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.maxResolution_,n=this.minResolution_,i=Math.log(e/n)/Math.log(o);return function(t){return e/Math.pow(o,t*i)}},n.prototype.getRotation=function(){return this.get(u.default.ROTATION)},n.prototype.getValueForResolutionFunction=function(t){var o=t||2,e=this.maxResolution_,n=this.minResolution_,i=Math.log(e/n)/Math.log(o);return function(t){return Math.log(e/t)/Math.log(o)/i}},n.prototype.getState=function(){var t=this.getCenterInternal(),o=this.getProjection(),e=this.getResolution(),n=this.getRotation();return{center:t.slice(0),projection:void 0!==o?o:null,resolution:e,rotation:n,zoom:this.getZoom()}},n.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},n.prototype.getZoomForResolution=function(t){var o,e,n=this.minZoom_||0;if(this.resolutions_){var i=(0,h.linearFindNearest)(this.resolutions_,t,1);n=i,o=this.resolutions_[i],e=i==this.resolutions_.length-1?2:o/this.resolutions_[i+1]}else o=this.maxResolution_,e=this.zoomFactor_;return n+Math.log(o/t)/Math.log(e)},n.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=(0,d.clamp)(Math.floor(t),0,this.resolutions_.length-2),e=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(e,(0,d.clamp)(t-o,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},n.prototype.fit=function(t,o){var e,n=(0,_.assign)({size:this.getSizeFromViewport_()},o||{});if((0,l.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,l.assert)(!(0,g.isEmpty)(t),25);var i=(0,R.fromUserExtent)(t,this.getProjection());e=(0,f.fromExtent)(i)}else if(t.getType()===m.default.CIRCLE){i=(0,R.fromUserExtent)(t.getExtent(),this.getProjection());(e=(0,f.fromExtent)(i)).rotate(this.getRotation(),(0,g.getCenter)(i))}else{var r=(0,R.getUserProjection)();e=r?e.clone().transform(r,this.getProjection()):t}this.fitInternal(e,n)},n.prototype.fitInternal=function(t,o){var n=o||{},i=n.size;i||(i=this.getSizeFromViewport_());var r,s=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var u=t.getFlatCoordinates(),h=this.getRotation(),l=Math.cos(-h),c=Math.sin(-h),p=1/0,g=1/0,m=-1/0,f=-1/0,d=t.getStride(),_=0,R=u.length;_<R;_+=d){var v=u[_]*l-u[_+1]*c,y=u[_]*c+u[_+1]*l;p=Math.min(p,v),g=Math.min(g,y),m=Math.max(m,v),f=Math.max(f,y)}var C=this.getResolutionForExtentInternal([p,g,m,f],[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);C=isNaN(C)?r:Math.max(C,r),C=this.getConstrainedResolution(C,a?0:1),c=-c;var I=(p+m)/2,M=(g+f)/2,x=[(I+=(s[1]-s[3])/2*C)*l-(M+=(s[0]-s[2])/2*C)*c,M*l+I*c],E=n.callback?n.callback:e.VOID;void 0!==n.duration?this.animateInternal({resolution:C,center:this.getConstrainedCenter(x,C),duration:n.duration,easing:n.easing},E):(this.targetResolution_=C,this.targetCenter_=x,this.applyTargetState_(!1,!0),j(E,!0))},n.prototype.centerOn=function(t,o,e){this.centerOnInternal((0,R.fromUserCoordinate)(t,this.getProjection()),o,e)},n.prototype.centerOnInternal=function(t,o,e){var n=this.getRotation(),i=Math.cos(-n),r=Math.sin(-n),s=t[0]*i-t[1]*r,a=t[1]*i+t[0]*r,u=this.getResolution(),h=(s+=(o[0]/2-e[0])*u)*i-(a+=(e[1]-o[1]/2)*u)*(r=-r),l=a*i+s*r;this.setCenterInternal([h,l])},n.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},n.prototype.adjustCenter=function(t){var o=(0,R.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},n.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},n.prototype.adjustResolution=function(t,o){var e=o&&(0,R.fromUserCoordinate)(o,this.getProjection());this.adjustResolutionInternal(t,e)},n.prototype.adjustResolutionInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),n=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,n,e);void 0!==o&&(this.targetCenter_=this.calculateCenterZoom(i,o)),this.targetResolution_*=t,this.applyTargetState_()},n.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},n.prototype.adjustRotation=function(t,o){o&&(o=(0,R.fromUserCoordinate)(o,this.getProjection())),this.adjustRotationInternal(t,o)},n.prototype.adjustRotationInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,e);void 0!==o&&(this.targetCenter_=this.calculateCenterRotate(n,o)),this.targetRotation_+=t,this.applyTargetState_()},n.prototype.setCenter=function(t){this.setCenterInternal((0,R.fromUserCoordinate)(t,this.getProjection()))},n.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},n.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},n.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},n.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},n.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},n.prototype.applyTargetState_=function(t,o){var e=this.getAnimating()||this.getInteracting()||o,n=this.constraints_.rotation(this.targetRotation_,e),i=this.getSizeFromViewport_(n),r=this.constraints_.resolution(this.targetResolution_,0,i,e),s=this.constraints_.center(this.targetCenter_,r,i,e);this.get(u.default.ROTATION)!==n&&this.set(u.default.ROTATION,n),this.get(u.default.RESOLUTION)!==r&&this.set(u.default.RESOLUTION,r),this.get(u.default.CENTER)&&(0,c.equals)(this.get(u.default.CENTER),s)||this.set(u.default.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations()},n.prototype.resolveConstraints=function(t,o,e){var n=void 0!==t?t:200,i=o||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getSizeFromViewport_(r),a=this.constraints_.resolution(this.targetResolution_,i,s),u=this.constraints_.center(this.targetCenter_,a,s);if(0===n)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=u,void this.applyTargetState_();this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&(0,c.equals)(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:u,resolution:a,duration:n,easing:p.easeOut,anchor:e}))},n.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(a.default.INTERACTING,1)},n.prototype.endInteraction=function(t,o,e){var n=e&&(0,R.fromUserCoordinate)(e,this.getProjection());this.endInteractionInternal(t,o,n)},n.prototype.endInteractionInternal=function(t,o,e){this.setHint(a.default.INTERACTING,-1),this.resolveConstraints(t,o,e)},n.prototype.getConstrainedCenter=function(t,o){var e=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),e)},n.prototype.getConstrainedZoom=function(t,o){var e=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(e,o))},n.prototype.getConstrainedResolution=function(t,o){var e=o||0,n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,e,n)},n}(i.default);function j(t,o){setTimeout(function(){t(o)},0)}function x(t){if(void 0!==t.extent){var o=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return(0,n.createExtent)(t.extent,t.constrainOnlyCenter,o)}var e=(0,R.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var i=e.getExtent().slice();return i[0]=-1/0,i[2]=1/0,(0,n.createExtent)(i,!1,!1)}return n.none}function E(o){var e,n,i,s=void 0!==o.minZoom?o.minZoom:I,a=void 0!==o.maxZoom?o.maxZoom:28,u=void 0!==o.zoomFactor?o.zoomFactor:2,h=void 0!==o.multiWorld&&o.multiWorld,l=void 0===o.smoothResolutionConstraint||o.smoothResolutionConstraint,c=(0,R.createProjection)(o.projection,"EPSG:3857"),p=c.getExtent(),m=o.constrainOnlyCenter,f=o.extent;if(h||f||!c.isGlobal()||(m=!1,f=p),void 0!==o.resolutions){var d=o.resolutions;n=d[s],i=void 0!==d[a]?d[a]:d[d.length-1],e=o.constrainResolution?(0,r.createSnapToResolutions)(d,l,!m&&f):(0,r.createMinMaxResolution)(n,i,l,!m&&f)}else{var _=(p?Math.max((0,g.getWidth)(p),(0,g.getHeight)(p)):360*R.METERS_PER_UNIT[v.default.DEGREES]/c.getMetersPerUnit())/t.DEFAULT_TILE_SIZE/Math.pow(2,I),y=_/Math.pow(2,28-I);void 0!==(n=o.maxResolution)?s=0:n=_/Math.pow(u,s),void 0===(i=o.minResolution)&&(i=void 0!==o.maxZoom?void 0!==o.maxResolution?n/Math.pow(u,a):_/Math.pow(u,a):y),a=s+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,a-s),e=o.constrainResolution?(0,r.createSnapToPower)(u,n,i,l,!m&&f):(0,r.createMinMaxResolution)(n,i,l,!m&&f)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:u}}function A(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?(0,s.createSnapToZero)():!1===o?s.none:"number"==typeof o?(0,s.createSnapToN)(o):s.none}return s.disable}function T(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var F=M;exports.default=F;
},{"./tilegrid/common.js":"mOEX","./util.js":"KniQ","./functions.js":"RgA2","./centerconstraint.js":"Rc7z","./Object.js":"PhPh","./resolutionconstraint.js":"o7nl","./rotationconstraint.js":"EKd0","./ViewHint.js":"cuLW","./ViewProperty.js":"cE7c","./array.js":"luEr","./asserts.js":"fLG6","./coordinate.js":"nGsj","./easing.js":"IeCz","./extent.js":"QDir","./geom/GeometryType.js":"lmV0","./geom/Polygon.js":"Nwwk","./math.js":"B96G","./obj.js":"mH6q","./proj.js":"Diht","./proj/Units.js":"yZx6"}],"q0nK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=c(require("../Collection.js")),r=c(require("../CollectionEventType.js")),n=require("../Object.js"),s=c(require("../ObjectEventType.js")),i=require("../asserts.js"),a=require("../events.js"),o=c(require("../events/EventType.js")),l=require("../extent.js"),u=c(require("./Base.js")),y=require("../obj.js"),h=c(require("../source/State.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f={LAYERS:"layers"},p=function(u){function c(e){var r=this,s=e||{},a=(0,y.assign)({},s);delete a.layers;var o=s.layers;return(r=u.call(this,a)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener((0,n.getChangeEventType)(f.LAYERS),r.handleLayersChanged_),o?Array.isArray(o)?o=new t.default(o.slice(),{unique:!0}):(0,i.assert)("function"==typeof o.getArray,43):o=new t.default(void 0,{unique:!0}),r.setLayers(o),r}return d(c,u),c.prototype.handleLayerChange_=function(){this.changed()},c.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(a.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var n in this.layersListenerKeys_.push((0,a.listen)(t,r.default.ADD,this.handleLayersAdd_,this),(0,a.listen)(t,r.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(a.unlistenByKey);(0,y.clear)(this.listenerKeys_);for(var i=t.getArray(),l=0,u=i.length;l<u;l++){var h=i[l];this.listenerKeys_[(0,e.getUid)(h)]=[(0,a.listen)(h,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(h,o.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},c.prototype.handleLayersAdd_=function(t){var r=t.element;this.listenerKeys_[(0,e.getUid)(r)]=[(0,a.listen)(r,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(r,o.default.CHANGE,this.handleLayerChange_,this)],this.changed()},c.prototype.handleLayersRemove_=function(t){var r=t.element,n=(0,e.getUid)(r);this.listenerKeys_[n].forEach(a.unlistenByKey),delete this.listenerKeys_[n],this.changed()},c.prototype.getLayers=function(){return this.get(f.LAYERS)},c.prototype.setLayers=function(e){this.set(f.LAYERS,e)},c.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},c.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});for(var n=this.getLayerState(),s=r,i=t.length;s<i;s++){var a=t[s];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=(0,l.getIntersection)(a.extent,n.extent):a.extent=n.extent)}return t},c.prototype.getSourceState=function(){return h.default.READY},c}(u.default),g=p;exports.default=g;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../asserts.js":"fLG6","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","./Base.js":"T6DQ","../obj.js":"mH6q","../source/State.js":"iC8j"}],"TAHd":[function(require,module,exports) {
"use strict";function r(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function e(r){return r[0]>0&&r[1]>0}function t(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function o(r,e){return Array.isArray(r)?r:(void 0===e?e=[r,r]:(e[0]=r,e[1]=r),e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=r,exports.hasArea=e,exports.scale=t,exports.toSize=o;
},{}],"kRwz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=I(require("./Collection.js")),r=I(require("./CollectionEventType.js")),n=I(require("./MapBrowserEvent.js")),i=I(require("./MapBrowserEventHandler.js")),o=I(require("./MapBrowserEventType.js")),a=I(require("./MapEvent.js")),s=I(require("./MapEventType.js")),l=I(require("./MapProperty.js")),d=I(require("./render/EventType.js")),u=S(require("./Object.js")),h=I(require("./ObjectEventType.js")),p=I(require("./TileQueue.js")),y=I(require("./View.js")),v=I(require("./ViewHint.js")),f=require("./asserts.js"),c=require("./dom.js"),_=require("./events.js"),g=I(require("./events/EventType.js")),E=require("./extent.js"),m=require("./functions.js"),w=require("./has.js"),T=I(require("./layer/Group.js")),C=require("./size.js"),R=require("./structs/PriorityQueue.js"),L=require("./transform.js"),x=require("./proj.js");function P(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return P=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function I(e){return e&&e.__esModule?e:{default:e}}var A=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function b(e,t){e.style.msTouchAction=t,e.style.touchAction=t,e.setAttribute("touch-action",t)}var O=function(y){function f(e){var n=y.call(this)||this,a=F(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:w.DEVICE_PIXEL_RATIO,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=(0,L.create)(),n.pixelToCoordinateTransform_=(0,L.create)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new i.default(n,e.moveTolerance);var s=n.handleMapBrowserEvent.bind(n);for(var d in o.default)n.mapBrowserEventHandler_.addEventListener(o.default[d],s);n.keyboardEventTarget_=a.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var h=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(g.default.CONTEXTMENU,h,!1),n.viewport_.addEventListener(g.default.WHEEL,h,!1),n.controls=a.controls||new t.default,n.interactions=a.interactions||new t.default,n.overlays_=a.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new p.default(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener((0,u.getChangeEventType)(l.default.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener((0,u.getChangeEventType)(l.default.VIEW),n.handleViewChanged_),n.addEventListener((0,u.getChangeEventType)(l.default.SIZE),n.handleSizeChanged_),n.addEventListener((0,u.getChangeEventType)(l.default.TARGET),n.handleTargetChanged_),n.setProperties(a.values),n.controls.forEach(function(e){e.setMap(this)}.bind(n)),n.controls.addEventListener(r.default.ADD,function(e){e.element.setMap(this)}.bind(n)),n.controls.addEventListener(r.default.REMOVE,function(e){e.element.setMap(null)}.bind(n)),n.interactions.forEach(function(e){e.setMap(this)}.bind(n)),n.interactions.addEventListener(r.default.ADD,function(e){e.element.setMap(this)}.bind(n)),n.interactions.addEventListener(r.default.REMOVE,function(e){e.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(r.default.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(n)),n.overlays_.addEventListener(r.default.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(n)),n}return A(f,y),f.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},f.prototype.addControl=function(e){this.getControls().push(e)},f.prototype.addInteraction=function(e){this.getInteractions().push(e)},f.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},f.prototype.addOverlay=function(e){this.getOverlays().push(e)},f.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},f.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(g.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(g.default.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(g.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),y.prototype.disposeInternal.call(this)},f.prototype.forEachFeatureAtPixel=function(e,t,r){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:m.TRUE,a=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,t,null,o,null)}},f.prototype.getFeaturesAtPixel=function(e,t){var r=[];return this.forEachFeatureAtPixel(e,function(e){r.push(e)},t),r},f.prototype.forEachLayerAtPixel=function(e,t,r){if(this.frameState_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||m.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,i,t,o)}},f.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:m.TRUE,i=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,n,null)},f.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},f.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},f.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]},f.prototype.getTarget=function(){return this.get(l.default.TARGET)},f.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},f.prototype.getCoordinateFromPixel=function(e){return(0,x.toUserCoordinate)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},f.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?(0,L.apply)(t.pixelToCoordinateTransform,e.slice()):null},f.prototype.getControls=function(){return this.controls},f.prototype.getOverlays=function(){return this.overlays_},f.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},f.prototype.getInteractions=function(){return this.interactions},f.prototype.getLayerGroup=function(){return this.get(l.default.LAYERGROUP)},f.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},f.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer.getSource();if(n&&n.loading)return!0}return!1},f.prototype.getPixelFromCoordinate=function(e){var t=(0,x.fromUserCoordinate)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},f.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?(0,L.apply)(t.coordinateToPixelTransform,e.slice(0,2)):null},f.prototype.getRenderer=function(){return this.renderer_},f.prototype.getSize=function(){return this.get(l.default.SIZE)},f.prototype.getView=function(){return this.get(l.default.VIEW)},f.prototype.getViewport=function(){return this.viewport_},f.prototype.getOverlayContainer=function(){return this.overlayContainer_},f.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},f.prototype.getTilePriority=function(e,t,r,n){var i=this.frameState_;if(!(i&&t in i.wantedTiles))return R.DROP;if(!i.wantedTiles[t][e.getKey()])return R.DROP;var o=i.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n},f.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,i=new n.default(r,this,e);this.handleMapBrowserEvent(i)},f.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){for(var t=e.originalEvent.target;t instanceof HTMLElement;){if(t.parentElement===this.overlayContainerStopEvent_)return;t=t.parentElement}e.frameState=this.frameState_;var r=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.getActive())if(!i.handleEvent(e))break}}},f.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,n=r;if(e){var i=e.viewHints;if(i[v.default.ANIMATING]||i[v.default.INTERACTING]){var o=!w.IMAGE_DECODE&&Date.now()-e.time>8;r=o?0:8,n=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,n))}!e||!this.hasListener(d.default.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(d.default.RENDERCOMPLETE,e);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},f.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},f.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.focusHandlerKeys_){for(var t=0,r=this.focusHandlerKeys_.length;t<r;++t)(0,_.unlistenByKey)(this.focusHandlerKeys_[t]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(t=0,r=this.keyHandlerKeys_.length;t<r;++t)(0,_.unlistenByKey)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var n=!0;e.hasAttribute("tabindex")&&(n=document.activeElement===e,this.focusHandlerKeys_=[(0,_.listen)(e,g.default.FOCUS,b.bind(this,this.viewport_,"none")),(0,_.listen)(e,g.default.BLUR,b.bind(this,this.viewport_,"auto"))]),b(this.viewport_,n?"none":"auto");var i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[(0,_.listen)(i,g.default.KEYDOWN,this.handleBrowserEvent,this),(0,_.listen)(i,g.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(g.default.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),(0,c.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(g.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},f.prototype.handleTileChange_=function(){this.render()},f.prototype.handleViewPropertyChanged_=function(){this.render()},f.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,_.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,_.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,e.getUid)(t)),this.viewPropertyListenerKey_=(0,_.listen)(t,h.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,_.listen)(t,g.default.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},f.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[(0,_.listen)(e,h.default.PROPERTYCHANGE,this.render,this),(0,_.listen)(e,g.default.CHANGE,this.render,this)]),this.render()},f.prototype.isRendered=function(){return!!this.frameState_},f.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},f.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},f.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},f.prototype.removeControl=function(e){return this.getControls().remove(e)},f.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},f.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},f.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},f.prototype.renderFrame_=function(e){var t=this.getSize(),r=this.getView(),n=this.frameState_,i=null;if(void 0!==t&&(0,C.hasArea)(t)&&r&&r.isDef()){var o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:n?n.declutterItems:[],extent:(0,E.getForViewAndSize)(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n)(!this.previousExtent_||!(0,E.isEmpty)(this.previousExtent_)&&!(0,E.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new a.default(s.default.MOVESTART,this,n)),this.previousExtent_=(0,E.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!i.viewHints[v.default.ANIMATING]&&!i.viewHints[v.default.INTERACTING]&&!(0,E.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new a.default(s.default.MOVEEND,this,i)),(0,E.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new a.default(s.default.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},f.prototype.setLayerGroup=function(e){this.set(l.default.LAYERGROUP,e)},f.prototype.setSize=function(e){this.set(l.default.SIZE,e)},f.prototype.setTarget=function(e){this.set(l.default.TARGET,e)},f.prototype.setView=function(e){this.set(l.default.VIEW,e)},f.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},f}(u.default);function F(e){var r=null;void 0!==e.keyboardEventTarget&&(r="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,o,a={},s=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new T.default({layers:e.layers});return a[l.default.LAYERGROUP]=s,a[l.default.TARGET]=e.target,a[l.default.VIEW]=void 0!==e.view?e.view:new y.default,void 0!==e.controls&&(Array.isArray(e.controls)?n=new t.default(e.controls.slice()):((0,f.assert)("function"==typeof e.controls.getArray,47),n=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new t.default(e.interactions.slice()):((0,f.assert)("function"==typeof e.interactions.getArray,48),i=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?o=new t.default(e.overlays.slice()):((0,f.assert)("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new t.default,{controls:n,interactions:i,keyboardEventTarget:r,overlays:o,values:a}}var K=O;exports.default=K;
},{"./util.js":"KniQ","./Collection.js":"FnDa","./CollectionEventType.js":"BTrx","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserEventType.js":"YhDM","./MapEvent.js":"vFcA","./MapEventType.js":"xLGm","./MapProperty.js":"zlNQ","./render/EventType.js":"z39m","./Object.js":"PhPh","./ObjectEventType.js":"zehl","./TileQueue.js":"tHOl","./View.js":"hNqE","./ViewHint.js":"cuLW","./asserts.js":"fLG6","./dom.js":"Xno5","./events.js":"UqnM","./events/EventType.js":"C8cu","./extent.js":"QDir","./functions.js":"RgA2","./has.js":"f3Nv","./layer/Group.js":"q0nK","./size.js":"TAHd","./structs/PriorityQueue.js":"RQLY","./transform.js":"P4eA","./proj.js":"Diht"}],"xxE2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../functions.js"),t=s(require("../MapEventType.js")),r=s(require("../Object.js")),n=require("../dom.js"),o=require("../events.js");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(r){function s(t){var n=r.call(this)||this;return n.element=t.element?t.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=t.render?t.render:e.VOID,t.target&&n.setTarget(t.target),n}return i(s,r),s.prototype.disposeInternal=function(){(0,n.removeNode)(this.element),r.prototype.disposeInternal.call(this)},s.prototype.getMap=function(){return this.map_},s.prototype.setMap=function(r){this.map_&&(0,n.removeNode)(this.element);for(var s=0,i=this.listenerKeys.length;s<i;++s)(0,o.unlistenByKey)(this.listenerKeys[s]);(this.listenerKeys.length=0,this.map_=r,this.map_)&&((this.target_?this.target_:r.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.VOID&&this.listenerKeys.push((0,o.listen)(r,t.default.POSTRENDER,this.render,this)),r.render())},s.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},s}(r.default),l=u;exports.default=l;
},{"../functions.js":"RgA2","../MapEventType.js":"xLGm","../Object.js":"PhPh","../dom.js":"Xno5","../events.js":"UqnM"}],"Q4Cf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=p,exports.default=void 0;var e=require("../array.js"),t=s(require("./Control.js")),l=require("../css.js"),i=require("../dom.js"),o=s(require("../events/EventType.js")),r=require("../layer/Layer.js");function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e=function(t,l){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])})(t,l)};return function(t,l){function i(){this.constructor=t}e(t,l),t.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),n=function(t){function s(e){var i=this,r=e||{};(i=t.call(this,{element:document.createElement("div"),render:r.render||p,target:r.target})||this).ulElement_=document.createElement("ul"),i.collapsed_=void 0===r.collapsed||r.collapsed,i.overrideCollapsible_=void 0!==r.collapsible,i.collapsible_=void 0===r.collapsible||r.collapsible,i.collapsible_||(i.collapsed_=!1);var s=void 0!==r.className?r.className:"ol-attribution",a=void 0!==r.tipLabel?r.tipLabel:"Attributions",n=void 0!==r.collapseLabel?r.collapseLabel:"»";"string"==typeof n?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=n):i.collapseLabel_=n;var c=void 0!==r.label?r.label:"i";"string"==typeof c?(i.label_=document.createElement("span"),i.label_.textContent=c):i.label_=c;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=a,u.appendChild(d),u.addEventListener(o.default.CLICK,i.handleClick_.bind(i),!1);var _=s+" "+l.CLASS_UNSELECTABLE+" "+l.CLASS_CONTROL+(i.collapsed_&&i.collapsible_?" "+l.CLASS_COLLAPSED:"")+(i.collapsible_?"":" ol-uncollapsible"),b=i.element;return b.className=_,b.appendChild(i.ulElement_),b.appendChild(u),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return a(s,t),s.prototype.collectSourceAttributions_=function(e){for(var t={},l=[],i=e.layerStatesArray,o=0,s=i.length;o<s;++o){var a=i[o];if((0,r.inView)(a,e.viewState)){var n=a.layer.getSource();if(n){var p=n.getAttributions();if(p){var c=p(e);if(c)if(this.overrideCollapsible_||!1!==n.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var d=0,u=c.length;d<u;++d)c[d]in t||(l.push(c[d]),t[c[d]]=!0);else c in t||(l.push(c),t[c]=!0)}}}}return l},s.prototype.updateElement_=function(t){if(t){var l=this.collectSourceAttributions_(t),o=l.length>0;if(this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),!(0,e.equals)(l,this.renderedAttributions_)){(0,i.removeChildren)(this.ulElement_);for(var r=0,s=l.length;r<s;++r){var a=document.createElement("li");a.innerHTML=l[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=l}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},s.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},s.prototype.handleToggle_=function(){this.element.classList.toggle(l.CLASS_COLLAPSED),this.collapsed_?(0,i.replaceNode)(this.collapseLabel_,this.label_):(0,i.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},s.prototype.getCollapsible=function(){return this.collapsible_},s.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},s.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},s.prototype.getCollapsed=function(){return this.collapsed_},s}(t.default);function p(e){this.updateElement_(e.frameState)}var c=n;exports.default=c;
},{"../array.js":"luEr","./Control.js":"xxE2","../css.js":"HgMV","../dom.js":"Xno5","../events/EventType.js":"C8cu","../layer/Layer.js":"GCgv"}],"sCgw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=s,exports.default=void 0;var t=r(require("./Control.js")),e=require("../css.js"),a=require("../easing.js"),o=r(require("../events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function o(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}}(),n=function(t){function r(a){var r=this,i=a||{};r=t.call(this,{element:document.createElement("div"),render:i.render||s,target:i.target})||this;var n=void 0!==i.className?i.className:"ol-rotate",l=void 0!==i.label?i.label:"⇧";r.label_=null,"string"==typeof l?(r.label_=document.createElement("span"),r.label_.className="ol-compass",r.label_.textContent=l):(r.label_=l,r.label_.classList.add("ol-compass"));var u=i.tipLabel?i.tipLabel:"Reset rotation",d=document.createElement("button");d.className=n+"-reset",d.setAttribute("type","button"),d.title=u,d.appendChild(r.label_),d.addEventListener(o.default.CLICK,r.handleClick_.bind(r),!1);var c=n+" "+e.CLASS_UNSELECTABLE+" "+e.CLASS_CONTROL,_=r.element;return _.className=c,_.appendChild(d),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=void 0!==i.duration?i.duration:250,r.autoHide_=void 0===i.autoHide||i.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(e.CLASS_HIDDEN),r}return i(r,t),r.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:a.easeOut}):t.setRotation(0))},r}(t.default);function s(t){var a=t.frameState;if(a){var o=a.viewState.rotation;if(o!=this.rotation_){var r="rotate("+o+"rad)";if(this.autoHide_){var i=this.element.classList.contains(e.CLASS_HIDDEN);i||0!==o?i&&0!==o&&this.element.classList.remove(e.CLASS_HIDDEN):this.element.classList.add(e.CLASS_HIDDEN)}this.label_.style.transform=r}this.rotation_=o}}var l=n;exports.default=l;
},{"./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz","../events/EventType.js":"C8cu"}],"L3CO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../events/EventType.js")),e=a(require("./Control.js")),o=require("../css.js"),n=require("../easing.js");function a(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function a(n){var a=this,i=n||{};a=e.call(this,{element:document.createElement("div"),target:i.target})||this;var r=void 0!==i.className?i.className:"ol-zoom",u=void 0!==i.delta?i.delta:1,d=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"−",s=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=r+"-in",p.setAttribute("type","button"),p.title=s,p.appendChild("string"==typeof d?document.createTextNode(d):d),p.addEventListener(t.default.CLICK,a.handleClick_.bind(a,u),!1);var m=document.createElement("button");m.className=r+"-out",m.setAttribute("type","button"),m.title=c,m.appendChild("string"==typeof l?document.createTextNode(l):l),m.addEventListener(t.default.CLICK,a.handleClick_.bind(a,-u),!1);var v=r+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,f=a.element;return f.className=v,f.appendChild(p),f.appendChild(m),a.duration_=void 0!==i.duration?i.duration:250,a}return i(a,e),a.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},a.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var o=e.getZoom();if(void 0!==o){var a=e.getConstrainedZoom(o+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:a,duration:this.duration_,easing:n.easeOut})):e.setZoom(a)}}},a}(e.default),u=r;exports.default=u;
},{"../events/EventType.js":"C8cu","./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz"}],"dOoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Control.js")),t=require("../css.js"),s=require("../dom.js"),n=require("../events.js"),l=r(require("../events/EventType.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(t,s){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(t,s)};return function(t,s){function n(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)}}(),o=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],c=function(e){function r(s){var n=this,r=s||{};(n=e.call(this,{element:document.createElement("div"),target:r.target})||this).cssClassName_=void 0!==r.className?r.className:"ol-full-screen";var u=void 0!==r.label?r.label:"⤢";n.labelNode_="string"==typeof u?document.createTextNode(u):u;var o=void 0!==r.labelActive?r.labelActive:"×";n.labelActiveNode_="string"==typeof o?document.createTextNode(o):o,n.button_=document.createElement("button");var c=r.tipLabel?r.tipLabel:"Toggle full-screen";n.setClassName_(n.button_,a()),n.button_.setAttribute("type","button"),n.button_.title=c,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(l.default.CLICK,n.handleClick_.bind(n),!1);var d=n.cssClassName_+" "+t.CLASS_UNSELECTABLE+" "+t.CLASS_CONTROL+" "+(i()?"":t.CLASS_UNSUPPORTED),_=n.element;return _.className=d,_.appendChild(n.button_),n.keys_=void 0!==r.keys&&r.keys,n.source_=r.source,n}return u(r,e),r.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){if(i()){var e=this.getMap();if(e)if(a())m();else{var t=void 0;t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?_(t):d(t)}}},r.prototype.handleFullScreenChange_=function(){var e=this.getMap();a()?(this.setClassName_(this.button_,!0),(0,s.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,s.replaceNode)(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},r.prototype.setClassName_=function(e,t){var s=this.cssClassName_+"-true",n=this.cssClassName_+"-false",l=t?s:n;e.classList.remove(s),e.classList.remove(n),e.classList.add(l)},r.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t)for(var s=0,l=o.length;s<l;++s)this.listenerKeys.push((0,n.listen)(document,o[s],this.handleFullScreenChange_,this))},r}(e.default);function i(){var e=document.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function a(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function _(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():d(e)}function m(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var p=c;exports.default=p;
},{"./Control.js":"xxE2","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"UqnM","../events/EventType.js":"C8cu"}],"Cbl8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=c,exports.default=void 0;var t=require("../events.js"),e=i(require("../pointer/EventType.js")),r=require("../Object.js"),o=i(require("./Control.js")),n=require("../proj.js");function i(t){return t&&t.__esModule?t:{default:t}}require("@openlayers/pepjs");var s=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),a="projection",u="coordinateFormat",p=function(o){function i(t){var e=this,n=t||{},i=document.createElement("div");return i.className=void 0!==n.className?n.className:"ol-mouse-position",(e=o.call(this,{element:i,render:n.render||c,target:n.target})||this).addEventListener((0,r.getChangeEventType)(a),e.handleProjectionChanged_),n.coordinateFormat&&e.setCoordinateFormat(n.coordinateFormat),n.projection&&e.setProjection(n.projection),e.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",e.renderOnMouseOut_=!!e.undefinedHTML_,e.renderedHTML_=i.innerHTML,e.mapProjection_=null,e.transform_=null,e}return s(i,o),i.prototype.handleProjectionChanged_=function(){this.transform_=null},i.prototype.getCoordinateFormat=function(){return this.get(u)},i.prototype.getProjection=function(){return this.get(a)},i.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},i.prototype.handleMouseOut=function(t){this.updateHTML_(null)},i.prototype.setMap=function(r){if(o.prototype.setMap.call(this,r),r){var n=r.getViewport();this.listenerKeys.push((0,t.listen)(n,e.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,t.listen)(n,e.default.POINTEROUT,this.handleMouseOut,this))}},i.prototype.setCoordinateFormat=function(t){this.set(u,t)},i.prototype.setProjection=function(t){this.set(a,(0,n.get)(t))},i.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?(0,n.getTransformFromProjections)(this.mapProjection_,r):n.identityTransform}var o=this.getMap().getCoordinateFromPixelInternal(t);if(o){var i=(0,n.getUserProjection)();i&&(this.transform_=(0,n.getTransformFromProjections)(this.mapProjection_,i)),this.transform_(o,o);var s=this.getCoordinateFormat();e=s?s(o):o.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},i}(o.default);function c(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var d=p;exports.default=d;
},{"../events.js":"UqnM","../pointer/EventType.js":"TaSm","../Object.js":"PhPh","./Control.js":"xxE2","../proj.js":"Diht","@openlayers/pepjs":"xusX"}],"RvU2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toContext=a,exports.getVectorContext=s,exports.getRenderPixel=l,exports.renderDeclutterItems=u;var e=require("./has.js"),t=require("./transform.js"),r=o(require("./render/canvas/Immediate.js")),i=require("./renderer/vector.js"),n=require("./proj.js");function o(e){return e&&e.__esModule?e:{default:e}}function a(i,n){var o=i.canvas,a=n||{},s=a.pixelRatio||e.DEVICE_PIXEL_RATIO,l=a.size;l&&(o.width=l[0]*s,o.height=l[1]*s,o.style.width=l[0]+"px",o.style.height=l[1]+"px");var u=[0,0,o.width,o.height],c=(0,t.scale)((0,t.create)(),s,s);return new r.default(i,s,u,c,0)}function s(e){var o,a=e.frameState,s=(0,t.multiply)(e.inversePixelTransform.slice(),a.coordinateToPixelTransform),l=(0,i.getSquaredTolerance)(a.viewState.resolution,a.pixelRatio),u=(0,n.getUserProjection)();return u&&(o=(0,n.getTransformFromProjections)(u,a.viewState.projection)),new r.default(e.context,a.pixelRatio,a.extent,s,a.viewState.rotation,l,o)}function l(e,r){var i=r.slice(0);return(0,t.apply)(e.inversePixelTransform.slice(),i),i}function u(e,t){t&&t.clear();for(var r=e.declutterItems,i=r.length-1;i>=0;--i)for(var n=r[i],o=n.items,a=0,s=o.length;a<s;a+=3)t=o[a].renderDeclutter(o[a+1],o[a+2],n.opacity,t);return r.length=0,t}
},{"./has.js":"f3Nv","./transform.js":"P4eA","./render/canvas/Immediate.js":"fo6K","./renderer/vector.js":"UCah","./proj.js":"Diht"}],"oIh9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=c(require("../Disposable.js")),r=require("../extent.js"),n=require("../functions.js"),o=require("../layer/Layer.js"),a=require("../style/IconImageCache.js"),i=require("../transform.js"),u=require("../render.js");function c(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(t){function c(e){var r=t.call(this)||this;return r.map_=e,r.declutterTree_=null,r}return s(c,t),c.prototype.dispatchRenderEvent=function(t,r){(0,e.abstract)()},c.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;(0,i.compose)(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),(0,i.makeInverse)(n,r)},c.prototype.forEachFeatureAtCoordinate=function(e,t,n,a,i,u,c,s){var l,p=t.viewState;function f(e,t,r){return i.call(u,t,e?r:null)}var d=p.projection,h=e,v=[[0,0]];if(d.canWrapX()){var y=d.getExtent(),_=(0,r.getWidth)(y),j=e[0];if(j<y[0]||j>y[2])h=[j+_*Math.ceil((y[0]-j)/_),e[1]];a&&v.push([-_,0],[_,0])}var m,x=t.layerStatesArray,g=x.length;this.declutterTree_&&(m=this.declutterTree_.all().map(function(e){return e.value}));for(var T=[],E=0;E<v.length;E++)for(var q=g-1;q>=0;--q){var C=x[q],b=C.layer;if(b.hasRenderer()&&(0,o.inView)(C,p)&&c.call(s,b)){var A=b.getRenderer(),F=b.getSource();if(A&&F){var w=F.getWrapX()?h:e,I=f.bind(null,C.managed);T[0]=w[0]+v[E][0],T[1]=w[1]+v[E][1],l=A.forEachFeatureAtCoordinate(T,t,n,I,m)}if(l)return l}}},c.prototype.forEachLayerAtPixel=function(t,r,n,o,a){return(0,e.abstract)()},c.prototype.hasFeatureAtCoordinate=function(e,t,r,o,a,i){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,o,n.TRUE,this,a,i)},c.prototype.getMap=function(){return this.map_},c.prototype.renderFrame=function(e){this.declutterTree_=(0,u.renderDeclutterItems)(e,this.declutterTree_)},c.prototype.scheduleExpireIconCache=function(e){a.shared.canExpireCache()&&e.postRenderFunctions.push(p)},c}(t.default);function p(e,t){a.shared.expire()}var f=l;exports.default=f;
},{"../util.js":"KniQ","../Disposable.js":"DDda","../extent.js":"QDir","../functions.js":"RgA2","../layer/Layer.js":"GCgv","../style/IconImageCache.js":"V0oB","../transform.js":"P4eA","../render.js":"RvU2"}],"MHsB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../css.js"),t=require("../layer/Layer.js"),r=u(require("../render/Event.js")),n=u(require("../render/EventType.js")),i=u(require("./Map.js")),a=u(require("../source/State.js")),s=require("../dom.js"),l=require("../render/canvas.js"),o=u(require("../events/EventType.js")),d=require("../events.js");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(i){function u(t){var r=i.call(this,t)||this;r.labelCacheKey_=(0,d.listen)(l.labelCache,o.default.CLEAR,t.redrawText.bind(t)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=e.CLASS_UNSELECTABLE+" ol-layers";var a=t.getViewport();return a.insertBefore(r.element_,a.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return c(u,i),u.prototype.dispatchRenderEvent=function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new r.default(e,void 0,t);n.dispatchEvent(i)}},u.prototype.disposeInternal=function(){(0,d.unlistenByKey)(this.labelCacheKey_),i.prototype.disposeInternal.call(this)},u.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(n.default.PRECOMPOSE,e);var r=e.layerStatesArray.sort(function(e,t){return e.zIndex-t.zIndex}),l=e.viewState;this.children_.length=0;for(var o=null,d=0,u=r.length;d<u;++d){var c=r[d];if(e.layerIndex=d,(0,t.inView)(c,l)&&(c.sourceState==a.default.READY||c.sourceState==a.default.UNDEFINED)){var h=c.layer.render(e,o);h&&h!==o&&(this.children_.push(h),o=h)}}i.prototype.renderFrame.call(this,e),(0,s.replaceChildren)(this.element_,this.children_),this.dispatchRenderEvent(n.default.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},u.prototype.forEachLayerAtPixel=function(e,r,n,i,a){for(var s=r.viewState,l=r.layerStatesArray,o=l.length-1;o>=0;--o){var d=l[o],u=d.layer;if(u.hasRenderer()&&(0,t.inView)(d,s)&&a(u)){var c=u.getRenderer().getDataAtPixel(e,r,n);if(c){var h=i(u,c);if(h)return h}}}},u}(i.default),p=h;exports.default=p;
},{"../css.js":"HgMV","../layer/Layer.js":"GCgv","../render/Event.js":"EB6P","../render/EventType.js":"z39m","./Map.js":"oIh9","../source/State.js":"iC8j","../dom.js":"Xno5","../render/canvas.js":"iAG7","../events/EventType.js":"C8cu","../events.js":"UqnM"}],"VpAM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"qWcX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=p(require("./MapEventType.js")),t=d(require("./Object.js")),n=p(require("./OverlayPositioning.js")),i=require("./css.js"),o=require("./dom.js"),r=require("./events.js"),s=require("./extent.js");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(a){function d(e){var o=a.call(this)||this;return o.options=e,o.id=e.id,o.insertFirst=void 0===e.insertFirst||e.insertFirst,o.stopEvent=void 0===e.stopEvent||e.stopEvent,o.element=document.createElement("div"),o.element.className=void 0!==e.className?e.className:"ol-overlay-container "+i.CLASS_SELECTABLE,o.element.style.position="absolute",o.autoPan=void 0!==e.autoPan&&e.autoPan,o.autoPanAnimation=e.autoPanAnimation||{},o.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,o.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},o.mapPostrenderListenerKey=null,o.addEventListener((0,t.getChangeEventType)(l.ELEMENT),o.handleElementChanged),o.addEventListener((0,t.getChangeEventType)(l.MAP),o.handleMapChanged),o.addEventListener((0,t.getChangeEventType)(l.OFFSET),o.handleOffsetChanged),o.addEventListener((0,t.getChangeEventType)(l.POSITION),o.handlePositionChanged),o.addEventListener((0,t.getChangeEventType)(l.POSITIONING),o.handlePositioningChanged),void 0!==e.element&&o.setElement(e.element),o.setOffset(void 0!==e.offset?e.offset:[0,0]),o.setPositioning(void 0!==e.positioning?e.positioning:n.default.TOP_LEFT),void 0!==e.position&&o.setPosition(e.position),o}return u(d,a),d.prototype.getElement=function(){return this.get(l.ELEMENT)},d.prototype.getId=function(){return this.id},d.prototype.getMap=function(){return this.get(l.MAP)},d.prototype.getOffset=function(){return this.get(l.OFFSET)},d.prototype.getPosition=function(){return this.get(l.POSITION)},d.prototype.getPositioning=function(){return this.get(l.POSITIONING)},d.prototype.handleElementChanged=function(){(0,o.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)},d.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,o.removeNode)(this.element),(0,r.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,r.listen)(t,e.default.POSTRENDER,this.render,this),this.updatePixelPosition();var n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element)}},d.prototype.render=function(){this.updatePixelPosition()},d.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},d.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(l.POSITION)&&this.autoPan&&this.panIntoView()},d.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},d.prototype.setElement=function(e){this.set(l.ELEMENT,e)},d.prototype.setMap=function(e){this.set(l.MAP,e)},d.prototype.setOffset=function(e){this.set(l.OFFSET,e)},d.prototype.setPosition=function(e){this.set(l.POSITION,e)},d.prototype.panIntoView=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect(e.getTargetElement(),e.getSize()),n=this.getElement(),i=this.getRect(n,[(0,o.outerWidth)(n),(0,o.outerHeight)(n)]),r=this.autoPanMargin;if(!(0,s.containsExtent)(t,i)){var a=i[0]-t[0],d=t[2]-i[2],p=i[1]-t[1],u=t[3]-i[3],l=[0,0];if(a<0?l[0]=a-r:d<0&&(l[0]=Math.abs(d)+r),p<0?l[1]=p-r:u<0&&(l[1]=Math.abs(u)+r),0!==l[0]||0!==l[1]){var h=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(h),g=[f[0]+l[0],f[1]+l[1]];e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},d.prototype.getRect=function(e,t){var n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+t[0],o+t[1]]},d.prototype.setPositioning=function(e){this.set(l.POSITIONING,e)},d.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},d.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},d.prototype.updateRenderedPosition=function(e,t){var i=this.element.style,o=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var s=o[0],a=o[1];if(r==n.default.BOTTOM_RIGHT||r==n.default.CENTER_RIGHT||r==n.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",i.left="");var d=Math.round(t[0]-e[0]-s)+"px";this.rendered.right_!=d&&(this.rendered.right_=d,i.right=d)}else{""!==this.rendered.right_&&(this.rendered.right_="",i.right=""),r!=n.default.BOTTOM_CENTER&&r!=n.default.CENTER_CENTER&&r!=n.default.TOP_CENTER||(s-=this.element.offsetWidth/2);var p=Math.round(e[0]+s)+"px";this.rendered.left_!=p&&(this.rendered.left_=p,i.left=p)}if(r==n.default.BOTTOM_LEFT||r==n.default.BOTTOM_CENTER||r==n.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",i.top="");var u=Math.round(t[1]-e[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=u,i.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",i.bottom=""),r!=n.default.CENTER_LEFT&&r!=n.default.CENTER_CENTER&&r!=n.default.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var l=Math.round(e[1]+a)+"px";this.rendered.top_!=l&&(this.rendered.top_="top",i.top=l)}},d.prototype.getOptions=function(){return this.options},d}(t.default),f=h;exports.default=f;
},{"./MapEventType.js":"xLGm","./Object.js":"PhPh","./OverlayPositioning.js":"VpAM","./css.js":"HgMV","./dom.js":"Xno5","./events.js":"UqnM","./extent.js":"QDir"}],"KMhA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=E,exports.default=void 0;var e=g(require("../PluggableMap.js")),t=g(require("../renderer/Composite.js")),i=g(require("../MapEventType.js")),o=g(require("../MapProperty.js")),n=require("../Object.js"),a=g(require("../ObjectEventType.js")),l=g(require("../Overlay.js")),r=g(require("../OverlayPositioning.js")),s=g(require("../ViewProperty.js")),p=g(require("./Control.js")),d=require("../geom/Polygon.js"),h=require("../css.js"),u=require("../dom.js"),c=require("../events.js"),v=g(require("../events/EventType.js")),_=require("../extent.js");function g(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),m=.75,b=.1,w=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return f(i,e),i.prototype.createRenderer=function(){return new t.default(this)},i}(e.default),y=function(e){function t(t){var i=this,o=t||{};(i=e.call(this,{element:document.createElement("div"),render:o.render||E,target:o.target})||this).boundHandleRotationChanged_=i.handleRotationChanged_.bind(i),i.collapsed_=void 0===o.collapsed||o.collapsed,i.collapsible_=void 0===o.collapsible||o.collapsible,i.collapsible_||(i.collapsed_=!1),i.rotateWithView_=void 0!==o.rotateWithView&&o.rotateWithView,i.viewExtent_=void 0;var n=void 0!==o.className?o.className:"ol-overviewmap",a=void 0!==o.tipLabel?o.tipLabel:"Overview map",s=void 0!==o.collapseLabel?o.collapseLabel:"«";"string"==typeof s?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=s):i.collapseLabel_=s;var p=void 0!==o.label?o.label:"»";"string"==typeof p?(i.label_=document.createElement("span"),i.label_.textContent=p):i.label_=p;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=a,u.appendChild(d),u.addEventListener(v.default.CLICK,i.handleClick_.bind(i),!1),i.ovmapDiv_=document.createElement("div"),i.ovmapDiv_.className="ol-overviewmap-map",i.ovmap_=new w({view:o.view});var c=i.ovmap_;o.layers&&o.layers.forEach(function(e){c.addLayer(e)});var _=document.createElement("div");_.className="ol-overviewmap-box",_.style.boxSizing="border-box",i.boxOverlay_=new l.default({position:[0,0],positioning:r.default.CENTER_CENTER,element:_}),i.ovmap_.addOverlay(i.boxOverlay_);var g=n+" "+h.CLASS_UNSELECTABLE+" "+h.CLASS_CONTROL+(i.collapsed_&&i.collapsible_?" "+h.CLASS_COLLAPSED:"")+(i.collapsible_?"":" ol-uncollapsible"),f=i.element;f.className=g,f.appendChild(i.ovmapDiv_),f.appendChild(u);var m=i,b=i.boxOverlay_,y=i.boxOverlay_.getElement(),C=function(e){var t,i={clientX:(t=e).clientX,clientY:t.clientY},o=c.getEventCoordinateInternal(i);b.setPosition(o)},x=function(e){var t=c.getEventCoordinateInternal(e);m.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",x)};return y.addEventListener("mousedown",function(){window.addEventListener("mousemove",C),window.addEventListener("mouseup",x)}),i}return f(t,e),t.prototype.setMap=function(t){var i=this.getMap();if(t!==i){if(i){var o=i.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,c.listen)(t,a.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var n=t.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===o.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},t.prototype.bindView_=function(e){e.addEventListener((0,n.getChangeEventType)(s.default.ROTATION),this.boundHandleRotationChanged_)},t.prototype.unbindView_=function(e){e.removeEventListener((0,n.getChangeEventType)(s.default.ROTATION),this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(!this.viewExtent_||!(0,_.equals)(o,this.viewExtent_)){this.viewExtent_=o;var n=t.getSize(),a=t.getView().calculateExtentInternal(n),l=t.getPixelFromCoordinateInternal((0,_.getTopLeft)(o)),r=t.getPixelFromCoordinateInternal((0,_.getBottomRight)(o)),s=Math.abs(l[0]-r[0]),p=Math.abs(l[1]-r[1]),d=n[0],h=n[1];s<d*b||p<h*b||s>d*m||p>h*m?this.resetExtent_():(0,_.containsExtent)(a,o)||this.recenter_()}}},t.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),n=t.getView(),a=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,a/2)*b);(0,_.scaleFromCenter)(o,l),n.fitInternal((0,d.fromExtent)(o))}},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),n=t.getView(),a=this.rotateWithView_?0:-o.getRotation(),l=this.boxOverlay_,r=this.boxOverlay_.getElement(),s=o.getCenterInternal(),p=o.getResolution(),d=n.getResolution(),h=i[0]*p/d,u=i[1]*p/d;if(l.setPosition(s),r){r.style.width=h+"px",r.style.height=u+"px";var c="rotate("+a+"rad)";r.style.transform=c}}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(h.CLASS_COLLAPSED),this.collapsed_?(0,u.replaceNode)(this.collapseLabel_,this.label_):(0,u.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),(0,c.listenOnce)(e,i.default.POSTRENDER,function(e){this.updateBox_()},this)}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t}(p.default);function E(e){this.validateExtent_(),this.updateBox_()}var C=y;exports.default=C;
},{"../PluggableMap.js":"kRwz","../renderer/Composite.js":"MHsB","../MapEventType.js":"xLGm","../MapProperty.js":"zlNQ","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../Overlay.js":"qWcX","../OverlayPositioning.js":"VpAM","../ViewProperty.js":"cE7c","./Control.js":"xxE2","../geom/Polygon.js":"Nwwk","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir"}],"DK5d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=h,exports.default=exports.Units=void 0;var e=require("../Object.js"),t=require("../asserts.js"),r=a(require("./Control.js")),i=require("../css.js"),s=require("../proj.js"),n=a(require("../proj/Units.js"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),l="units",d={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};exports.Units=d;var c=[1,2,5],p=function(r){function a(t){var s=this,n=t||{},a=void 0!==n.className?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return(s=r.call(this,{element:document.createElement("div"),render:n.render||h,target:n.target})||this).innerElement_=document.createElement("div"),s.innerElement_.className=a+"-inner",s.element.className=a+" "+i.CLASS_UNSELECTABLE,s.element.appendChild(s.innerElement_),s.viewState_=null,s.minWidth_=void 0!==n.minWidth?n.minWidth:64,s.renderedVisible_=!1,s.renderedWidth_=void 0,s.renderedHTML_="",s.addEventListener((0,e.getChangeEventType)(l),s.handleUnitsChanged_),s.setUnits(n.units||d.METRIC),s.scaleBar_=n.bar||!1,s.scaleBarSteps_=n.steps||4,s.scaleBarText_=n.text||!1,s}return o(a,r),a.prototype.getUnits=function(){return this.get(l)},a.prototype.handleUnitsChanged_=function(){this.updateElement_()},a.prototype.setUnits=function(e){this.set(l,e)},a.prototype.updateElement_=function(){var e=this.viewState_;if(e){var r=e.center,i=e.projection,a=this.getUnits(),o=a==d.DEGREES?n.default.DEGREES:n.default.METERS,l=(0,s.getPointResolution)(i,e.resolution,r,o),p=this.minWidth_*l,h="";if(a==d.DEGREES){var u=s.METERS_PER_UNIT[n.default.DEGREES];(p*=u)<u/60?(h="″",l*=3600):p<u?(h="′",l*=60):h="°"}else a==d.IMPERIAL?p<.9144?(h="in",l/=.0254):p<1609.344?(h="ft",l/=.3048):(h="mi",l/=1609.344):a==d.NAUTICAL?(l/=1852,h="nm"):a==d.METRIC?p<.001?(h="μm",l*=1e6):p<1?(h="mm",l*=1e3):p<1e3?h="m":(h="km",l/=1e3):a==d.US?p<.9144?(h="in",l*=39.37):p<1609.344?(h="ft",l/=.30480061):(h="mi",l/=1609.3472):(0,t.assert)(!1,33);for(var f,_,v,m,E=3*Math.floor(Math.log(this.minWidth_*l)/Math.log(10));;){v=Math.floor(E/3);var S=Math.pow(10,v);if(f=c[(E%3+3)%3]*S,_=Math.round(f/l),isNaN(_))return this.element.style.display="none",void(this.renderedVisible_=!1);if(_>=this.minWidth_)break;++E}m=this.scaleBar_?this.createScaleBar(_,f,h):f.toFixed(v<0?-v:0)+" "+h,this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=_&&(this.innerElement_.style.width=_+"px",this.renderedWidth_=_),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.createScaleBar=function(e,t,r){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),s=[],n=e/this.scaleBarSteps_,a="#ffffff",o=0;o<this.scaleBarSteps_;o++)0===o&&s.push(this.createMarker("absolute",o)),s.push('<div><div class="ol-scale-singlebar" style="width: '+n+"px;background-color: "+a+';"></div>'+this.createMarker("relative",o)+(o%2==0||2===this.scaleBarSteps_?this.createStepText(o,e,!1,t,r):"")+"</div>"),o===this.scaleBarSteps_-1&&s.push(this.createStepText(o+1,e,!0,t,r)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+i+"</div>":"")+s.join("")+"</div>"},a.prototype.createMarker=function(e,t){return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+("absolute"===e?3:-10)+'px;"></div>'},a.prototype.createStepText=function(e,t,r,i,s){var n=(0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+s);return'<div class="ol-scale-step-text" style="margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+(0===e?0:t/this.scaleBarSteps_*2)+"px;left: "+(r?t+"px":"unset")+';">'+n+"</div>"},a.prototype.getScaleForResolution=function(){var e=this.getMap().getView().getResolution(),t=this.viewState_.projection.getMetersPerUnit();return parseFloat(e.toString())*t*39.37*(25.4/.28)},a}(r.default);function h(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var u=p;exports.default=u;
},{"../Object.js":"PhPh","../asserts.js":"fLG6","./Control.js":"xxE2","../css.js":"HgMV","../proj.js":"Diht","../proj/Units.js":"yZx6"}],"AKwM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=g,exports.default=void 0;var t=l(require("./Control.js")),e=require("../css.js"),i=require("../easing.js"),n=require("../events.js"),r=require("../events/Event.js"),o=l(require("../events/EventType.js")),s=require("../math.js"),a=l(require("../pointer/EventType.js"));function l(t){return t&&t.__esModule?t:{default:t}}require("@openlayers/pepjs");var h=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u={VERTICAL:0,HORIZONTAL:1},d=function(t){function l(i){var n=this,s=i||{};(n=t.call(this,{element:document.createElement("div"),render:s.render||g})||this).dragListenerKeys_=[],n.currentResolution_=void 0,n.direction_=u.VERTICAL,n.dragging_,n.heightLimit_=0,n.widthLimit_=0,n.startX_,n.startY_,n.thumbSize_=null,n.sliderInitialized_=!1,n.duration_=void 0!==s.duration?s.duration:200;var l=void 0!==s.className?s.className:"ol-zoomslider",h=document.createElement("button");h.setAttribute("type","button"),h.className=l+"-thumb "+e.CLASS_UNSELECTABLE;var d=n.element;return d.setAttribute("touch-action","none"),d.className=l+" "+e.CLASS_UNSELECTABLE+" "+e.CLASS_CONTROL,d.appendChild(h),d.addEventListener(a.default.POINTERDOWN,n.handleDraggerStart_.bind(n),!1),d.addEventListener(a.default.POINTERMOVE,n.handleDraggerDrag_.bind(n),!1),d.addEventListener(a.default.POINTERUP,n.handleDraggerEnd_.bind(n),!1),d.addEventListener(o.default.CLICK,n.handleContainerClick_.bind(n),!1),h.addEventListener(o.default.CLICK,r.stopPropagation,!1),n}return h(l,t),l.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},l.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight,n=t.firstElementChild,r=getComputedStyle(n),o=n.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),s=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[o,s],e>i?(this.direction_=u.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=u.VERTICAL,this.heightLimit_=i-s),this.sliderInitialized_=!0},l.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(n),o=e.getConstrainedZoom(e.getZoomForResolution(r));e.animateInternal({zoom:o,duration:this.duration_,easing:i.easeOut})},l.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var i=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,n.listen)(document,a.default.POINTERMOVE,i,this),(0,n.listen)(document,a.default.POINTERUP,r,this))}}},l.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,n=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},l.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0)},l.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==u.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},l.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===u.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,s.clamp)(i,0,1)},l.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},l.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return(0,s.clamp)(1-e(t),0,1)},l}(t.default);function g(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}var _=d;exports.default=_;
},{"./Control.js":"xxE2","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../math.js":"B96G","../pointer/EventType.js":"TaSm","@openlayers/pepjs":"xusX"}],"W4Y0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../events/EventType.js")),e=require("../geom/Polygon.js"),n=r(require("./Control.js")),o=require("../css.js");function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(n){function r(e){var r=this,i=e||{};(r=n.call(this,{element:document.createElement("div"),target:i.target})||this).extent=i.extent?i.extent:null;var a=void 0!==i.className?i.className:"ol-zoom-extent",l=void 0!==i.label?i.label:"E",u=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=u,s.appendChild("string"==typeof l?document.createTextNode(l):l),s.addEventListener(t.default.CLICK,r.handleClick_.bind(r),!1);var c=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,p=r.element;return p.className=c,p.appendChild(s),r}return i(r,n),r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),n=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,e.fromExtent)(n))},r}(n.default),l=a;exports.default=l;
},{"../events/EventType.js":"C8cu","../geom/Polygon.js":"Nwwk","./Control.js":"xxE2","../css.js":"HgMV"}],"ucqx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=d,Object.defineProperty(exports,"Attribution",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Rotate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Zoom",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"Control",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"FullScreen",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"MousePosition",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"OverviewMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ScaleLine",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"ZoomSlider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"ZoomToExtent",{enumerable:!0,get:function(){return f.default}});var e=s(require("./Collection.js")),t=s(require("./control/Attribution.js")),r=s(require("./control/Rotate.js")),o=s(require("./control/Zoom.js")),n=s(require("./control/Control.js")),u=s(require("./control/FullScreen.js")),i=s(require("./control/MousePosition.js")),l=s(require("./control/OverviewMap.js")),a=s(require("./control/ScaleLine.js")),c=s(require("./control/ZoomSlider.js")),f=s(require("./control/ZoomToExtent.js"));function s(e){return e&&e.__esModule?e:{default:e}}function d(n){var u=n||{},i=new e.default;return(void 0===u.zoom||u.zoom)&&i.push(new o.default(u.zoomOptions)),(void 0===u.rotate||u.rotate)&&i.push(new r.default(u.rotateOptions)),(void 0===u.attribution||u.attribution)&&i.push(new t.default(u.attributionOptions)),i}
},{"./Collection.js":"FnDa","./control/Attribution.js":"Q4Cf","./control/Rotate.js":"sCgw","./control/Zoom.js":"L3CO","./control/Control.js":"xxE2","./control/FullScreen.js":"dOoh","./control/MousePosition.js":"Cbl8","./control/OverviewMap.js":"KMhA","./control/ScaleLine.js":"DK5d","./control/ZoomSlider.js":"AKwM","./control/ZoomToExtent.js":"W4Y0"}],"caOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ACTIVE:"active"};exports.default=e;
},{}],"jB2p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pan=a,exports.zoomByDelta=u,exports.default=void 0;var t=o(require("../Object.js")),e=require("../easing.js"),n=o(require("./Property.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return r(e,t),e.prototype.getActive=function(){return this.get(n.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(n.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(t.default);function a(t,n,o){var r=t.getCenterInternal();if(r){var i=[r[0]+n[0],r[1]+n[1]];t.animateInternal({duration:void 0!==o?o:250,easing:e.linear,center:t.getConstrainedCenter(i)})}}function u(t,n,o,r){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+n),u=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:u,anchor:o,duration:void 0!==r?r:250,easing:e.easeOut})}}var s=i;exports.default=s;
},{"../Object.js":"PhPh","../easing.js":"IeCz","./Property.js":"caOi"}],"NSa4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../MapBrowserEventType.js")),e=n(require("./Interaction.js"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var a=o?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(t){function e(e){var r=t.call(this,{handleEvent:i})||this,n=e||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return u(e,t),e}(e.default);function i(r){var n=!1;if(r.type==t.default.DBLCLICK){var o=r.originalEvent,u=r.map,a=r.coordinate,i=o.shiftKey?-this.delta_:this.delta_,f=u.getView();(0,e.zoomByDelta)(f,i,a,this.duration_),r.preventDefault(),n=!0}return!n}var f=a;exports.default=f;
},{"../MapBrowserEventType.js":"YhDM","./Interaction.js":"jB2p"}],"YcID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.primaryAction=exports.penOnly=exports.touchOnly=exports.mouseOnly=exports.targetNotEditable=exports.shiftKeyOnly=exports.platformModifierKeyOnly=exports.noModifierKeys=exports.doubleClick=exports.singleClick=exports.pointerMove=exports.never=exports.mouseActionButton=exports.click=exports.always=exports.focus=exports.altShiftKeysOnly=exports.altKeyOnly=void 0;var e=o(require("../MapBrowserEventType.js")),t=require("../asserts.js"),r=require("../functions.js"),n=require("../has.js");function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.altKeyOnly=i;var s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.altShiftKeysOnly=s;var a=function(e){return e.target.getTargetElement()===document.activeElement};exports.focus=a;var p=r.TRUE;exports.always=p;var u=function(t){return t.type==e.default.CLICK};exports.click=u;var l=function(e){var t=e.originalEvent;return 0==t.button&&!(n.WEBKIT&&n.MAC&&t.ctrlKey)};exports.mouseActionButton=l;var y=r.FALSE;exports.never=y;var v=function(e){return"pointermove"==e.type};exports.pointerMove=v;var c=function(t){return t.type==e.default.SINGLECLICK};exports.singleClick=c;var f=function(t){return t.type==e.default.DBLCLICK};exports.doubleClick=f;var x=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.noModifierKeys=x;var K=function(e){var t=e.originalEvent;return!t.altKey&&(n.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};exports.platformModifierKeyOnly=K;var E=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.shiftKeyOnly=E;var d=function(e){var t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t};exports.targetNotEditable=d;var m=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"mouse"==r.pointerType};exports.mouseOnly=m;var g=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"touch"===r.pointerType};exports.touchOnly=g;var O=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"pen"===r.pointerType};exports.penOnly=O;var h=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),r.isPrimary&&0===r.button};exports.primaryAction=h;
},{"../MapBrowserEventType.js":"YhDM","../asserts.js":"fLG6","../functions.js":"RgA2","../has.js":"f3Nv"}],"dnA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=i,exports.default=void 0;var e=r(require("../MapBrowserEventType.js")),t=r(require("./Interaction.js")),n=require("../obj.js");function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function r(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return o(r,t),r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==e.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==e.default.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==e.default.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==e.default.POINTERMOVE&&this.handleMoveEvent(t);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(t){if(u(t)){var r=t.pointerEvent,o=r.pointerId.toString();t.type==e.default.POINTERUP?delete this.trackedPointers_[o]:t.type==e.default.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=(0,n.getValues)(this.trackedPointers_)}},r}(t.default);function i(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function u(t){var n=t.type;return n===e.default.POINTERDOWN||n===e.default.POINTERDRAG||n===e.default.POINTERUP}var p=a;exports.default=p;
},{"../MapBrowserEventType.js":"YhDM","./Interaction.js":"jB2p","../obj.js":"mH6q"}],"N4gU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../coordinate.js"),e=require("../easing.js"),n=require("../events/condition.js"),i=require("../functions.js"),r=a(require("./Pointer.js"));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=i?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(n){function o(t){var e=n.call(this,{stopDown:i.FALSE})||this,r=t||{};return e.kinetic_=r.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1,e.condition_=r.condition?r.condition:u,e.noKinetic_=!1,e}return s(o,n),o.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=(0,r.centroid)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();(0,t.scale)(o,a.getResolution()),(0,t.rotate)(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length},o.prototype.handleUpEvent=function(t){var n=t.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=i.getCenterInternal(),s=n.getPixelFromCoordinateInternal(a),c=n.getCoordinateFromPixelInternal([s[0]-r*Math.cos(o),s[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(c),duration:500,easing:e.easeOut})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},o.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},o}(r.default);function u(t){return(0,n.noModifierKeys)(t)&&(0,n.primaryAction)(t)}var l=c;exports.default=l;
},{"../coordinate.js":"nGsj","../easing.js":"IeCz","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2"}],"PgBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),n=require("../events/condition.js"),e=require("../functions.js"),o=i(require("./Pointer.js"));function i(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),a=function(o){function i(t){var i=this,r=t||{};return(i=o.call(this,{stopDown:e.FALSE})||this).condition_=r.condition?r.condition:n.altShiftKeysOnly,i.lastAngle_=void 0,i.duration_=void 0!==r.duration?r.duration:250,i}return r(i,o),i.prototype.handleDragEvent=function(e){if((0,n.mouseOnly)(e)){var o=e.map,i=o.getView();if(i.getConstraints().rotation!==t.disable){var r=o.getSize(),a=e.pixel,u=Math.atan2(r[1]/2-a[1],a[0]-r[0]/2);if(void 0!==this.lastAngle_){var s=u-this.lastAngle_;i.adjustRotationInternal(-s)}this.lastAngle_=u}}},i.prototype.handleUpEvent=function(t){return!(0,n.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)},i.prototype.handleDownEvent=function(t){return!!(0,n.mouseOnly)(t)&&(!(!(0,n.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},i}(o.default),u=a;exports.default=u;
},{"../rotationconstraint.js":"EKd0","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2"}],"bMDg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Disposable.js")),e=i(require("../geom/Polygon.js"));function i(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),n=function(t){function i(e){var i=t.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return r(i,t),i.prototype.disposeInternal=function(){this.setMap(null)},i.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},i.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},i.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},i.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new e.default([r])},i.prototype.getGeometry=function(){return this.geometry_},i}(t.default),o=n;exports.default=o;
},{"../Disposable.js":"DDda","../geom/Polygon.js":"Nwwk"}],"AQRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../events/Event.js")),n=require("../events/condition.js"),o=require("../functions.js"),e=r(require("./Pointer.js")),i=r(require("../render/Box.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(n,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(n,o)};return function(n,o){function e(){this.constructor=n}t(n,o),n.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),a={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},u=function(t){function n(n,o,e){var i=t.call(this,n)||this;return i.coordinate=o,i.mapBrowserEvent=e,i}return s(n,t),n}(t.default),d=function(t){function e(e){var r=t.call(this)||this,s=e||{};return r.box_=new i.default(s.className||"ol-dragbox"),r.minArea_=void 0!==s.minArea?s.minArea:64,r.onBoxEnd_=s.onBoxEnd?s.onBoxEnd:o.VOID,r.startPixel_=null,r.condition_=s.condition?s.condition:n.always,r.boxEndCondition_=s.boxEndCondition?s.boxEndCondition:r.defaultBoxEndCondition,r}return s(e,t),e.prototype.defaultBoxEndCondition=function(t,n,o){var e=o[0]-n[0],i=o[1]-n[1];return e*e+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,n.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new u(a.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,n.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new u(a.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!(0,n.mouseOnly)(t)&&(!(!(0,n.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new u(a.BOXSTART,t.coordinate,t)),!0))},e}(e.default),c=d;exports.default=c;
},{"../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2","../render/Box.js":"bMDg"}],"pTqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../easing.js"),e=require("../events/condition.js"),n=require("../extent.js"),o=r(require("./DragBox.js"));function r(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function n(n){var o=this,r=n||{},i=r.condition?r.condition:e.shiftKeyOnly;return(o=t.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:u})||this).duration_=void 0!==r.duration?r.duration:200,o.out_=void 0!==r.out&&r.out,o}return i(n,t),n}(o.default);function u(){var e=this.getMap(),o=e.getView(),r=e.getSize(),i=this.getGeometry().getExtent();if(this.out_){var a=o.calculateExtentInternal(r),u=(0,n.createOrUpdateFromCoordinates)([e.getPixelFromCoordinateInternal((0,n.getBottomLeft)(i)),e.getPixelFromCoordinateInternal((0,n.getTopRight)(i))]),s=o.getResolutionForExtentInternal(u,r);(0,n.scaleFromCenter)(a,1/s),i=a}var c=o.getConstrainedResolution(o.getResolutionForExtentInternal(i,r)),l=o.getConstrainedCenter((0,n.getCenter)(i),c);o.animateInternal({resolution:c,center:l,duration:this.duration_,easing:t.easeOut})}var s=a;exports.default=s;
},{"../easing.js":"IeCz","../events/condition.js":"YcID","../extent.js":"QDir","./DragBox.js":"AQRw"}],"mmJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LEFT:37,UP:38,RIGHT:39,DOWN:40};exports.default=e;
},{}],"CFRo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../coordinate.js"),e=a(require("../events/EventType.js")),r=a(require("../events/KeyCode.js")),n=require("../events/condition.js"),o=u(require("./Interaction.js"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=n?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}function a(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(t){function e(e){var r=t.call(this,{handleEvent:d})||this,o=e||{};return r.defaultCondition_=function(t){return(0,n.noModifierKeys)(t)&&(0,n.targetNotEditable)(t)},r.condition_=void 0!==o.condition?o.condition:r.defaultCondition_,r.duration_=void 0!==o.duration?o.duration:100,r.pixelDelta_=void 0!==o.pixelDelta?o.pixelDelta:128,r}return f(e,t),e}(o.default);function d(n){var i=!1;if(n.type==e.default.KEYDOWN){var u=n.originalEvent.keyCode;if(this.condition_(n)&&(u==r.default.DOWN||u==r.default.LEFT||u==r.default.RIGHT||u==r.default.UP)){var a=n.map.getView(),f=a.getResolution()*this.pixelDelta_,l=0,d=0;u==r.default.DOWN?d=-f:u==r.default.LEFT?l=-f:u==r.default.RIGHT?l=f:d=f;var c=[l,d];(0,t.rotate)(c,a.getRotation()),(0,o.pan)(a,c,this.duration_),n.preventDefault(),i=!0}}return!i}var c=l;exports.default=c;
},{"../coordinate.js":"nGsj","../events/EventType.js":"C8cu","../events/KeyCode.js":"mmJk","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"S8wR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../events/EventType.js")),e=require("../events/condition.js"),r=o(require("./Interaction.js"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t){function r(r){var n=t.call(this,{handleEvent:c})||this,o=r||{};return n.condition_=o.condition?o.condition:e.targetNotEditable,n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:100,n}return a(r,t),r}(r.default);function c(e){var n=!1;if(e.type==t.default.KEYDOWN||e.type==t.default.KEYPRESS){var o=e.originalEvent.charCode;if(this.condition_(e)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var i=e.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_,u=i.getView();(0,r.zoomByDelta)(u,a,void 0,this.duration_),e.preventDefault(),n=!0}}return!n}var f=u;exports.default=f;
},{"../events/EventType.js":"C8cu","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"kPt6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Mode=void 0;var t=require("../events/condition.js"),e=s(require("../events/EventType.js")),o=require("../has.js"),i=n(require("./Interaction.js")),r=require("../math.js");function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=i?Object.getOwnPropertyDescriptor(t,r):null;n&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=t[r]}return o.default=t,e&&e.set(t,o),o}function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),d={TRACKPAD:"trackpad",WHEEL:"wheel"};exports.Mode=d;var l=function(a){function n(e){var o=this,i=e||{};return(o=a.call(this,i)||this).totalDelta_=0,o.lastDelta_=0,o.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,o.duration_=void 0!==i.duration?i.duration:250,o.timeout_=void 0!==i.timeout?i.timeout:80,o.useAnchor_=void 0===i.useAnchor||i.useAnchor,o.condition_=i.condition?i.condition:t.always,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.trackpadDeltaPerZoom_=300,o}return u(n,a),n.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},n.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==e.default.WHEEL)return!0;t.preventDefault();var i,r=t.map,a=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==e.default.WHEEL&&(i=a.deltaY,o.FIREFOX&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=o.DEVICE_PIXEL_RATIO),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;var n=Date.now();if(void 0===this.startTime_&&(this.startTime_=n),(!this.mode_||n-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?d.TRACKPAD:d.WHEEL),this.mode_===d.TRACKPAD){var s=r.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),s.adjustZoom(-i/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=n,!1}this.totalDelta_+=i;var u=Math.max(this.timeout_-(n-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),u),!1},n.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var o=(0,r.clamp)(this.totalDelta_,-this.maxDelta_,this.maxDelta_);(0,i.zoomByDelta)(e,-o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},n.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},n}(i.default),c=l;exports.default=c;
},{"../events/condition.js":"YcID","../events/EventType.js":"C8cu","../has.js":"f3Nv","./Interaction.js":"jB2p","../math.js":"B96G"}],"hbGN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=o(require("./Pointer.js")),n=require("../rotationconstraint.js");function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(r){function o(e){var n=this,o=e||{},i=o;return i.stopDown||(i.stopDown=t.FALSE),(n=r.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return i(o,r),o.prototype.handleDragEvent=function(t){var r=0,o=this.targetPointers[0],i=this.targetPointers[1],a=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX);if(void 0!==this.lastAngle_){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=a;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==n.disable){var c=l.getViewport().getBoundingClientRect(),h=(0,e.centroid)(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(h),this.rotating_&&(l.render(),u.adjustRotationInternal(r,this.anchor_))}},o.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},o.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},o}(e.default),s=a;exports.default=s;
},{"../functions.js":"RgA2","./Pointer.js":"dnA2","../rotationconstraint.js":"EKd0"}],"rcXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=r(require("./Pointer.js"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(n){function r(e){var r=this,o=e||{},i=o;return i.stopDown||(i.stopDown=t.FALSE),(r=n.call(this,i)||this).anchor_=null,r.duration_=void 0!==o.duration?o.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return o(r,n),r.prototype.handleDragEvent=function(t){var n=1,r=this.targetPointers[0],o=this.targetPointers[1],i=r.clientX-o.clientX,a=r.clientY-o.clientY,s=Math.sqrt(i*i+a*a);void 0!==this.lastDistance_&&(n=this.lastDistance_/s),this.lastDistance_=s;var u=t.map,c=u.getView();1!=n&&(this.lastScaleDelta_=n);var l=u.getViewport().getBoundingClientRect(),p=(0,e.centroid)(this.targetPointers);p[0]-=l.left,p[1]-=l.top,this.anchor_=u.getCoordinateFromPixelInternal(p),u.render(),c.adjustResolutionInternal(n,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},r}(e.default),a=i;exports.default=a;
},{"../functions.js":"RgA2","./Pointer.js":"dnA2"}],"IYO6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=require("../events.js"),r=o(require("../events/Event.js")),s=o(require("../events/EventType.js")),n=o(require("./Interaction.js")),i=require("../proj.js");function o(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function s(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),a={ADD_FEATURES:"addfeatures"},c=function(t){function e(e,r,s,n){var i=t.call(this,e)||this;return i.features=s,i.file=r,i.projection=n,i}return u(e,t),e}(r.default),l=function(r){function n(e){var s=this,n=e||{};return(s=r.call(this,{handleEvent:t.TRUE})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],s.projection_=n.projection?(0,i.get)(n.projection):null,s.dropListenKeys_=null,s.source_=n.source||null,s.target=n.target?n.target:null,s}return u(n,r),n.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),n=this.projection_;n||(n=s.getView().getProjection());for(var i=this.formatConstructors_,o=[],u=0,l=i.length;u<l;++u){var f=new i[u];if((o=this.tryReadFeatures_(f,r,{featureProjection:n}))&&o.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(o)),this.dispatchEvent(new c(a.ADD_FEATURES,t,o,n))},n.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,e.listen)(r,s.default.DROP,f,this),(0,e.listen)(r,s.default.DRAGENTER,p,this),(0,e.listen)(r,s.default.DRAGOVER,p,this),(0,e.listen)(r,s.default.DROP,p,this)]}},n.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),r.prototype.setActive.call(this,t)},n.prototype.setMap=function(t){this.unregisterListeners_(),r.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},n.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},n.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(e.unlistenByKey),this.dropListenKeys_=null)},n}(n.default);function f(t){for(var e=t.dataTransfer.files,r=0,n=e.length;r<n;++r){var i=e.item(r),o=new FileReader;o.addEventListener(s.default.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function p(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var h=l;exports.default=h;
},{"../functions.js":"RgA2","../events.js":"UqnM","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","./Interaction.js":"jB2p","../proj.js":"Diht"}],"ITeC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../events/condition.js"),e=n(require("./Pointer.js"));function n(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(e){function n(n){var i=this,o=n||{};return(i=e.call(this,o)||this).condition_=o.condition?o.condition:t.shiftKeyOnly,i.lastAngle_=void 0,i.lastMagnitude_=void 0,i.lastScaleDelta_=0,i.duration_=void 0!==o.duration?o.duration:400,i}return i(n,e),n.prototype.handleDragEvent=function(e){if((0,t.mouseOnly)(e)){var n=e.map,i=n.getSize(),o=e.pixel,a=o[0]-i[0]/2,r=i[1]/2-o[1],s=Math.atan2(r,a),l=Math.sqrt(a*a+r*r),u=n.getView();if(void 0!==this.lastAngle_){var d=this.lastAngle_-s;u.adjustRotationInternal(d)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&u.adjustResolutionInternal(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}},n.prototype.handleUpEvent=function(e){if(!(0,t.mouseOnly)(e))return!0;var n=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),this.lastScaleDelta_=0,!1},n.prototype.handleDownEvent=function(e){return!!(0,t.mouseOnly)(e)&&(!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},n}(e.default),a=o;exports.default=a;
},{"../events/condition.js":"YcID","./Pointer.js":"dnA2"}],"AyCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=s(require("./GeometryType.js")),r=s(require("./SimpleGeometry.js")),o=require("./flat/deflate.js"),i=require("./flat/transform.js");function s(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),a=function(r){function s(t,e,o){var i=r.call(this)||this;if(void 0!==o&&void 0===e)i.setFlatCoordinates(o,t);else{var s=e||0;i.setCenterAndRadius(t,s,o)}return i}return n(s,r),s.prototype.clone=function(){return new s(this.flatCoordinates.slice(),void 0,this.layout)},s.prototype.closestPointXY=function(t,e,r,o){var i=this.flatCoordinates,s=t-i[0],n=e-i[1],a=s*s+n*n;if(a<o){if(0===a)for(var u=0;u<this.stride;++u)r[u]=i[u];else{var d=this.getRadius()/Math.sqrt(a);r[0]=i[0]+d*s,r[1]=i[1]+d*n;for(u=2;u<this.stride;++u)r[u]=i[u]}return r.length=this.stride,a}return o},s.prototype.containsXY=function(t,e){var r=this.flatCoordinates,o=t-r[0],i=e-r[1];return o*o+i*i<=this.getRadiusSquared_()},s.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},s.prototype.computeExtent=function(e){var r=this.flatCoordinates,o=r[this.stride]-r[0];return(0,t.createOrUpdate)(r[0]-o,r[1]-o,r[0]+o,r[1]+o,e)},s.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},s.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},s.prototype.getType=function(){return e.default.CIRCLE},s.prototype.intersectsExtent=function(e){var r=this.getExtent();if((0,t.intersects)(e,r)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||(e[1]<=o[1]&&e[3]>=o[1]||(0,t.forEachCorner)(e,this.intersectsCoordinate.bind(this)))}return!1},s.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+r;for(var i=1;i<e;++i)o[e+i]=t[i];this.setFlatCoordinates(this.layout,o),this.changed()},s.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=(0,o.deflateCoordinate)(i,0,t,this.stride);i[s++]=i[0]+e;for(var n=1,a=this.stride;n<a;++n)i[s++]=i[n];i.length=s,this.changed()},s.prototype.getCoordinates=function(){return null},s.prototype.setCoordinates=function(t,e){},s.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},s.prototype.rotate=function(t,e){var r=this.getCenter(),o=this.getStride();this.setCenter((0,i.rotate)(r,0,r.length,o,t,e,r)),this.changed()},s.prototype.translate=function(t,e){var r=this.getCenter(),o=this.getStride();this.setCenter((0,i.translate)(r,0,r.length,o,t,e,r)),this.changed()},s}(r.default);a.prototype.transform;var u=a;exports.default=u;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl","./flat/transform.js":"LGwr"}],"fbCo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=f(require("./GeometryLayout.js")),r=f(require("./GeometryType.js")),s=f(require("./LineString.js")),n=f(require("./SimpleGeometry.js")),o=require("./flat/closest.js"),a=require("./flat/deflate.js"),l=require("./flat/inflate.js"),d=require("./flat/interpolate.js"),u=require("./flat/intersectsextent.js"),h=require("./flat/simplify.js");function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),c=function(n){function f(e,i,r){var s=n.call(this)||this;if(s.ends_=[],s.maxDelta_=-1,s.maxDeltaRevision_=-1,Array.isArray(e[0]))s.setCoordinates(e,i);else if(void 0!==i&&r)s.setFlatCoordinates(i,e),s.ends_=r;else{for(var o=s.getLayout(),a=e,l=[],d=[],u=0,h=a.length;u<h;++u){var f=a[u];0===u&&(o=f.getLayout()),(0,t.extend)(l,f.getFlatCoordinates()),d.push(l.length)}s.setFlatCoordinates(o,l),s.ends_=d}return s}return p(f,n),f.prototype.appendLineString=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},f.prototype.closestPointXY=function(t,i,r,s){return s<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,i,r,s))},f.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM||0===this.flatCoordinates.length)return null;var s=void 0!==e&&e,n=void 0!==r&&r;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,s,n)},f.prototype.getCoordinates=function(){return(0,l.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},f.prototype.getEnds=function(){return this.ends_},f.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},f.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[],n=0,o=0,a=e.length;o<a;++o){var l=e[o],d=new s.default(t.slice(n,l),i);r.push(d),n=l}return r},f.prototype.getFlatMidpoints=function(){for(var e=[],i=this.flatCoordinates,r=0,s=this.ends_,n=this.stride,o=0,a=s.length;o<a;++o){var l=s[o],u=(0,d.interpolatePoint)(i,r,l,n,.5);(0,t.extend)(e,u),r=l}return e},f.prototype.getSimplifiedGeometryInternal=function(t){var e=[],r=[];return e.length=(0,h.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,r),new f(e,i.default.XY,r)},f.prototype.getType=function(){return r.default.MULTI_LINE_STRING},f.prototype.intersectsExtent=function(t){return(0,u.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},f.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,a.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},f}(n.default),y=c;exports.default=y;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./LineString.js":"DfxW","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/simplify.js":"IEpt"}],"dNu5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),r=u(require("./GeometryType.js")),o=u(require("./Point.js")),i=u(require("./SimpleGeometry.js")),n=require("./flat/deflate.js"),s=require("./flat/inflate.js"),a=require("../math.js");function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=function(i){function u(t,e){var r=i.call(this)||this;return e&&!Array.isArray(t[0])?r.setFlatCoordinates(e,t):r.setCoordinates(t,e),r}return l(u,i),u.prototype.appendPoint=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},u.prototype.clone=function(){return new u(this.flatCoordinates.slice(),this.layout)},u.prototype.closestPointXY=function(t,r,o,i){if(i<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,r))return i;for(var n=this.flatCoordinates,s=this.stride,u=0,l=n.length;u<l;u+=s){var f=(0,a.squaredDistance)(t,r,n[u],n[u+1]);if(f<i){i=f;for(var d=0;d<s;++d)o[d]=n[u+d];o.length=s}}return i},u.prototype.getCoordinates=function(){return(0,s.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new o.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},u.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],n=0,s=t.length;n<s;n+=r){var a=new o.default(t.slice(n,n+r),e);i.push(a)}return i},u.prototype.getType=function(){return r.default.MULTI_POINT},u.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,n=r.length;i<n;i+=o){var s=r[i],a=r[i+1];if((0,e.containsXY)(t,s,a))return!0}return!1},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},u}(i.default),d=f;exports.default=d;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryType.js":"lmV0","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","../math.js":"B96G"}],"VjQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingss=r;var e=require("../../extent.js");function r(r,t,a,n){for(var s=[],o=(0,e.createEmpty)(),i=0,u=a.length;i<u;++i){var l=a[i];o=(0,e.createOrUpdateFromFlatCoordinates)(r,t,l[0],n),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return s}
},{"../../extent.js":"QDir"}],"ouhF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=y(require("./GeometryLayout.js")),s=y(require("./GeometryType.js")),r=y(require("./MultiPoint.js")),n=y(require("./Polygon.js")),o=y(require("./SimpleGeometry.js")),a=require("./flat/area.js"),l=require("./flat/center.js"),d=require("./flat/closest.js"),h=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),c=require("./flat/intersectsextent.js"),p=require("./flat/orient.js"),_=require("./flat/simplify.js");function y(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),C=function(o){function y(e,i,s){var r=o.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!s&&!Array.isArray(e[0])){for(var n=r.getLayout(),a=e,l=[],d=[],h=0,u=a.length;h<u;++h){var f=a[h];0===h&&(n=f.getLayout());for(var g=l.length,c=f.getEnds(),p=0,_=c.length;p<_;++p)c[p]+=g;(0,t.extend)(l,f.getFlatCoordinates()),d.push(c)}i=n,e=l,s=d}return void 0!==i&&s?(r.setFlatCoordinates(i,e),r.endss_=s):r.setCoordinates(e,i),r}return v(y,o),y.prototype.appendPolygon=function(e){var i;if(this.flatCoordinates){var s=this.flatCoordinates.length;(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates());for(var r=0,n=(i=e.getEnds().slice()).length;r<n;++r)i[r]+=s}else this.flatCoordinates=e.getFlatCoordinates().slice(),i=e.getEnds().slice(),this.endss_.push();this.endss_.push(i),this.changed()},y.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();return new y(this.flatCoordinates.slice(),this.layout,e)},y.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,i,s,r))},y.prototype.containsXY=function(t,e){return(0,h.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},y.prototype.getArea=function(){return(0,a.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,p.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,l.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){return new r.default(this.getFlatInteriorPoints().slice(),i.default.XYM)},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,p.linearRingssAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,p.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,_.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new y(e,i.default.XY,s)},y.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var s=this.endss_[t].slice(),r=s[s.length-1];if(0!==e)for(var o=0,a=s.length;o<a;++o)s[o]-=e;return new n.default(this.flatCoordinates.slice(e,r),this.layout,s)},y.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],r=0,o=0,a=i.length;o<a;++o){var l=i[o].slice(),d=l[l.length-1];if(0!==r)for(var h=0,u=l.length;h<u;++h)l[h]-=r;var f=new n.default(e.slice(r,d),t,l);s.push(f),r=d}return s},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(t){return(0,c.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},y.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var s=i[i.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()},y}(o.default),q=C;exports.default=q;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"Utvi","./GeometryType.js":"lmV0","./MultiPoint.js":"dNu5","./Polygon.js":"Nwwk","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/center.js":"VjQP","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"FNhl","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"cJkE","./flat/simplify.js":"IEpt"}],"e7i2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRegularPolygon=F,exports.createBox=R,exports.default=void 0;var e=w(require("../events/EventType.js")),t=w(require("../Feature.js")),i=w(require("../MapBrowserEventType.js")),s=w(require("../MapBrowserPointerEvent.js")),o=require("../Object.js"),n=require("../coordinate.js"),r=w(require("../events/Event.js")),a=require("../events/condition.js"),h=require("../extent.js"),u=require("../functions.js"),d=w(require("../geom/Circle.js")),_=w(require("../geom/GeometryType.js")),l=w(require("../geom/LineString.js")),c=w(require("../geom/MultiLineString.js")),f=w(require("../geom/MultiPoint.js")),p=w(require("../geom/MultiPolygon.js")),y=w(require("../geom/Point.js")),g=O(require("../geom/Polygon.js")),m=w(require("./Pointer.js")),C=w(require("./Property.js")),k=w(require("../layer/Vector.js")),v=w(require("../source/Vector.js")),P=require("../style/Style.js");function T(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=s?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}function w(e){return e&&e.__esModule?e:{default:e}}var L=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),N={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I={DRAWSTART:"drawstart",DRAWEND:"drawend"},D=function(e){function t(t,i){var s=e.call(this,t)||this;return s.feature=i,s}return L(t,e),t}(r.default),E=function(r){function h(e){var t=this,i=e;i.stopDown||(i.stopDown=u.FALSE),(t=r.call(this,i)||this).shouldHandle_=!1,t.downPx_=null,t.downTimeout_,t.lastDragTime_,t.freehand_=!1,t.source_=e.source?e.source:null,t.features_=e.features?e.features:null,t.snapTolerance_=e.snapTolerance?e.snapTolerance:12,t.type_=e.type,t.mode_=M(t.type_),t.stopClick_=!!e.stopClick,t.minPoints_=e.minPoints?e.minPoints:t.mode_===N.POLYGON?3:2,t.maxPoints_=e.maxPoints?e.maxPoints:1/0,t.finishCondition_=e.finishCondition?e.finishCondition:u.TRUE;var s=e.geometryFunction;if(!s)if(t.type_===_.default.CIRCLE)s=function(e,t){var i=t||new d.default([NaN,NaN]),s=(0,n.squaredDistance)(e[0],e[1]);return i.setCenterAndRadius(e[0],Math.sqrt(s)),i};else{var h,c=t.mode_;c===N.POINT?h=y.default:c===N.LINE_STRING?h=l.default:c===N.POLYGON&&(h=g.default),s=function(e,t){var i=t;return i?c===N.POLYGON?e[0].length?i.setCoordinates([e[0].concat([e[0][0]])]):i.setCoordinates([]):i.setCoordinates(e):i=new h(e),i}}return t.geometryFunction_=s,t.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,t.finishCoordinate_=null,t.sketchFeature_=null,t.sketchPoint_=null,t.sketchCoords_=null,t.sketchLine_=null,t.sketchLineCoords_=null,t.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,t.overlay_=new k.default({source:new v.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:G(),updateWhileInteracting:!0}),t.geometryName_=e.geometryName,t.condition_=e.condition?e.condition:a.noModifierKeys,t.freehandCondition_,e.freehand?t.freehandCondition_=a.always:t.freehandCondition_=e.freehandCondition?e.freehandCondition:a.shiftKeyOnly,t.addEventListener((0,o.getChangeEventType)(C.default.ACTIVE),t.updateState_),t}return L(h,r),h.prototype.setMap=function(e){r.prototype.setMap.call(this,e),this.updateState_()},h.prototype.getOverlay=function(){return this.overlay_},h.prototype.handleEvent=function(t){t.originalEvent.type===e.default.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==N.POINT&&this.freehandCondition_(t);var s=t.type===i.default.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&t.type===i.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,s=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===i.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),o=!1):this.freehand_&&t.type===i.default.POINTERDOWN?o=!1:s?(o=t.type===i.default.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(t):("mouse"==t.pointerEvent.pointerType||t.type===i.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===i.default.DBLCLICK&&(o=!1),r.prototype.handleEvent.call(this,t)&&o},h.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s.default(i.default.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},h.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var i=this.mode_===N.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===N.POINT&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},h.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,i=e.pixel,s=t[0]-i[0],o=t[1]-i[1],n=s*s+o*o;if(this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},h.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var i=!1,s=[this.finishCoordinate_];if(this.mode_===N.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===N.POLYGON){var o=this.sketchCoords_;i=o[0].length>this.minPoints_,s=[o[0][0],o[0][o[0].length-2]]}if(i)for(var n=e.map,r=0,a=s.length;r<a;r++){var h=s[r],u=n.getPixelFromCoordinate(h),d=e.pixel,_=d[0]-u[0],l=d[1]-u[1],c=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(_*_+l*l)<=c){this.finishCoordinate_=h;break}}}return t},h.prototype.createOrUpdateSketchPoint_=function(e){var i=e.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(i):(this.sketchPoint_=new t.default(new y.default(i)),this.updateSketchFeatures_())},h.prototype.startDrawing_=function(e){var i=e.coordinate;this.finishCoordinate_=i,this.mode_===N.POINT?this.sketchCoords_=i.slice():this.mode_===N.POLYGON?(this.sketchCoords_=[[i.slice(),i.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[i.slice(),i.slice()],this.sketchLineCoords_&&(this.sketchLine_=new t.default(new l.default(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new t.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new D(I.DRAWSTART,this.sketchFeature_))},h.prototype.modifyDrawing_=function(e){var i,s,o,n=e.coordinate,r=this.sketchFeature_.getGeometry();(this.mode_===N.POINT?s=this.sketchCoords_:this.mode_===N.POLYGON?(s=(i=this.sketchCoords_[0])[i.length-1],this.atFinish_(e)&&(n=this.finishCoordinate_.slice())):s=(i=this.sketchCoords_)[i.length-1],s[0]=n[0],s[1]=n[1],this.geometryFunction_(this.sketchCoords_,r),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(n);if(r.getType()==_.default.POLYGON&&this.mode_!==N.POLYGON){this.sketchLine_||(this.sketchLine_=new t.default);var a=r.getLinearRing(0);(o=this.sketchLine_.getGeometry())?(o.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),o.changed()):(o=new l.default(a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(o))}else this.sketchLineCoords_&&(o=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},h.prototype.addToDrawing_=function(e){var t,i,s=e.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===N.LINE_STRING?(this.finishCoordinate_=s.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():t=!0),i.push(s.slice()),this.geometryFunction_(i,o)):this.mode_===N.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():t=!0),i.push(s.slice()),t&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),t&&this.finishDrawing()},h.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry();this.mode_===N.LINE_STRING?((e=this.sketchCoords_).splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===N.POLYGON&&((e=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},h.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,i=e.getGeometry();this.mode_===N.LINE_STRING?(t.pop(),this.geometryFunction_(t,i)):this.mode_===N.POLYGON&&(t[0].pop(),this.geometryFunction_(t,i),t=i.getCoordinates()),this.type_===_.default.MULTI_POINT?e.setGeometry(new f.default([t])):this.type_===_.default.MULTI_LINE_STRING?e.setGeometry(new c.default([t])):this.type_===_.default.MULTI_POLYGON&&e.setGeometry(new p.default([t])),this.dispatchEvent(new D(I.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},h.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},h.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new D(I.DRAWSTART,this.sketchFeature_))},h.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},h.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},h}(m.default);function G(){var e=(0,P.createEditingStyle)();return function(t,i){return e[t.getGeometry().getType()]}}function F(e,t){return function(i,s){var o=i[0],r=i[1],a=Math.sqrt((0,n.squaredDistance)(o,r)),h=s||(0,g.fromCircle)(new d.default(o),e),u=t;if(!t){var _=r[0]-o[0],l=r[1]-o[1];u=Math.atan(l/_)-(_<0?Math.PI:0)}return(0,g.makeRegular)(h,o,a,u),h}}function R(){return function(e,t){var i=(0,h.boundingExtent)(e),s=[[(0,h.getBottomLeft)(i),(0,h.getBottomRight)(i),(0,h.getTopRight)(i),(0,h.getTopLeft)(i),(0,h.getBottomLeft)(i)]],o=t;return o?o.setCoordinates(s):o=new g.default(s),o}}function M(e){var t;return e===_.default.POINT||e===_.default.MULTI_POINT?t=N.POINT:e===_.default.LINE_STRING||e===_.default.MULTI_LINE_STRING?t=N.LINE_STRING:e===_.default.POLYGON||e===_.default.MULTI_POLYGON?t=N.POLYGON:e===_.default.CIRCLE&&(t=N.CIRCLE),t}var S=E;exports.default=S;
},{"../events/EventType.js":"C8cu","../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../MapBrowserPointerEvent.js":"J1WQ","../Object.js":"PhPh","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../events/condition.js":"YcID","../extent.js":"QDir","../functions.js":"RgA2","../geom/Circle.js":"AyCw","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","./Property.js":"caOi","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"he4w"}],"o7b8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=x(require("../Feature.js")),t=x(require("../MapBrowserEventType.js")),n=require("../coordinate.js"),r=x(require("../events/Event.js")),o=require("../extent.js"),i=x(require("../geom/GeometryType.js")),a=x(require("../geom/Point.js")),u=require("../geom/Polygon.js"),l=x(require("./Pointer.js")),s=x(require("../layer/Vector.js")),p=x(require("../source/Vector.js")),c=require("../style/Style.js"),d=require("../proj.js");function x(e){return e&&e.__esModule?e:{default:e}}var h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f={EXTENTCHANGED:"extentchanged"},_=function(e){function t(t){var n=e.call(this,f.EXTENTCHANGED)||this;return n.extent=t,n}return h(t,e),t}(r.default),v=function(r){function i(e){var t=this,n=e||{};return(t=r.call(this,n)||this).extent_=null,t.pointerHandler_=null,t.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,t.snappedToVertex_=!1,t.extentFeature_=null,t.vertexFeature_=null,e||(e={}),t.extentOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:y(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.vertexOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:g(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&t.setExtent(e.extent),t}return h(i,r),i.prototype.snapToVertex_=function(e,t){var r=t.getCoordinateFromPixelInternal(e),o=this.getExtentInternal();if(o){var i=O(o);i.sort(function(e,t){return(0,n.squaredDistanceToSegment)(r,e)-(0,n.squaredDistanceToSegment)(r,t)});var a=i[0],u=(0,n.closestOnSegment)(r,a),l=t.getPixelFromCoordinateInternal(u);if((0,n.distance)(e,l)<=this.pixelTolerance_){var s=t.getPixelFromCoordinateInternal(a[0]),p=t.getPixelFromCoordinateInternal(a[1]),c=(0,n.squaredDistance)(l,s),d=(0,n.squaredDistance)(l,p),x=Math.sqrt(Math.min(c,d));return this.snappedToVertex_=x<=this.pixelTolerance_,this.snappedToVertex_&&(u=c>d?a[1]:a[0]),u}}return null},i.prototype.handlePointerMove_=function(e){var t=e.pixel,n=e.map,r=this.snapToVertex_(t,n);r||(r=n.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(r)},i.prototype.createOrUpdateExtentFeature_=function(t){var n=this.extentFeature_;return n?t?n.setGeometry((0,u.fromExtent)(t)):n.setGeometry(void 0):(n=t?new e.default((0,u.fromExtent)(t)):new e.default({}),this.extentFeature_=n,this.extentOverlay_.getSource().addFeature(n)),n},i.prototype.createOrUpdatePointerFeature_=function(t){var n=this.vertexFeature_;n?n.getGeometry().setCoordinates(t):(n=new e.default(new a.default(t)),this.vertexFeature_=n,this.vertexOverlay_.getSource().addFeature(n));return n},i.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=t.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),r.prototype.handleEvent.call(this,e),!1)},i.prototype.handleDownEvent=function(e){var t=e.pixel,n=e.map,r=this.getExtentInternal(),o=this.snapToVertex_(t,n),i=function(e){var t=null,n=null;return e[0]==r[0]?t=r[2]:e[0]==r[2]&&(t=r[0]),e[1]==r[1]?n=r[3]:e[1]==r[3]&&(n=r[1]),null!==t&&null!==n?[t,n]:null};if(o&&r){var a=o[0]==r[0]||o[0]==r[2]?o[0]:null,u=o[1]==r[1]||o[1]==r[3]?o[1]:null;null!==a&&null!==u?this.pointerHandler_=E(i(o)):null!==a?this.pointerHandler_=m(i([a,r[1]]),i([a,r[3]])):null!==u&&(this.pointerHandler_=m(i([r[0],u]),i([r[2],u])))}else o=n.getCoordinateFromPixelInternal(t),this.setExtent([o[0],o[1],o[0],o[1]]),this.pointerHandler_=E(o);return!0},i.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},i.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtentInternal();return t&&0!==(0,o.getArea)(t)||this.setExtent(null),!1},i.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),r.prototype.setMap.call(this,e)},i.prototype.getExtent=function(){return(0,d.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},i.prototype.getExtentInternal=function(){return this.extent_},i.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new _(this.extent_))},i}(l.default);function y(){var e=(0,c.createEditingStyle)();return function(t,n){return e[i.default.POLYGON]}}function g(){var e=(0,c.createEditingStyle)();return function(t,n){return e[i.default.POINT]}}function E(e){return function(t){return(0,o.boundingExtent)([e,t])}}function m(e,t){return e[0]==t[0]?function(n){return(0,o.boundingExtent)([e,[n[0],t[1]]])}:e[1]==t[1]?function(n){return(0,o.boundingExtent)([e,[t[0],n[1]]])}:null}function O(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var P=v;exports.default=P;
},{"../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"he4w","../proj.js":"Diht"}],"qrxo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ModifyEvent=void 0;var e=require("../util.js"),t=x(require("../Collection.js")),r=x(require("../CollectionEventType.js")),n=x(require("../Feature.js")),i=x(require("../MapBrowserEventType.js")),o=require("../array.js"),a=require("../coordinate.js"),s=x(require("../events/Event.js")),u=x(require("../events/EventType.js")),d=require("../events/condition.js"),h=require("../extent.js"),l=x(require("../geom/GeometryType.js")),g=x(require("../geom/Point.js")),_=x(require("./Pointer.js")),f=x(require("../layer/Vector.js")),p=x(require("../source/Vector.js")),c=x(require("../source/VectorEventType.js")),v=x(require("../structs/RBush.js")),m=require("../style/Style.js"),y=require("../proj.js");function x(e){return e&&e.__esModule?e:{default:e}}var E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=0,S=1,F=[0,0,0,0],T=[],I={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},P=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.features=r,i.mapBrowserEvent=n,i}return E(t,e),t}(s.default);exports.ModifyEvent=P;var G=function(s){function _(e){var n,i=s.call(this,e)||this;if(i.boundHandleFeatureChange_=i.handleFeatureChange_.bind(i),i.condition_=e.condition?e.condition:d.primaryAction,i.defaultDeleteCondition_=function(e){return(0,d.altKeyOnly)(e)&&(0,d.singleClick)(e)},i.deleteCondition_=e.deleteCondition?e.deleteCondition:i.defaultDeleteCondition_,i.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d.always,i.vertexFeature_=null,i.vertexSegments_=null,i.lastPixel_=[0,0],i.ignoreNextSingleClick_=!1,i.modified_=!1,i.rBush_=new v.default,i.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,i.snappedToVertex_=!1,i.changingFeature_=!1,i.dragSegments_=[],i.overlay_=new f.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:b(),updateWhileAnimating:!0,updateWhileInteracting:!0}),i.SEGMENT_WRITERS_={Point:i.writePointGeometry_.bind(i),LineString:i.writeLineStringGeometry_.bind(i),LinearRing:i.writeLineStringGeometry_.bind(i),Polygon:i.writePolygonGeometry_.bind(i),MultiPoint:i.writeMultiPointGeometry_.bind(i),MultiLineString:i.writeMultiLineStringGeometry_.bind(i),MultiPolygon:i.writeMultiPolygonGeometry_.bind(i),Circle:i.writeCircleGeometry_.bind(i),GeometryCollection:i.writeGeometryCollectionGeometry_.bind(i)},i.source_=null,e.source?(i.source_=e.source,n=new t.default(i.source_.getFeatures()),i.source_.addEventListener(c.default.ADDFEATURE,i.handleSourceAdd_.bind(i)),i.source_.addEventListener(c.default.REMOVEFEATURE,i.handleSourceRemove_.bind(i))):n=e.features,!n)throw new Error("The modify interaction requires features or a source");return i.features_=n,i.features_.forEach(i.addFeature_.bind(i)),i.features_.addEventListener(r.default.ADD,i.handleFeatureAdd_.bind(i)),i.features_.addEventListener(r.default.REMOVE,i.handleFeatureRemove_.bind(i)),i.lastPointerEvent_=null,i}return E(_,s),_.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var r=this.SEGMENT_WRITERS_[t.getType()];r&&r(e,t)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),e.addEventListener(u.default.CHANGE,this.boundHandleFeatureChange_)},_.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new P(I.MODIFYSTART,this.features_,e)))},_.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(u.default.CHANGE,this.boundHandleFeatureChange_)},_.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach(function(t){e===t.feature&&r.push(t)});for(var n=r.length-1;n>=0;--n){for(var i=r[n],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);t.remove(i)}},_.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),s.prototype.setActive.call(this,e)},_.prototype.setMap=function(e){this.overlay_.setMap(e),s.prototype.setMap.call(this,e)},_.prototype.getOverlay=function(){return this.overlay_},_.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},_.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},_.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},_.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},_.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},_.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},_.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:e,geometry:t,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},_.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,geometry:t,index:n,segment:o};this.rBush_.insert((0,h.boundingExtent)(o),a)}},_.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),d={feature:e,geometry:t,depth:[n],index:a,segment:u};this.rBush_.insert((0,h.boundingExtent)(u),d)}},_.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),d={feature:e,geometry:t,depth:[n],index:a,segment:u};this.rBush_.insert((0,h.boundingExtent)(u),d)}},_.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var u=o[a],d=0,l=u.length-1;d<l;++d){var g=u.slice(d,d+2),_={feature:e,geometry:t,depth:[a,n],index:d,segment:g};this.rBush_.insert((0,h.boundingExtent)(g),_)}},_.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),n={feature:e,geometry:t,index:C,segment:[r,r]},i={feature:e,geometry:t,index:S,segment:[r,r]},o=[n,i];n.featureSegments=o,i.featureSegments=o,this.rBush_.insert((0,h.createOrUpdateFromCoordinate)(r),n),this.rBush_.insert(t.getExtent(),i)},_.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=r[n];(0,this.SEGMENT_WRITERS_[i.getType()])(e,i)}},_.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new n.default(new g.default(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},_.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=i.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=i.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==i.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),s.prototype.handleEvent.call(this,e)&&!t);var t},_.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){for(var i=this.dragSegments_[r],o=i[0],s=o.depth,u=o.geometry,d=void 0,h=o.segment,g=i[1];t.length<u.getStride();)t.push(h[g][t.length]);switch(u.getType()){case l.default.POINT:d=t,h[0]=t,h[1]=t;break;case l.default.MULTI_POINT:(d=u.getCoordinates())[o.index]=t,h[0]=t,h[1]=t;break;case l.default.LINE_STRING:(d=u.getCoordinates())[o.index+g]=t,h[g]=t;break;case l.default.MULTI_LINE_STRING:case l.default.POLYGON:(d=u.getCoordinates())[s[0]][o.index+g]=t,h[g]=t;break;case l.default.MULTI_POLYGON:(d=u.getCoordinates())[s[1]][s[0]][o.index+g]=t,h[g]=t;break;case l.default.CIRCLE:h[0]=t,h[1]=t,o.index===C?(this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,u.setRadius((0,a.distance)(u.getCenter(),t)),this.changingFeature_=!1)}d&&this.setGeometryCoordinates_(u,d)}this.createOrUpdateVertexFeature_(t)},_.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var r=t.coordinate;this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var i=t.map.getView().getProjection(),o=[],s=n.getGeometry().getCoordinates(),u=(0,h.boundingExtent)([s]),d=this.rBush_.getInExtent(u),g={};d.sort(w);for(var _=0,f=d.length;_<f;++_){var p=d[_],c=p.segment,v=(0,e.getUid)(p.feature),m=p.depth;if(m&&(v+="-"+m.join("-")),g[v]||(g[v]=new Array(2)),p.geometry.getType()!==l.default.CIRCLE||p.index!==S)if(!(0,a.equals)(c[0],s)||g[v][0])if(!(0,a.equals)(c[1],s)||g[v][1])(0,e.getUid)(c)in this.vertexSegments_&&!g[v][0]&&!g[v][1]&&this.insertVertexCondition_(t)&&o.push([p,s]);else{if((p.geometry.getType()===l.default.LINE_STRING||p.geometry.getType()===l.default.MULTI_LINE_STRING)&&g[v][0]&&0===g[v][0].index)continue;this.dragSegments_.push([p,1]),g[v][1]=p}else this.dragSegments_.push([p,0]),g[v][0]=p;else{var y=M(r,p,i);(0,a.equals)(y,s)&&!g[v][0]&&(this.dragSegments_.push([p,0]),g[v][0]=p)}}o.length&&this.willModifyFeatures_(t);for(var x=o.length-1;x>=0;--x)this.insertVertex_.apply(this,o[x])}return!!this.vertexFeature_},_.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],n=r.geometry;if(n.getType()===l.default.CIRCLE){var i=n.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update((0,h.createOrUpdateFromCoordinate)(i),o),this.rBush_.update(n.getExtent(),a)}else this.rBush_.update((0,h.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new P(I.MODIFYEND,this.features_,e)),this.modified_=!1),!1},_.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},_.prototype.handlePointerAtPixel_=function(t,r){var n=r.getCoordinateFromPixel(t),i=r.getView().getProjection(),o=(0,y.fromUserExtent)((0,h.createOrUpdateFromCoordinate)(n,F),i),s=r.getView().getResolution()*this.pixelTolerance_,u=(0,y.toUserExtent)((0,h.buffer)(o,s,F),i),d=this.rBush_.getInExtent(u);if(d.length>0){d.sort(function(e,t){return L(n,e,i)-L(n,t,i)});var g=d[0],_=g.segment,f=M(n,g,i),p=r.getPixelFromCoordinate(f),c=(0,a.distance)(t,p);if(c<=this.pixelTolerance_){var v={};if(g.geometry.getType()===l.default.CIRCLE&&g.index===S)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(f);else{var m=r.getPixelFromCoordinate(_[0]),x=r.getPixelFromCoordinate(_[1]),E=(0,a.squaredDistance)(p,m),C=(0,a.squaredDistance)(p,x);c=Math.sqrt(Math.min(E,C)),this.snappedToVertex_=c<=this.pixelTolerance_,this.snappedToVertex_&&(f=E>C?_[1]:_[0]),this.createOrUpdateVertexFeature_(f);for(var T=1,I=d.length;T<I;++T){var P=d[T].segment;if(!((0,a.equals)(_[0],P[0])&&(0,a.equals)(_[1],P[1])||(0,a.equals)(_[0],P[1])&&(0,a.equals)(_[1],P[0])))break;v[(0,e.getUid)(P)]=!0}}return v[(0,e.getUid)(_)]=!0,void(this.vertexSegments_=v)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},_.prototype.insertVertex_=function(e,t){for(var r,n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case l.default.MULTI_LINE_STRING:case l.default.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,t);break;case l.default.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case l.default.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,s,a,1);var d={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};u.insert((0,h.boundingExtent)(d.segment),d),this.dragSegments_.push([d,1]);var g={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};u.insert((0,h.boundingExtent)(g.segment),g),this.dragSegments_.push([g,0]),this.ignoreNextSingleClick_=!0},_.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=i.default.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);var t=this.removeVertex_();return this.dispatchEvent(new P(I.MODIFYEND,this.features_,e)),this.modified_=!1,t}return!1},_.prototype.removeVertex_=function(){var t,r,n,i,o,a,s,u,d,g,_,f=this.dragSegments_,p={},c=!1;for(o=f.length-1;o>=0;--o)g=(n=f[o])[0],_=(0,e.getUid)(g.feature),g.depth&&(_+="-"+g.depth.join("-")),_ in p||(p[_]={}),0===n[1]?(p[_].right=g,p[_].index=g.index):1==n[1]&&(p[_].left=g,p[_].index=g.index+1);for(_ in p){switch(d=p[_].right,s=p[_].left,(u=(a=p[_].index)-1)<0&&(u=0),t=r=(i=(g=void 0!==s?s:d).geometry).getCoordinates(),c=!1,i.getType()){case l.default.MULTI_LINE_STRING:r[g.depth[0]].length>2&&(r[g.depth[0]].splice(a,1),c=!0);break;case l.default.LINE_STRING:r.length>2&&(r.splice(a,1),c=!0);break;case l.default.MULTI_POLYGON:t=t[g.depth[1]];case l.default.POLYGON:(t=t[g.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),c=!0,0===a&&(t.pop(),t.push(t[0]),u=t.length-1))}if(c){this.setGeometryCoordinates_(i,r);var v=[];if(void 0!==s&&(this.rBush_.remove(s),v.push(s.segment[0])),void 0!==d&&(this.rBush_.remove(d),v.push(d.segment[1])),void 0!==s&&void 0!==d){var m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:u,segment:v};this.rBush_.insert((0,h.boundingExtent)(m.segment),m)}this.updateSegmentIndices_(i,a,g.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return c},_.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},_.prototype.updateSegmentIndices_=function(e,t,r,n){this.rBush_.forEachInExtent(e.getExtent(),function(i){i.geometry===e&&(void 0===r||void 0===i.depth||(0,o.equals)(i.depth,r))&&i.index>t&&(i.index+=n)})},_}(_.default);function w(e,t){return e.index-t.index}function L(e,t,r){var n=t.geometry;if(n.getType()===l.default.CIRCLE){var i=n;if(t.index===S){var o=(0,a.squaredDistance)(i.getCenter(),e),s=Math.sqrt(o)-i.getRadius();return s*s}}var u=(0,y.fromUserCoordinate)(e,r);return T[0]=(0,y.fromUserCoordinate)(t.segment[0],r),T[1]=(0,y.fromUserCoordinate)(t.segment[1],r),(0,a.squaredDistanceToSegment)(u,T)}function M(e,t,r){var n=t.geometry;if(n.getType()===l.default.CIRCLE&&t.index===S)return n.getClosestPoint(e);var i=(0,y.fromUserCoordinate)(e,r);return T[0]=(0,y.fromUserCoordinate)(t.segment[0],r),T[1]=(0,y.fromUserCoordinate)(t.segment[1],r),(0,y.toUserCoordinate)((0,a.closestOnSegment)(i,T),r)}function b(){var e=(0,m.createEditingStyle)();return function(t,r){return e[l.default.POINT]}}var N=G;exports.default=N;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Feature.js":"mYW9","../MapBrowserEventType.js":"YhDM","../array.js":"luEr","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../events/condition.js":"YcID","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH","../style/Style.js":"he4w","../proj.js":"Diht"}],"SMGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=d(require("../CollectionEventType.js")),i=require("../array.js"),r=d(require("../events/Event.js")),n=require("../events/condition.js"),o=require("../functions.js"),s=d(require("../geom/GeometryType.js")),a=d(require("./Interaction.js")),l=require("../obj.js"),u=require("../style/Style.js"),c=d(require("../Collection.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),h={SELECT:"select"},y=function(e){function t(t,i,r,n){var o=e.call(this,t)||this;return o.selected=i,o.deselected=r,o.mapBrowserEvent=n,o}return f(t,e),t}(r.default),_=function(r){function s(e){var s,a=r.call(this,{handleEvent:p})||this,l=e||{};if(a.condition_=l.condition?l.condition:n.singleClick,a.addCondition_=l.addCondition?l.addCondition:n.never,a.removeCondition_=l.removeCondition?l.removeCondition:n.never,a.toggleCondition_=l.toggleCondition?l.toggleCondition:n.shiftKeyOnly,a.multi_=!!l.multi&&l.multi,a.filter_=l.filter?l.filter:o.TRUE,a.hitTolerance_=l.hitTolerance?l.hitTolerance:0,a.style_=void 0!==l.style?l.style:v(),a.featureStyleAssociation_={},a.features_=l.features||new c.default,l.layers)if("function"==typeof l.layers)s=l.layers;else{var u=l.layers;s=function(e){return(0,i.includes)(u,e)}}else s=o.TRUE;a.layerFilter_=s,a.featureLayerAssociation_={};var d=a.getFeatures();return d.addEventListener(t.default.ADD,a.addFeature_.bind(a)),d.addEventListener(t.default.REMOVE,a.removeFeature_.bind(a)),a}return f(s,r),s.prototype.addFeatureLayerAssociation_=function(t,i){this.featureLayerAssociation_[(0,e.getUid)(t)]=i},s.prototype.getFeatures=function(){return this.features_},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,e.getUid)(t)]},s.prototype.setHitTolerance=function(e){this.hitTolerance_=e},s.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),r.prototype.setMap.call(this,e),e&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},s.prototype.addFeature_=function(e){var t=e.element;this.style_&&this.giveSelectedStyle_(t)},s.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.removeSelectedStyle_(t)},s.prototype.giveSelectedStyle_=function(t){var i=(0,e.getUid)(t);this.featureStyleAssociation_[i]=t.getStyle(),t.setStyle(this.style_)},s.prototype.removeSelectedStyle_=function(t){var i=(0,e.getUid)(t);t.setStyle(this.featureStyleAssociation_[i]),delete this.featureStyleAssociation_[i]},s.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,e.getUid)(t)]},s}(a.default);function p(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),n=this.toggleCondition_(e),o=!t&&!r&&!n,s=e.map,a=this.getFeatures(),u=[],c=[];if(o){(0,l.clear)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return c.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=a.getLength()-1;d>=0;--d){var f=a.item(d),_=c.indexOf(f);_>-1?c.splice(_,1):(a.remove(f),u.push(f))}0!==c.length&&a.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,function(e,o){if(this.filter_(e,o))return!t&&!n||(0,i.includes)(a.getArray(),e)?(r||n)&&(0,i.includes)(a.getArray(),e)&&(u.push(e),this.removeFeatureLayerAssociation_(e)):(c.push(e),this.addFeatureLayerAssociation_(e,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=u.length-1;p>=0;--p)a.remove(u[p]);a.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new y(h.SELECT,c,u,e)),!0}function v(){var e=(0,u.createEditingStyle)();return(0,i.extend)(e[s.default.POLYGON],e[s.default.LINE_STRING]),(0,i.extend)(e[s.default.GEOMETRY_COLLECTION],e[s.default.LINE_STRING]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var g=_;exports.default=g;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../array.js":"luEr","../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","./Interaction.js":"jB2p","../obj.js":"mH6q","../style/Style.js":"he4w","../Collection.js":"FnDa"}],"NnGW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../coordinate.js"),n=require("../events.js"),i=p(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=p(require("../geom/GeometryType.js")),u=require("../geom/Polygon.js"),l=p(require("./Pointer.js")),h=require("../obj.js"),d=p(require("../source/VectorEventType.js")),f=p(require("../structs/RBush.js")),g=require("../proj.js");function p(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function _(e){return e.feature?e.feature:e.element?e.element:void 0}var v=[],y=function(l){function p(e){var t=this,r=e||{},n=r;return n.handleDownEvent||(n.handleDownEvent=s.TRUE),n.stopDown||(n.stopDown=s.FALSE),(t=l.call(this,n)||this).source_=r.source?r.source:null,t.vertex_=void 0===r.vertex||r.vertex,t.edge_=void 0===r.edge||r.edge,t.features_=r.features?r.features:null,t.featuresListenerKeys_=[],t.featureChangeListenerKeys_={},t.indexedFeaturesExtents_={},t.pendingFeatures_={},t.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,t.rBush_=new f.default,t.SEGMENT_WRITERS_={Point:t.writePointGeometry_.bind(t),LineString:t.writeLineStringGeometry_.bind(t),LinearRing:t.writeLineStringGeometry_.bind(t),Polygon:t.writePolygonGeometry_.bind(t),MultiPoint:t.writeMultiPointGeometry_.bind(t),MultiLineString:t.writeMultiLineStringGeometry_.bind(t),MultiPolygon:t.writeMultiPolygonGeometry_.bind(t),GeometryCollection:t.writeGeometryCollectionGeometry_.bind(t),Circle:t.writeCircleGeometry_.bind(t)},t}return c(p,l),p.prototype.addFeature=function(t,r){var s=void 0===r||r,a=(0,e.getUid)(t),u=t.getGeometry();if(u){var l=this.SEGMENT_WRITERS_[u.getType()];l&&(this.indexedFeaturesExtents_[a]=u.getExtent((0,o.createEmpty)()),l(t,u))}s&&(this.featureChangeListenerKeys_[a]=(0,n.listen)(t,i.default.CHANGE,this.handleFeatureChange_,this))},p.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},p.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},p.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},p.prototype.handleEvent=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),l.prototype.handleEvent.call(this,e)},p.prototype.handleFeatureAdd_=function(e){var t=_(e);this.addFeature(t)},p.prototype.handleFeatureRemove_=function(e){var t=_(e);this.removeFeature(t)},p.prototype.handleFeatureChange_=function(t){var r=t.target;if(this.handlingDownUpSequence){var n=(0,e.getUid)(r);n in this.pendingFeatures_||(this.pendingFeatures_[n]=r)}else this.updateFeature_(r)},p.prototype.handleUpEvent=function(e){var t=(0,h.getValues)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},p.prototype.removeFeature=function(t,r){var i=void 0===r||r,o=(0,e.getUid)(t),s=this.indexedFeaturesExtents_[o];if(s){var a=this.rBush_,u=[];a.forEachInExtent(s,function(e){t===e.feature&&u.push(e)});for(var l=u.length-1;l>=0;--l)a.remove(u[l])}i&&((0,n.unlistenByKey)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},p.prototype.setMap=function(e){var r=this.getMap(),i=this.featuresListenerKeys_,o=this.getFeatures_();r&&(i.forEach(n.unlistenByKey),i.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),l.prototype.setMap.call(this,e),e&&(this.features_?i.push((0,n.listen)(this.features_,t.default.ADD,this.handleFeatureAdd_,this),(0,n.listen)(this.features_,t.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push((0,n.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,n.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},p.prototype.snapTo=function(e,t,n){var i=n.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),s=n.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),u=(0,o.boundingExtent)([i,s]),l=this.rBush_.getInExtent(u);this.vertex_&&!this.edge_&&(l=l.filter(function(e){return e.feature.getGeometry().getType()!==a.default.CIRCLE}));var h=!1,d=null,f=null;if(0===l.length)return{snapped:h,vertex:d,vertexPixel:f};for(var p,c=n.getView().getProjection(),_=(0,g.fromUserCoordinate)(t,c),y=1/0,m=0;m<l.length;++m){var x=l[m];v[0]=(0,g.fromUserCoordinate)(x.segment[0],c),v[1]=(0,g.fromUserCoordinate)(x.segment[1],c);var E=(0,r.squaredDistanceToSegment)(_,v);E<y&&(p=x,y=E)}var F=p.segment;if(this.vertex_&&!this.edge_){var C=n.getPixelFromCoordinate(F[0]),G=n.getPixelFromCoordinate(F[1]),P=(0,r.squaredDistance)(e,C),T=(0,r.squaredDistance)(e,G);Math.sqrt(Math.min(P,T))<=this.pixelTolerance_&&(h=!0,d=P>T?F[1]:F[0],f=n.getPixelFromCoordinate(d))}else if(this.edge_){var w=p.feature.getGeometry().getType()===a.default.CIRCLE;if(w?d=(0,r.closestOnCircle)(t,p.feature.getGeometry()):(v[0]=(0,g.fromUserCoordinate)(F[0],c),v[1]=(0,g.fromUserCoordinate)(F[1],c),d=(0,g.toUserCoordinate)((0,r.closestOnSegment)(_,v),c)),f=n.getPixelFromCoordinate(d),(0,r.distance)(e,f)<=this.pixelTolerance_&&(h=!0,this.vertex_&&!w)){C=n.getPixelFromCoordinate(F[0]),G=n.getPixelFromCoordinate(F[1]),P=(0,r.squaredDistance)(f,C),T=(0,r.squaredDistance)(f,G);Math.sqrt(Math.min(P,T))<=this.pixelTolerance_&&(d=P>T?F[1]:F[0],f=n.getPixelFromCoordinate(d))}}return h&&(f=[Math.round(f[0]),Math.round(f[1])]),{snapped:h,vertex:d,vertexPixel:f}},p.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},p.prototype.writeCircleGeometry_=function(e,t){for(var r=(0,u.fromCircle)(t).getCoordinates()[0],n=0,i=r.length-1;n<i;++n){var s=r.slice(n,n+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=this.SEGMENT_WRITERS_[r[n].getType()];i&&i(e,r[n])}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var s=r.slice(n,n+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var s=r[n],a=0,u=s.length-1;a<u;++a){var l=s.slice(a,a+2),h={feature:e,segment:l};this.rBush_.insert((0,o.boundingExtent)(l),h)}},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],s={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var s=r[n],a=0,u=s.length;a<u;++a)for(var l=s[a],h=0,d=l.length-1;h<d;++h){var f=l.slice(h,h+2),g={feature:e,segment:f};this.rBush_.insert((0,o.boundingExtent)(f),g)}},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var s=r[n],a=0,u=s.length-1;a<u;++a){var l=s.slice(a,a+2),h={feature:e,segment:l};this.rBush_.insert((0,o.boundingExtent)(l),h)}},p}(l.default),m=y;exports.default=m;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../coordinate.js":"nGsj","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","../geom/Polygon.js":"Nwwk","./Pointer.js":"dnA2","../obj.js":"mH6q","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH","../proj.js":"Diht"}],"dAAZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TranslateEvent=void 0;var t=s(require("../Collection.js")),e=require("../Object.js"),r=s(require("../events/Event.js")),a=require("../functions.js"),n=require("../array.js"),i=s(require("./Pointer.js")),o=s(require("./Property.js"));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),u={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},h=function(t){function e(e,r,a,n,i){var o=t.call(this,e)||this;return o.features=r,o.coordinate=a,o.startCoordinate=n,o.mapBrowserEvent=i,o}return l(e,t),e}(r.default);exports.TranslateEvent=h;var c=function(r){function i(t){var i,s=this,l=t||{};if((s=r.call(this,l)||this).lastCoordinate_=null,s.startCoordinate_=null,s.features_=void 0!==l.features?l.features:null,l.layers)if("function"==typeof l.layers)i=l.layers;else{var u=l.layers;i=function(t){return(0,n.includes)(u,t)}}else i=a.TRUE;return s.layerFilter_=i,s.filter_=l.filter?l.filter:a.TRUE,s.hitTolerance_=l.hitTolerance?l.hitTolerance:0,s.lastFeature_=null,s.addEventListener((0,e.getChangeEventType)(o.default.ACTIVE),s.handleActiveChanged_),s}return l(i,r),i.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATESTART,r,e.coordinate,this.startCoordinate_,e)),!0}return!1},i.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATEEND,r,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1},i.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var r=e.coordinate,a=r[0]-this.lastCoordinate_[0],n=r[1]-this.lastCoordinate_[1],i=this.features_||new t.default([this.lastFeature_]);i.forEach(function(t){var e=t.getGeometry();e.translate(a,n),t.setGeometry(e)}),this.lastCoordinate_=r,this.dispatchEvent(new h(u.TRANSLATING,i,r,this.startCoordinate_,e))}},i.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},i.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||(0,n.includes)(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},i.prototype.getHitTolerance=function(){return this.hitTolerance_},i.prototype.setHitTolerance=function(t){this.hitTolerance_=t},i.prototype.setMap=function(t){var e=this.getMap();r.prototype.setMap.call(this,t),this.updateState_(e)},i.prototype.handleActiveChanged_=function(){this.updateState_(null)},i.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},i}(i.default),f=c;exports.default=f;
},{"../Collection.js":"FnDa","../Object.js":"PhPh","../events/Event.js":"fKNg","../functions.js":"RgA2","../array.js":"luEr","./Pointer.js":"dnA2","./Property.js":"caOi"}],"aMDX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=O,Object.defineProperty(exports,"DoubleClickZoom",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"DragPan",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"DragRotate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"DragZoom",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"KeyboardPan",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"KeyboardZoom",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"MouseWheelZoom",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"PinchRotate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"PinchZoom",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"DragAndDrop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"DragBox",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"DragRotateAndZoom",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"Draw",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Extent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Interaction",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Modify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Pointer",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"Select",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"Snap",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Translate",{enumerable:!0,get:function(){return h.default}});var e=q(require("./Collection.js")),t=q(require("./Kinetic.js")),r=q(require("./interaction/DoubleClickZoom.js")),n=q(require("./interaction/DragPan.js")),o=q(require("./interaction/DragRotate.js")),i=q(require("./interaction/DragZoom.js")),u=q(require("./interaction/KeyboardPan.js")),a=q(require("./interaction/KeyboardZoom.js")),d=q(require("./interaction/MouseWheelZoom.js")),c=q(require("./interaction/PinchRotate.js")),f=q(require("./interaction/PinchZoom.js")),l=require("./events/condition.js"),s=q(require("./interaction/DragAndDrop.js")),p=q(require("./interaction/DragBox.js")),b=q(require("./interaction/DragRotateAndZoom.js")),m=q(require("./interaction/Draw.js")),j=q(require("./interaction/Extent.js")),g=q(require("./interaction/Interaction.js")),P=q(require("./interaction/Modify.js")),y=q(require("./interaction/Pointer.js")),D=q(require("./interaction/Select.js")),x=q(require("./interaction/Snap.js")),h=q(require("./interaction/Translate.js"));function q(e){return e&&e.__esModule?e:{default:e}}function O(s){var p=s||{},b=new e.default,m=new t.default(-.005,.05,100);return(void 0===p.altShiftDragRotate||p.altShiftDragRotate)&&b.push(new o.default),(void 0===p.doubleClickZoom||p.doubleClickZoom)&&b.push(new r.default({delta:p.zoomDelta,duration:p.zoomDuration})),(void 0===p.dragPan||p.dragPan)&&b.push(new n.default({condition:p.onFocusOnly?l.focus:void 0,kinetic:m})),(void 0===p.pinchRotate||p.pinchRotate)&&b.push(new c.default),(void 0===p.pinchZoom||p.pinchZoom)&&b.push(new f.default({duration:p.zoomDuration})),(void 0===p.keyboard||p.keyboard)&&(b.push(new u.default),b.push(new a.default({delta:p.zoomDelta,duration:p.zoomDuration}))),(void 0===p.mouseWheelZoom||p.mouseWheelZoom)&&b.push(new d.default({condition:p.onFocusOnly?l.focus:void 0,duration:p.zoomDuration})),(void 0===p.shiftDragZoom||p.shiftDragZoom)&&b.push(new i.default({duration:p.zoomDuration})),b}
},{"./Collection.js":"FnDa","./Kinetic.js":"gAnK","./interaction/DoubleClickZoom.js":"NSa4","./interaction/DragPan.js":"N4gU","./interaction/DragRotate.js":"PgBj","./interaction/DragZoom.js":"pTqW","./interaction/KeyboardPan.js":"CFRo","./interaction/KeyboardZoom.js":"S8wR","./interaction/MouseWheelZoom.js":"kPt6","./interaction/PinchRotate.js":"hbGN","./interaction/PinchZoom.js":"rcXm","./events/condition.js":"YcID","./interaction/DragAndDrop.js":"IYO6","./interaction/DragBox.js":"AQRw","./interaction/DragRotateAndZoom.js":"ITeC","./interaction/Draw.js":"e7i2","./interaction/Extent.js":"o7b8","./interaction/Interaction.js":"jB2p","./interaction/Modify.js":"qrxo","./interaction/Pointer.js":"dnA2","./interaction/Select.js":"SMGe","./interaction/Snap.js":"NnGW","./interaction/Translate.js":"dAAZ"}],"kYy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./PluggableMap.js")),e=require("./control.js"),r=require("./interaction.js"),o=require("./obj.js"),n=u(require("./renderer/Composite.js"));function u(t){return t&&t.__esModule?t:{default:t}}var i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),s=function(t){function u(n){return(n=(0,o.assign)({},n)).controls||(n.controls=(0,e.defaults)()),n.interactions||(n.interactions=(0,r.defaults)()),t.call(this,n)||this}return i(u,t),u.prototype.createRenderer=function(){return new n.default(this)},u}(t.default),c=s;exports.default=c;
},{"./PluggableMap.js":"kRwz","./control.js":"ucqx","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/Composite.js":"MHsB"}],"faTr":[function(require,module,exports) {
"use strict";function e(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function t(e,t,n){return e+"/"+t+"/"+n}function n(e){return t(e[0],e[1],e[2])}function r(e){return e.split("/").map(Number)}function o(e){return(e[1]<<e[0])+e[2]}function u(e,t){var n=e[0],r=e[1],o=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var u,i=t.getExtent();return!(u=i?t.getTileRangeForExtentAndZ(i,n):t.getFullTileRange(n))||u.containsXY(r,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=e,exports.getKeyZXY=t,exports.getKey=n,exports.fromKey=r,exports.hash=o,exports.withinExtentAndZ=u;
},{}],"YFDe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./structs/LRUCache.js")),e=require("./tilecoord.js");function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=function(t){function o(e){return t.call(this,e)||this}return r(o,t),o.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},o.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),o=(0,e.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==o&&(this.remove((0,e.getKey)(t.tileCoord)),t.dispose())}.bind(this))}},o}(t.default),n=i;exports.default=n;
},{"./structs/LRUCache.js":"oMDz","./tilecoord.js":"faTr"}],"snev":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=i,exports.default=void 0;var t=function(){function t(t,i,n,m){this.minX=t,this.maxX=i,this.minY=n,this.maxY=m}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(i,n,m,e,s){return void 0!==s?(s.minX=i,s.maxX=n,s.minY=m,s.maxY=e,s):new t(i,n,m,e)}var n=t;exports.default=n;
},{}],"C8Du":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=n(require("./Tile.js")),r=require("./dom.js"),o=require("./events.js");function n(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),s=function(t){function n(e,r,o,n,i,s){var u=t.call(this,e,r,{transition:0})||this;return u.context_={},u.executorGroups={},u.loadingSourceTiles=0,u.errorSourceTileKeys={},u.hitDetectionImageData=null,u.replayState_={},u.wantedResolution,u.getSourceTiles=i.bind(u,u),u.removeSourceTiles_=s,u.sourceTileGrid_=n,u.sourceTileListenerKeys=[],u.sourceZ=-1,u.hifi=!1,u.wrappedTileCoord=o,u}return i(n,t),n.prototype.disposeInternal=function(){for(var e in this.sourceTileListenerKeys.forEach(o.unlistenByKey),this.sourceTileListenerKeys.length=0,this.removeSourceTiles_(this),this.context_){var r=this.context_[e].canvas;r.width=0,r.height=0}for(var e in this.executorGroups)for(var n=this.executorGroups[e],i=0,s=n.length;i<s;++i)n[i].disposeInternal();t.prototype.disposeInternal.call(this)},n.prototype.getContext=function(t){var o=(0,e.getUid)(t);return o in this.context_||(this.context_[o]=(0,r.createCanvasContext2D)()),this.context_[o]},n.prototype.hasContext=function(t){return(0,e.getUid)(t)in this.context_},n.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},n.prototype.getReplayState=function(t){var r=(0,e.getUid)(t);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[r]},n.prototype.load=function(){this.getSourceTiles()},n}(t.default),u=s;exports.default=u;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./dom.js":"Xno5","./events.js":"UqnM"}],"yj80":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Tile.js")),e=o(require("./TileState.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=function(t){function o(e,o,r,n,u,i){var s=t.call(this,e,o,i)||this;return s.consumers=0,s.extent=null,s.format_=n,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=u,s.url_=r,s}return r(o,t),o.prototype.getFormat=function(){return this.format_},o.prototype.getFeatures=function(){return this.features_},o.prototype.getKey=function(){return this.url_},o.prototype.load=function(){this.state==e.default.IDLE&&(this.setState(e.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},o.prototype.onLoad=function(t,e){this.setFeatures(t)},o.prototype.onError=function(){this.setState(e.default.ERROR)},o.prototype.setFeatures=function(t){this.features_=t,this.setState(e.default.LOADED)},o.prototype.setLoader=function(t){this.loader_=t},o}(t.default),u=n;exports.default=u;
},{"./Tile.js":"IWZI","./TileState.js":"Xz9x"}],"DRei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AssertionError",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Collection",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Disposable",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Feature",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Geolocation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Graticule",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"ImageBase",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"ImageCanvas",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ImageTile",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Kinetic",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Map",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"MapBrowserEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"MapBrowserEventHandler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"MapEvent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Object",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"Overlay",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"PluggableMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"TileCache",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"TileQueue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"TileRange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"VectorRenderTile",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"getUid",{enumerable:!0,get:function(){return I.getUid}}),Object.defineProperty(exports,"VERSION",{enumerable:!0,get:function(){return I.VERSION}});var e=w(require("./AssertionError.js")),r=w(require("./Collection.js")),t=w(require("./Disposable.js")),n=w(require("./Feature.js")),u=w(require("./Geolocation.js")),i=w(require("./layer/Graticule.js")),o=w(require("./Image.js")),a=w(require("./ImageBase.js")),l=w(require("./ImageCanvas.js")),f=w(require("./ImageTile.js")),s=w(require("./Kinetic.js")),c=w(require("./Map.js")),p=w(require("./MapBrowserEvent.js")),b=w(require("./MapBrowserEventHandler.js")),d=w(require("./MapBrowserPointerEvent.js")),j=w(require("./MapEvent.js")),g=w(require("./Object.js")),O=w(require("./Observable.js")),m=w(require("./Overlay.js")),P=w(require("./PluggableMap.js")),y=w(require("./Tile.js")),x=w(require("./TileCache.js")),q=w(require("./TileQueue.js")),v=w(require("./TileRange.js")),M=w(require("./VectorRenderTile.js")),T=w(require("./VectorTile.js")),E=w(require("./View.js")),I=require("./util.js");function w(e){return e&&e.__esModule?e:{default:e}}
},{"./AssertionError.js":"ygGQ","./Collection.js":"FnDa","./Disposable.js":"DDda","./Feature.js":"mYW9","./Geolocation.js":"X4ix","./layer/Graticule.js":"wXs0","./Image.js":"DHWK","./ImageBase.js":"Ojbp","./ImageCanvas.js":"K7j2","./ImageTile.js":"TOsW","./Kinetic.js":"gAnK","./Map.js":"kYy5","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserPointerEvent.js":"J1WQ","./MapEvent.js":"vFcA","./Object.js":"PhPh","./Observable.js":"IdSm","./Overlay.js":"qWcX","./PluggableMap.js":"kRwz","./Tile.js":"IWZI","./TileCache.js":"YFDe","./TileQueue.js":"tHOl","./TileRange.js":"snev","./VectorRenderTile.js":"C8Du","./VectorTile.js":"yj80","./View.js":"hNqE","./util.js":"KniQ"}],"Kylu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformGeometryWithOptions=u,exports.transformExtentWithOptions=c,exports.default=void 0;var t=require("../obj.js"),e=require("../util.js"),r=require("../proj.js"),o=n(require("../proj/Units.js"));function n(t){return t&&t.__esModule?t:{default:t}}var a=function(){function n(){this.dataProjection=null,this.defaultFeatureProjection=null}return n.prototype.getReadOptions=function(t,e){var n;if(e){var a=e.dataProjection?(0,r.get)(e.dataProjection):this.readProjection(t);e.extent&&a&&a.getUnits()===o.default.TILE_PIXELS&&(a=(0,r.get)(a)).setWorldExtent(e.extent),n={dataProjection:a,featureProjection:e.featureProjection}}return this.adaptOptions(n)},n.prototype.adaptOptions=function(e){return(0,t.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},n.prototype.getType=function(){return(0,e.abstract)()},n.prototype.readFeature=function(t,r){return(0,e.abstract)()},n.prototype.readFeatures=function(t,r){return(0,e.abstract)()},n.prototype.readGeometry=function(t,r){return(0,e.abstract)()},n.prototype.readProjection=function(t){return(0,e.abstract)()},n.prototype.writeFeature=function(t,r){return(0,e.abstract)()},n.prototype.writeFeatures=function(t,r){return(0,e.abstract)()},n.prototype.writeGeometry=function(t,r){return(0,e.abstract)()},n}(),i=a;function u(t,e,o){var n,a=o?(0,r.get)(o.featureProjection):null,i=o?(0,r.get)(o.dataProjection):null;if(n=a&&i&&!(0,r.equivalent)(a,i)?(e?t.clone():t).transform(e?a:i,e?i:a):t,e&&o&&void 0!==o.decimals){var u=Math.pow(10,o.decimals);n===t&&(n=t.clone()),n.applyTransform(function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*u)/u;return t})}return n}function c(t,e){var o=e?(0,r.get)(e.featureProjection):null,n=e?(0,r.get)(e.dataProjection):null;return o&&n&&!(0,r.equivalent)(o,n)?(0,r.transformExtent)(t,n,o):t}exports.default=i;
},{"../obj.js":"mH6q","../util.js":"KniQ","../proj.js":"Diht","../proj/Units.js":"yZx6"}],"RA7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=o(require("./Feature.js")),r=o(require("./FormatType.js"));function o(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),u=function(e){function o(){return e.call(this)||this}return n(o,e),o.prototype.getType=function(){return r.default.JSON},o.prototype.readFeature=function(t,e){return this.readFeatureFromObject(i(t),this.getReadOptions(t,e))},o.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(i(t),this.getReadOptions(t,e))},o.prototype.readFeatureFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readFeaturesFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(i(t),this.getReadOptions(t,e))},o.prototype.readGeometryFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readProjection=function(t){return this.readProjectionFromObject(i(t))},o.prototype.readProjectionFromObject=function(e){return(0,t.abstract)()},o.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},o.prototype.writeFeatureObject=function(e,r){return(0,t.abstract)()},o.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},o.prototype.writeFeaturesObject=function(e,r){return(0,t.abstract)()},o.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},o.prototype.writeGeometryObject=function(e,r){return(0,t.abstract)()},o}(e.default);function i(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var a=u;exports.default=a;
},{"../util.js":"KniQ","./Feature.js":"Kylu","./FormatType.js":"AbO3"}],"ELJf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=v(require("../Feature.js")),t=require("../asserts.js"),r=require("../extent.js"),a=require("./Feature.js"),n=v(require("./JSONFeature.js")),u=v(require("../geom/GeometryLayout.js")),o=v(require("../geom/GeometryType.js")),i=v(require("../geom/LineString.js")),s=v(require("../geom/LinearRing.js")),f=v(require("../geom/MultiLineString.js")),l=v(require("../geom/MultiPoint.js")),d=v(require("../geom/MultiPolygon.js")),h=v(require("../geom/Point.js")),p=v(require("../geom/Polygon.js")),c=require("../geom/flat/deflate.js"),g=require("../geom/flat/orient.js"),m=require("../obj.js"),y=require("../proj.js");function v(e){return e&&e.__esModule?e:{default:e}}var O=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),j={};j[o.default.POINT]=b,j[o.default.LINE_STRING]=L,j[o.default.POLYGON]=Z,j[o.default.MULTI_POINT]=T,j[o.default.MULTI_LINE_STRING]=P,j[o.default.MULTI_POLYGON]=w;var M={};M[o.default.POINT]=F,M[o.default.LINE_STRING]=q,M[o.default.POLYGON]=x,M[o.default.MULTI_POINT]=R,M[o.default.MULTI_LINE_STRING]=X,M[o.default.MULTI_POLYGON]=E;var N=function(t){function r(e){var r=this,a=e||{};return(r=t.call(this)||this).geometryName_=a.geometryName,r}return O(r,t),r.prototype.readFeatureFromObject=function(t,r){var a=t,n=I(a.geometry,r),u=new e.default;return this.geometryName_&&u.setGeometryName(this.geometryName_),u.setGeometry(n),r&&r.idField&&a.attributes[r.idField]&&u.setId(a.attributes[r.idField]),a.attributes&&u.setProperties(a.attributes,!0),u},r.prototype.readFeaturesFromObject=function(e,t){var r=t||{};if(e.features){var a=[],n=e.features;r.idField=e.objectIdFieldName;for(var u=0,o=n.length;u<o;++u)a.push(this.readFeatureFromObject(n[u],r));return a}return[this.readFeatureFromObject(e,r)]},r.prototype.readGeometryFromObject=function(e,t){return I(e,t)},r.prototype.readProjectionFromObject=function(e){if(e.spatialReference&&void 0!==e.spatialReference.wkid){var t=e.spatialReference.wkid;return(0,y.get)("EPSG:"+t)}return null},r.prototype.writeGeometryObject=function(e,t){return S(e,this.adaptOptions(t))},r.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={},a=e.getGeometry();a&&(r.geometry=S(a,t),t&&t.featureProjection&&(r.geometry.spatialReference={wkid:Number((0,y.get)(t.featureProjection).getCode().split(":").pop())}));var n=e.getProperties();return delete n[e.getGeometryName()],(0,m.isEmpty)(n)?r.attributes={}:r.attributes=n,r},r.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],a=0,n=e.length;a<n;++a)r.push(this.writeFeatureObject(e[a],t));return{features:r}},r}(n.default);function I(e,t){var r,n,u;if(!e)return null;if("number"==typeof e.x&&"number"==typeof e.y)u=o.default.POINT;else if(e.points)u=o.default.MULTI_POINT;else if(e.paths){u=1===e.paths.length?o.default.LINE_STRING:o.default.MULTI_LINE_STRING}else if(e.rings){var i=e,s=G(i),f=_(i.rings,s);1===f.length?(u=o.default.POLYGON,e=Object.assign({},e,((r={}).rings=f[0],r))):(u=o.default.MULTI_POLYGON,e=Object.assign({},e,((n={}).rings=f,n)))}var l=j[u];return(0,a.transformGeometryWithOptions)(l(e),!1,t)}function _(e,t){var a,n,u=[],o=[],i=[];for(a=0,n=e.length;a<n;++a){u.length=0,(0,c.deflateCoordinates)(u,0,e[a],t.length),(0,g.linearRingIsClockwise)(u,0,u.length,t.length)?o.push([e[a]]):i.push(e[a])}for(;i.length;){var f=i.shift(),l=!1;for(a=o.length-1;a>=0;a--){var d=o[a][0];if((0,r.containsExtent)(new s.default(d).getExtent(),new s.default(f).getExtent())){o[a].push(f),l=!0;break}}l||o.push([f.reverse()])}return o}function b(e){return void 0!==e.m&&void 0!==e.z?new h.default([e.x,e.y,e.z,e.m],u.default.XYZM):void 0!==e.z?new h.default([e.x,e.y,e.z],u.default.XYZ):void 0!==e.m?new h.default([e.x,e.y,e.m],u.default.XYM):new h.default([e.x,e.y])}function L(e){var t=G(e);return new i.default(e.paths[0],t)}function P(e){var t=G(e);return new f.default(e.paths,t)}function G(e){var t=u.default.XY;return!0===e.hasZ&&!0===e.hasM?t=u.default.XYZM:!0===e.hasZ?t=u.default.XYZ:!0===e.hasM&&(t=u.default.XYM),t}function T(e){var t=G(e);return new l.default(e.points,t)}function w(e){var t=G(e);return new d.default(e.rings,t)}function Z(e){var t=G(e);return new p.default(e.rings,t)}function F(e,r){var a,n=e.getCoordinates(),o=e.getLayout();return o===u.default.XYZ?a={x:n[0],y:n[1],z:n[2]}:o===u.default.XYM?a={x:n[0],y:n[1],m:n[2]}:o===u.default.XYZM?a={x:n[0],y:n[1],z:n[2],m:n[3]}:o===u.default.XY?a={x:n[0],y:n[1]}:(0,t.assert)(!1,34),a}function Y(e){var t=e.getLayout();return{hasZ:t===u.default.XYZ||t===u.default.XYZM,hasM:t===u.default.XYM||t===u.default.XYZM}}function q(e,t){var r=Y(e);return{hasZ:r.hasZ,hasM:r.hasM,paths:[e.getCoordinates()]}}function x(e,t){var r=Y(e);return{hasZ:r.hasZ,hasM:r.hasM,rings:e.getCoordinates(!1)}}function X(e,t){var r=Y(e);return{hasZ:r.hasZ,hasM:r.hasM,paths:e.getCoordinates()}}function R(e,t){var r=Y(e);return{hasZ:r.hasZ,hasM:r.hasM,points:e.getCoordinates()}}function E(e,t){for(var r=Y(e),a=e.getCoordinates(!1),n=[],u=0;u<a.length;u++)for(var o=a[u].length-1;o>=0;o--)n.push(a[u][o]);return{hasZ:r.hasZ,hasM:r.hasM,rings:n}}function S(e,t){return(0,M[e.getType()])((0,a.transformGeometryWithOptions)(e,!0,t),t)}var C=N;exports.default=C;
},{"../Feature.js":"mYW9","../asserts.js":"fLG6","../extent.js":"QDir","./Feature.js":"Kylu","./JSONFeature.js":"RA7M","../geom/GeometryLayout.js":"Utvi","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/LinearRing.js":"jRgU","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../geom/flat/deflate.js":"FNhl","../geom/flat/orient.js":"cJkE","../obj.js":"mH6q","../proj.js":"Diht"}],"HvLT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=o(require("../events/EventType.js")),r=require("../extent.js"),n=o(require("./Geometry.js")),i=o(require("./GeometryType.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(n){function o(e){var t=n.call(this)||this;return t.geometries_=e||null,t.changeEventsKeys_=[],t.listenGeometriesChange_(),t}return s(o,n),o.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(e.unlistenByKey),this.changeEventsKeys_.length=0},o.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var r=0,n=this.geometries_.length;r<n;++r)this.changeEventsKeys_.push((0,e.listen)(this.geometries_[r],t.default.CHANGE,this.changed,this))},o.prototype.clone=function(){var e=new o(null);return e.setGeometries(this.geometries_),e},o.prototype.closestPointXY=function(e,t,n,i){if(i<(0,r.closestSquaredDistanceXY)(this.getExtent(),e,t))return i;for(var o=this.geometries_,s=0,a=o.length;s<a;++s)i=o[s].closestPointXY(e,t,n,i);return i},o.prototype.containsXY=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(e,t))return!0;return!1},o.prototype.computeExtent=function(e){(0,r.createOrUpdateEmpty)(e);for(var t=this.geometries_,n=0,i=t.length;n<i;++n)(0,r.extend)(e,t[n].getExtent());return e},o.prototype.getGeometries=function(){return u(this.geometries_)},o.prototype.getGeometriesArray=function(){return this.geometries_},o.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var t=[],r=this.geometries_,n=!1,i=0,s=r.length;i<s;++i){var a=r[i],u=a.getSimplifiedGeometry(e);t.push(u),u!==a&&(n=!0)}if(n){var h=new o(null);return h.setGeometriesArray(t),h}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},o.prototype.getType=function(){return i.default.GEOMETRY_COLLECTION},o.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1},o.prototype.isEmpty=function(){return 0===this.geometries_.length},o.prototype.rotate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(e,t);this.changed()},o.prototype.scale=function(e,t,n){var i=n;i||(i=(0,r.getCenter)(this.getExtent()));for(var o=this.geometries_,s=0,a=o.length;s<a;++s)o[s].scale(e,t,i);this.changed()},o.prototype.setGeometries=function(e){this.setGeometriesArray(u(e))},o.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},o.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()},o.prototype.translate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(e,t);this.changed()},o.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},o}(n.default);function u(e){for(var t=[],r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}var h=a;exports.default=h;
},{"../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryType.js":"lmV0"}],"qBlb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=y(require("../Feature.js")),r=require("./Feature.js"),o=y(require("./JSONFeature.js")),n=y(require("../geom/GeometryCollection.js")),a=y(require("../geom/LineString.js")),i=y(require("../geom/MultiLineString.js")),u=y(require("../geom/MultiPoint.js")),s=y(require("../geom/MultiPolygon.js")),c=y(require("../geom/Point.js")),d=y(require("../geom/Polygon.js")),p=require("../obj.js"),f=require("../proj.js"),l=y(require("../geom/GeometryType.js"));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),g=function(r){function o(e){var t=this,o=e||{};return(t=r.call(this)||this).dataProjection=(0,f.get)(o.dataProjection?o.dataProjection:"EPSG:4326"),o.featureProjection&&(t.defaultFeatureProjection=(0,f.get)(o.featureProjection)),t.geometryName_=o.geometryName,t.extractGeometryName_=o.extractGeometryName,t}return m(o,r),o.prototype.readFeatureFromObject=function(e,r){var o=null,n=O((o="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,r),a=new t.default;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in o!==void 0&&a.setGeometryName(o.geometry_name),a.setGeometry(n),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties,!0),a},o.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var o=e.features,n=0,a=o.length;n<a;++n)r.push(this.readFeatureFromObject(o[n],t))}else r=[this.readFeatureFromObject(e,t)];return r},o.prototype.readGeometryFromObject=function(e,t){return O(e,t)},o.prototype.readProjectionFromObject=function(t){var r,o=t.crs;return o?"name"==o.type?r=(0,f.get)(o.properties.name):(0,e.assert)(!1,36):r=this.dataProjection,r},o.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},o=e.getId();void 0!==o&&(r.id=o);var n=e.getGeometry();n&&(r.geometry=v(n,t));var a=e.getProperties();return delete a[e.getGeometryName()],(0,p.isEmpty)(a)||(r.properties=a),r},o.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],o=0,n=e.length;o<n;++o)r.push(this.writeFeatureObject(e[o],t));return{type:"FeatureCollection",features:r}},o.prototype.writeGeometryObject=function(e,t){return v(e,this.adaptOptions(t))},o}(o.default);function O(e,t){if(!e)return null;var o;switch(e.type){case l.default.POINT:o=P(e);break;case l.default.LINE_STRING:o=_(e);break;case l.default.POLYGON:o=h(e);break;case l.default.MULTI_POINT:o=b(e);break;case l.default.MULTI_LINE_STRING:o=N(e);break;case l.default.MULTI_POLYGON:o=G(e);break;case l.default.GEOMETRY_COLLECTION:o=j(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return(0,r.transformGeometryWithOptions)(o,!1,t)}function j(e,t){var r=e.geometries.map(function(e){return O(e,t)});return new n.default(r)}function P(e){return new c.default(e.coordinates)}function _(e){return new a.default(e.coordinates)}function N(e){return new i.default(e.coordinates)}function b(e){return new u.default(e.coordinates)}function G(e){return new s.default(e.coordinates)}function h(e){return new d.default(e.coordinates)}function v(e,t){var o,n=(e=(0,r.transformGeometryWithOptions)(e,!0,t)).getType();switch(n){case l.default.POINT:o=C(e,t);break;case l.default.LINE_STRING:o=L(e,t);break;case l.default.POLYGON:o=M(e,t);break;case l.default.MULTI_POINT:o=w(e,t);break;case l.default.MULTI_LINE_STRING:o=F(e,t);break;case l.default.MULTI_POLYGON:o=T(e,t);break;case l.default.GEOMETRY_COLLECTION:o=I(e,t);break;case l.default.CIRCLE:o={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return o}function I(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var r=(0,p.assign)({},t);return delete r.featureProjection,v(e,r)})}}function L(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function F(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function w(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function T(e,t){var r;return t&&(r=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}function C(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function M(e,t){var r;return t&&(r=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(r)}}var k=g;exports.default=k;
},{"../asserts.js":"fLG6","../Feature.js":"mYW9","./Feature.js":"Kylu","./JSONFeature.js":"RA7M","../geom/GeometryCollection.js":"HvLT","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../geom/GeometryType.js":"lmV0"}],"yYlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElementNS=n,exports.getAllTextContent=o,exports.getAllTextContent_=i,exports.isDocument=a,exports.getAttributeNS=u,exports.parse=l,exports.makeArrayExtender=c,exports.makeArrayPusher=p,exports.makeReplacer=s,exports.makeObjectPropertyPusher=d,exports.makeObjectPropertySetter=v,exports.makeChildAppender=f,exports.makeArraySerializer=m,exports.makeSimpleNodeFactory=x,exports.makeSequence=N,exports.makeStructureNS=E,exports.parseNode=S,exports.pushParseAndPop=g,exports.serialize=A,exports.pushSerializeAndPop=C,exports.OBJECT_PROPERTY_NODE_FACTORY=exports.XML_SCHEMA_INSTANCE_URI=exports.DOCUMENT=void 0;var e=require("./array.js"),t=document.implementation.createDocument("","",null);exports.DOCUMENT=t;var r="http://www.w3.org/2001/XMLSchema-instance";function n(e,r){return t.createElementNS(e,r)}function o(e,t){return i(e,t,[]).join("")}function i(e,t,r){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var n=void 0;for(n=e.firstChild;n;n=n.nextSibling)i(n,t,r)}return r}function a(e){return"documentElement"in e}function u(e,t,r){return e.getAttributeNS(t,r)||""}function l(e){return(new DOMParser).parseFromString(e,"application/xml")}function c(t,r){return function(n,o){var i=t.call(void 0!==r?r:this,n,o);if(void 0!==i){var a=o[o.length-1];(0,e.extend)(a,i)}}}function p(e,t){return function(r,n){var o=e.call(void 0!==t?t:this,r,n);void 0!==o&&n[n.length-1].push(o)}}function s(e,t){return function(r,n){var o=e.call(void 0!==t?t:this,r,n);void 0!==o&&(n[n.length-1]=o)}}function d(e,t,r){return function(n,o){var i=e.call(void 0!==r?r:this,n,o);if(void 0!==i){var a=o[o.length-1],u=void 0!==t?t:n.localName,l=void 0;u in a?l=a[u]:(l=[],a[u]=l),l.push(i)}}}function v(e,t,r){return function(n,o){var i=e.call(void 0!==r?r:this,n,o);void 0!==i&&(o[o.length-1][void 0!==t?t:n.localName]=i)}}function f(e,t){return function(r,n,o){e.call(void 0!==t?t:this,r,n,o),o[o.length-1].node.appendChild(r)}}function m(e,t){var r,n;return function(t,o,i){if(void 0===r){r={};var a={};a[t.localName]=e,r[t.namespaceURI]=a,n=x(t.localName)}A(r,n,o,i)}}function x(e,t){var r=e;return function(e,o,i){var a=o[o.length-1].node,u=r;return void 0===u&&(u=i),n(void 0!==t?t:a.namespaceURI,u)}}exports.XML_SCHEMA_INSTANCE_URI=r;var h=x();function N(e,t){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=e[t[o]];return n}function E(e,t,r){var n,o,i=void 0!==r?r:{};for(n=0,o=e.length;n<o;++n)i[e[n]]=t;return i}function S(e,t,r,n){var o;for(o=t.firstElementChild;o;o=o.nextElementSibling){var i=e[o.namespaceURI];if(void 0!==i){var a=i[o.localName];void 0!==a&&a.call(n,o,r)}}}function g(e,t,r,n,o){return n.push(e),S(t,r,n,o),n.pop()}function A(e,t,r,n,o,i){for(var a,u,l=(void 0!==o?o:r).length,c=0;c<l;++c)void 0!==(a=r[c])&&void 0!==(u=t.call(void 0!==i?i:this,a,n,void 0!==o?o[c]:void 0))&&e[u.namespaceURI][u.localName].call(i,u,a,n)}function C(e,t,r,n,o,i,a){return o.push(e),A(t,r,n,o,i,a),o.pop()}exports.OBJECT_PROPERTY_NODE_FACTORY=h;
},{"./array.js":"luEr"}],"CXRz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),r=require("../array.js"),t=u(require("../format/Feature.js")),o=u(require("../format/FormatType.js")),n=require("../xml.js");function u(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),a=function(t){function u(){var e=t.call(this)||this;return e.xmlSerializer_=new XMLSerializer,e}return i(u,t),u.prototype.getType=function(){return o.default.XML},u.prototype.readFeature=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readFeatureFromDocument(t,r)}return(0,n.isDocument)(e)?this.readFeatureFromDocument(e,r):this.readFeatureFromNode(e,r)}return null},u.prototype.readFeatureFromDocument=function(e,r){var t=this.readFeaturesFromDocument(e,r);return t.length>0?t[0]:null},u.prototype.readFeatureFromNode=function(e,r){return null},u.prototype.readFeatures=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readFeaturesFromDocument(t,r)}return(0,n.isDocument)(e)?this.readFeaturesFromDocument(e,r):this.readFeaturesFromNode(e,r)}return[]},u.prototype.readFeaturesFromDocument=function(e,t){for(var o=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,r.extend)(o,this.readFeaturesFromNode(n,t));return o},u.prototype.readFeaturesFromNode=function(r,t){return(0,e.abstract)()},u.prototype.readGeometry=function(e,r){if(e){if("string"==typeof e){var t=(0,n.parse)(e);return this.readGeometryFromDocument(t,r)}return(0,n.isDocument)(e)?this.readGeometryFromDocument(e,r):this.readGeometryFromNode(e,r)}return null},u.prototype.readGeometryFromDocument=function(e,r){return null},u.prototype.readGeometryFromNode=function(e,r){return null},u.prototype.readProjection=function(e){if(e){if("string"==typeof e){var r=(0,n.parse)(e);return this.readProjectionFromDocument(r)}return(0,n.isDocument)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null},u.prototype.readProjectionFromDocument=function(e){return this.dataProjection},u.prototype.readProjectionFromNode=function(e){return this.dataProjection},u.prototype.writeFeature=function(e,r){var t=this.writeFeatureNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeFeatureNode=function(e,r){return null},u.prototype.writeFeatures=function(e,r){var t=this.writeFeaturesNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeFeaturesNode=function(e,r){return null},u.prototype.writeGeometry=function(e,r){var t=this.writeGeometryNode(e,r);return this.xmlSerializer_.serializeToString(t)},u.prototype.writeGeometryNode=function(e,r){return null},u}(t.default),s=a;exports.default=s;
},{"../util.js":"KniQ","../array.js":"luEr","../format/Feature.js":"Kylu","../format/FormatType.js":"AbO3","../xml.js":"yYlP"}],"ZpWv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GMLNS=void 0;var e=require("../array.js"),t=y(require("../Feature.js")),r=require("./Feature.js"),o=y(require("./XMLFeature.js")),n=y(require("../geom/GeometryLayout.js")),a=y(require("../geom/LineString.js")),i=y(require("../geom/LinearRing.js")),s=y(require("../geom/MultiLineString.js")),p=y(require("../geom/MultiPoint.js")),u=y(require("../geom/MultiPolygon.js")),l=y(require("../geom/Point.js")),d=y(require("../geom/Polygon.js")),m=require("../obj.js"),h=require("../proj.js"),f=require("../xml.js");function y(e){return e&&e.__esModule?e:{default:e}}var P=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),R="http://www.opengis.net/gml";exports.GMLNS=R;var E=/^[\s\xa0]*$/,_=function(o){function y(e){var t=o.call(this)||this,r=e||{};return t.featureType=r.featureType,t.featureNS=r.featureNS,t.srsName=r.srsName,t.schemaLocation="",t.FEATURE_COLLECTION_PARSERS={},t.FEATURE_COLLECTION_PARSERS[t.namespace]={featureMember:(0,f.makeArrayPusher)(t.readFeaturesInternal),featureMembers:(0,f.makeReplacer)(t.readFeaturesInternal)},t}return P(y,o),y.prototype.readFeaturesInternal=function(e,t){var r=e.localName,o=null;if("FeatureCollection"==r)o=(0,f.pushParseAndPop)([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==r||"featureMember"==r){var n=t[0],a=n.featureType,i=n.featureNS;if(!a&&e.childNodes){a=[],i={};for(var s=0,p=e.childNodes.length;s<p;++s){var u=e.childNodes[s];if(1===u.nodeType){var l=u.nodeName.split(":").pop();if(-1===a.indexOf(l)){var d="",m=0,h=u.namespaceURI;for(var y in i){if(i[y]===h){d=y;break}++m}d||(i[d="p"+m]=h),a.push(d+":"+l)}}}"featureMember"!=r&&(n.featureType=a,n.featureNS=i)}if("string"==typeof i){var P=i;(i={}).p0=P}var R={},E=Array.isArray(a)?a:[a];for(var _ in i){var g={};for(s=0,p=E.length;s<p;++s){(-1===E[s].indexOf(":")?"p0":E[s].split(":")[0])===_&&(g[E[s].split(":").pop()]="featureMembers"==r?(0,f.makeArrayPusher)(this.readFeatureElement,this):(0,f.makeReplacer)(this.readFeatureElement,this))}R[i[_]]=g}o="featureMember"==r?(0,f.pushParseAndPop)(void 0,R,e,t):(0,f.pushParseAndPop)([],R,e,t)}return null===o&&(o=[]),o},y.prototype.readGeometryElement=function(e,t){var o=t[0];o.srsName=e.firstElementChild.getAttribute("srsName"),o.srsDimension=e.firstElementChild.getAttribute("srsDimension");var n=(0,f.pushParseAndPop)(null,this.GEOMETRY_PARSERS,e,t,this);return n?Array.isArray(n)?(0,r.transformExtentWithOptions)(n,o):(0,r.transformGeometryWithOptions)(n,!1,o):void 0},y.prototype.readFeatureElementInternal=function(e,r,o){for(var n,a={},i=e.firstElementChild;i;i=i.nextElementSibling){var s=void 0,p=i.localName;0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)?(s=(0,f.getAllTextContent)(i,!1),E.test(s)&&(s=void 0)):(o&&(s=this.readGeometryElement(i,r)),s?"boundedBy"!==p&&(n=p):s=this.readFeatureElementInternal(i,r,!1)),a[p]?(a[p]instanceof Array||(a[p]=[a[p]]),a[p].push(s)):a[p]=s;var u=i.attributes.length;if(u>0){a[p]={_content_:a[p]};for(var l=0;l<u;l++){var d=i.attributes[l].name;a[p][d]=i.attributes[l].value}}}if(o){var m=new t.default(a);n&&m.setGeometryName(n);var h=e.getAttribute("fid")||(0,f.getAttributeNS)(e,this.namespace,"id");return h&&m.setId(h),m}return a},y.prototype.readFeatureElement=function(e,t){return this.readFeatureElementInternal(e,t,!0)},y.prototype.readPoint=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new l.default(r,n.default.XYZ)},y.prototype.readMultiPoint=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTIPOINT_PARSERS_,e,t,this);return r?new p.default(r):void 0},y.prototype.readMultiLineString=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTILINESTRING_PARSERS_,e,t,this);if(r)return new s.default(r)},y.prototype.readMultiPolygon=function(e,t){var r=(0,f.pushParseAndPop)([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(r)return new u.default(r)},y.prototype.pointMemberParser_=function(e,t){(0,f.parseNode)(this.POINTMEMBER_PARSERS_,e,t,this)},y.prototype.lineStringMemberParser_=function(e,t){(0,f.parseNode)(this.LINESTRINGMEMBER_PARSERS_,e,t,this)},y.prototype.polygonMemberParser_=function(e,t){(0,f.parseNode)(this.POLYGONMEMBER_PARSERS_,e,t,this)},y.prototype.readLineString=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);return r?new a.default(r,n.default.XYZ):void 0},y.prototype.readFlatLinearRing_=function(e,t){var r=(0,f.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);return r||void 0},y.prototype.readLinearRing=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new i.default(r,n.default.XYZ)},y.prototype.readPolygon=function(t,r){var o=(0,f.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,r,this);if(o&&o[0]){var a,i=o[0],s=[i.length],p=void 0;for(p=1,a=o.length;p<a;++p)(0,e.extend)(i,o[p]),s.push(i.length);return new d.default(i,n.default.XYZ,s)}},y.prototype.readFlatCoordinatesFromNode_=function(e,t){return(0,f.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},y.prototype.readGeometryFromNode=function(e,t){var r=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return r||null},y.prototype.readFeaturesFromNode=function(e,t){var r={featureType:this.featureType,featureNS:this.featureNS};return t&&(0,m.assign)(r,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[r])||[]},y.prototype.readProjectionFromNode=function(e){return(0,h.get)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},y}(o.default);_.prototype.namespace=R,_.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},_.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},_.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:(0,f.makeArrayPusher)(_.prototype.pointMemberParser_),pointMembers:(0,f.makeArrayPusher)(_.prototype.pointMemberParser_)}},_.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:(0,f.makeArrayPusher)(_.prototype.lineStringMemberParser_),lineStringMembers:(0,f.makeArrayPusher)(_.prototype.lineStringMemberParser_)}},_.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:(0,f.makeArrayPusher)(_.prototype.polygonMemberParser_),polygonMembers:(0,f.makeArrayPusher)(_.prototype.polygonMemberParser_)}},_.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:(0,f.makeArrayPusher)(_.prototype.readFlatCoordinatesFromNode_)}},_.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,f.makeArrayPusher)(_.prototype.readLineString)}},_.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,f.makeArrayPusher)(_.prototype.readPolygon)}},_.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,f.makeReplacer)(_.prototype.readFlatLinearRing_)}};var g=_;exports.default=g;
},{"../array.js":"luEr","../Feature.js":"mYW9","./Feature.js":"Kylu","./XMLFeature.js":"CXRz","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/LinearRing.js":"jRgU","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"jdp5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readBoolean=r,exports.readBooleanString=n,exports.readDateTime=o,exports.readDecimal=i,exports.readDecimalString=a,exports.readNonNegativeInteger=d,exports.readNonNegativeIntegerString=s,exports.readString=u,exports.writeBooleanTextNode=p,exports.writeCDATASection=x,exports.writeDateTimeTextNode=c,exports.writeDecimalTextNode=T,exports.writeNonNegativeIntegerTextNode=l,exports.writeStringTextNode=N;var e=require("../xml.js"),t=require("../string.js");function r(t){return n((0,e.getAllTextContent)(t,!1))}function n(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function o(t){var r=(0,e.getAllTextContent)(t,!1),n=Date.parse(r);return isNaN(n)?void 0:n/1e3}function i(t){return a((0,e.getAllTextContent)(t,!1))}function a(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function d(t){return s((0,e.getAllTextContent)(t,!1))}function s(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function u(t){return(0,e.getAllTextContent)(t,!1).trim()}function p(e,t){N(e,t?"1":"0")}function x(t,r){t.appendChild(e.DOCUMENT.createCDATASection(r))}function c(r,n){var o=new Date(1e3*n),i=o.getUTCFullYear()+"-"+(0,t.padNumber)(o.getUTCMonth()+1,2)+"-"+(0,t.padNumber)(o.getUTCDate(),2)+"T"+(0,t.padNumber)(o.getUTCHours(),2)+":"+(0,t.padNumber)(o.getUTCMinutes(),2)+":"+(0,t.padNumber)(o.getUTCSeconds(),2)+"Z";r.appendChild(e.DOCUMENT.createTextNode(i))}function T(t,r){var n=r.toPrecision();t.appendChild(e.DOCUMENT.createTextNode(n))}function l(t,r){var n=r.toString();t.appendChild(e.DOCUMENT.createTextNode(n))}function N(t,r){t.appendChild(e.DOCUMENT.createTextNode(r))}
},{"../xml.js":"yYlP","../string.js":"AiCK"}],"MjHj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../array.js"),t=require("../extent.js"),r=require("./Feature.js"),i=g(require("./GMLBase.js")),o=require("./xsd.js"),n=d(require("../geom/GeometryLayout.js")),a=d(require("../geom/LineString.js")),p=d(require("../geom/MultiLineString.js")),s=d(require("../geom/MultiPolygon.js")),u=d(require("../geom/Polygon.js")),l=require("../obj.js"),h=require("../proj.js"),m=require("../xml.js");function d(e){return e&&e.__esModule?e:{default:e}}function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),S=i.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",y={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},R=function(i){function d(e){var t=this,r=e||{};return(t=i.call(this,r)||this).surface_=void 0!==r.surface&&r.surface,t.curve_=void 0!==r.curve&&r.curve,t.multiCurve_=void 0===r.multiCurve||r.multiCurve,t.multiSurface_=void 0===r.multiSurface||r.multiSurface,t.schemaLocation=r.schemaLocation?r.schemaLocation:S,t.hasZ=void 0!==r.hasZ&&r.hasZ,t}return c(d,i),d.prototype.readMultiCurve_=function(e,t){var r=(0,m.pushParseAndPop)([],this.MULTICURVE_PARSERS_,e,t,this);return r?new p.default(r):void 0},d.prototype.readMultiSurface_=function(e,t){var r=(0,m.pushParseAndPop)([],this.MULTISURFACE_PARSERS_,e,t,this);if(r)return new s.default(r)},d.prototype.curveMemberParser_=function(e,t){(0,m.parseNode)(this.CURVEMEMBER_PARSERS_,e,t,this)},d.prototype.surfaceMemberParser_=function(e,t){(0,m.parseNode)(this.SURFACEMEMBER_PARSERS_,e,t,this)},d.prototype.readPatch_=function(e,t){return(0,m.pushParseAndPop)([null],this.PATCHES_PARSERS_,e,t,this)},d.prototype.readSegment_=function(e,t){return(0,m.pushParseAndPop)([null],this.SEGMENTS_PARSERS_,e,t,this)},d.prototype.readPolygonPatch_=function(e,t){return(0,m.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)},d.prototype.readLineStringSegment_=function(e,t){return(0,m.pushParseAndPop)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},d.prototype.interiorParser_=function(e,t){var r=(0,m.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},d.prototype.exteriorParser_=function(e,t){var r=(0,m.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},d.prototype.readSurface_=function(t,r){var i=(0,m.pushParseAndPop)([null],this.SURFACE_PARSERS_,t,r,this);if(i&&i[0]){var o,a=i[0],p=[a.length],s=void 0;for(s=1,o=i.length;s<o;++s)(0,e.extend)(a,i[s]),p.push(a.length);return new u.default(a,n.default.XYZ,p)}},d.prototype.readCurve_=function(e,t){var r=(0,m.pushParseAndPop)([null],this.CURVE_PARSERS_,e,t,this);return r?new a.default(r,n.default.XYZ):void 0},d.prototype.readEnvelope_=function(e,r){var i=(0,m.pushParseAndPop)([null],this.ENVELOPE_PARSERS_,e,r,this);return(0,t.createOrUpdate)(i[1][0],i[1][1],i[2][0],i[2][1])},d.prototype.readFlatPos_=function(e,t){for(var r,i=(0,m.getAllTextContent)(e,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[];r=o.exec(i);)n.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""===i){var a=t[0].srsName,p="enu";if(a)p=(0,h.get)(a).getAxisOrientation();if("neu"===p){var s,u=void 0;for(u=0,s=n.length;u<s;u+=3){var l=n[u],d=n[u+1];n[u]=d,n[u+1]=l}}var _=n.length;if(2==_&&n.push(0),0!==_)return n}},d.prototype.readFlatPosList_=function(e,t){var r=(0,m.getAllTextContent)(e,!1).replace(/^\s*|\s*$/g,""),i=t[0],n=i.srsName,a=i.srsDimension,p="enu";n&&(p=(0,h.get)(n).getAxisOrientation());var s,u,l,d=r.split(/\s+/),_=2;e.getAttribute("srsDimension")?_=(0,o.readNonNegativeIntegerString)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?_=(0,o.readNonNegativeIntegerString)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?_=(0,o.readNonNegativeIntegerString)(e.parentNode.getAttribute("srsDimension")):a&&(_=(0,o.readNonNegativeIntegerString)(a));for(var g=[],c=0,S=d.length;c<S;c+=_)s=parseFloat(d[c]),u=parseFloat(d[c+1]),l=3===_?parseFloat(d[c+2]):0,"en"===p.substr(0,2)?g.push(s,u,l):g.push(u,s,l);return g},d.prototype.writePos_=function(e,t,r){var i=r[r.length-1],n=i.hasZ,a=n?"3":"2";e.setAttribute("srsDimension",a);var p=i.srsName,s="enu";p&&(s=(0,h.get)(p).getAxisOrientation());var u,l=t.getCoordinates();(u="en"===s.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],n)&&(u+=" "+(l[2]||0));(0,o.writeStringTextNode)(e,u)},d.prototype.getCoords_=function(e,t,r){var i="enu";t&&(i=(0,h.get)(t).getAxisOrientation());var o="en"===i.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];r&&(o+=" "+(e[2]||0));return o},d.prototype.writePosList_=function(e,t,r){var i=r[r.length-1],n=i.hasZ,a=n?"3":"2";e.setAttribute("srsDimension",a);for(var p,s=i.srsName,u=t.getCoordinates(),l=u.length,h=new Array(l),m=0;m<l;++m)p=u[m],h[m]=this.getCoords_(p,s,n);(0,o.writeStringTextNode)(e,h.join(" "))},d.prototype.writePoint_=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=(0,m.createElementNS)(e.namespaceURI,"pos");e.appendChild(o),this.writePos_(o,t,r)},d.prototype.writeEnvelope=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,m.pushSerializeAndPop)({node:e},this.ENVELOPE_SERIALIZERS_,m.OBJECT_PROPERTY_NODE_FACTORY,o,r,["lowerCorner","upperCorner"],this)},d.prototype.writeLinearRing_=function(e,t,r){var i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);var o=(0,m.createElementNS)(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,r)},d.prototype.RING_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1],o=i.node,n=i.exteriorWritten;return void 0===n&&(i.exteriorWritten=!0),(0,m.createElementNS)(o.namespaceURI,void 0!==n?"interior":"exterior")},d.prototype.writeSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var p=(0,m.createElementNS)(e.namespaceURI,"patches");e.appendChild(p),this.writeSurfacePatches_(p,t,r)}},d.prototype.writeCurveOrLineString_=function(e,t,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var o=(0,m.createElementNS)(e.namespaceURI,"posList");e.appendChild(o),this.writePosList_(o,t,r)}else if("Curve"===e.nodeName){var n=(0,m.createElementNS)(e.namespaceURI,"segments");e.appendChild(n),this.writeCurveSegments_(n,t,r)}},d.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,a=i.surface;n&&e.setAttribute("srsName",n);var p=t.getPolygons();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)},d.prototype.writeMultiPoint_=function(e,t,r){var i=r[r.length-1],o=i.srsName,n=i.hasZ;o&&e.setAttribute("srsName",o);var a=t.getPoints();(0,m.pushSerializeAndPop)({node:e,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS_,(0,m.makeSimpleNodeFactory)("pointMember"),a,r,void 0,this)},d.prototype.writeMultiCurveOrLineString_=function(e,t,r){var i=r[r.length-1],o=i.hasZ,n=i.srsName,a=i.curve;n&&e.setAttribute("srsName",n);var p=t.getLineStrings();(0,m.pushSerializeAndPop)({node:e,hasZ:o,srsName:n,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)},d.prototype.writeRing_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing_(i,t,r)},d.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r))},d.prototype.writePointMember_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint_(i,t,r)},d.prototype.writeLineStringOrCurveMember_=function(e,t,r){var i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString_(i,t,r))},d.prototype.writeSurfacePatches_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon_(i,t,r)},d.prototype.writeCurveSegments_=function(e,t,r){var i=(0,m.createElementNS)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString_(i,t,r)},d.prototype.writeGeometryElement=function(e,t,i){var o,n=i[i.length-1],a=(0,l.assign)({},n);a.node=e,o=Array.isArray(t)?(0,r.transformExtentWithOptions)(t,n):(0,r.transformGeometryWithOptions)(t,!0,n),(0,m.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],i,void 0,this)},d.prototype.writeFeatureElement=function(e,t,r){var i=t.getId();i&&e.setAttribute("fid",i);var n=r[r.length-1],a=n.featureNS,p=t.getGeometryName();n.serializers||(n.serializers={},n.serializers[a]={});var s=t.getProperties(),u=[],h=[];for(var d in s){var _=s[d];null!==_&&(u.push(d),h.push(_),d==p||"function"==typeof _.getSimplifiedGeometry?d in n.serializers[a]||(n.serializers[a][d]=(0,m.makeChildAppender)(this.writeGeometryElement,this)):d in n.serializers[a]||(n.serializers[a][d]=(0,m.makeChildAppender)(o.writeStringTextNode)))}var g=(0,l.assign)({},n);g.node=e,(0,m.pushSerializeAndPop)(g,n.serializers,(0,m.makeSimpleNodeFactory)(void 0,a),h,r,u)},d.prototype.writeFeatureMembers_=function(e,t,r){var i=r[r.length-1],o=i.featureType,n=i.featureNS,a={};a[n]={},a[n][o]=(0,m.makeChildAppender)(this.writeFeatureElement,this);var p=(0,l.assign)({},i);p.node=e,(0,m.pushSerializeAndPop)(p,a,(0,m.makeSimpleNodeFactory)(o,n),t,r)},d.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var i=t[t.length-1].node;return(0,m.createElementNS)(this.namespace,y[i.nodeName])},d.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var i,o=t[t.length-1],n=o.multiSurface,a=o.surface,p=o.curve,s=o.multiCurve;return Array.isArray(e)?i="Envelope":"MultiPolygon"===(i=e.getType())&&!0===n?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"LineString"===i&&!0===p?i="Curve":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),(0,m.createElementNS)(this.namespace,i)},d.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var r=(0,m.createElementNS)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&(0,l.assign)(i,t),this.writeGeometryElement(r,e,[i]),r},d.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=(0,m.createElementNS)(this.namespace,"featureMembers");r.setAttributeNS(m.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&(0,l.assign)(i,t),this.writeFeatureMembers_(r,e,[i]),r},d}(i.default);R.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,m.makeReplacer)(R.prototype.readFlatPos_),posList:(0,m.makeReplacer)(R.prototype.readFlatPosList_)}},R.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:R.prototype.interiorParser_,exterior:R.prototype.exteriorParser_}},R.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,m.makeReplacer)(i.default.prototype.readPoint),MultiPoint:(0,m.makeReplacer)(i.default.prototype.readMultiPoint),LineString:(0,m.makeReplacer)(i.default.prototype.readLineString),MultiLineString:(0,m.makeReplacer)(i.default.prototype.readMultiLineString),LinearRing:(0,m.makeReplacer)(i.default.prototype.readLinearRing),Polygon:(0,m.makeReplacer)(i.default.prototype.readPolygon),MultiPolygon:(0,m.makeReplacer)(i.default.prototype.readMultiPolygon),Surface:(0,m.makeReplacer)(R.prototype.readSurface_),MultiSurface:(0,m.makeReplacer)(R.prototype.readMultiSurface_),Curve:(0,m.makeReplacer)(R.prototype.readCurve_),MultiCurve:(0,m.makeReplacer)(R.prototype.readMultiCurve_),Envelope:(0,m.makeReplacer)(R.prototype.readEnvelope_)}},R.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:(0,m.makeArrayPusher)(R.prototype.curveMemberParser_),curveMembers:(0,m.makeArrayPusher)(R.prototype.curveMemberParser_)}},R.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:(0,m.makeArrayPusher)(R.prototype.surfaceMemberParser_),surfaceMembers:(0,m.makeArrayPusher)(R.prototype.surfaceMemberParser_)}},R.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,m.makeArrayPusher)(i.default.prototype.readLineString),Curve:(0,m.makeArrayPusher)(R.prototype.readCurve_)}},R.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,m.makeArrayPusher)(i.default.prototype.readPolygon),Surface:(0,m.makeArrayPusher)(R.prototype.readSurface_)}},R.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:(0,m.makeReplacer)(R.prototype.readPatch_)}},R.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:(0,m.makeReplacer)(R.prototype.readSegment_)}},R.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:(0,m.makeArrayPusher)(R.prototype.readFlatPosList_),upperCorner:(0,m.makeArrayPusher)(R.prototype.readFlatPosList_)}},R.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:(0,m.makeReplacer)(R.prototype.readPolygonPatch_)}},R.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:(0,m.makeReplacer)(R.prototype.readLineStringSegment_)}},R.prototype.writeFeatures,R.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:(0,m.makeChildAppender)(R.prototype.writeRing_),interior:(0,m.makeChildAppender)(R.prototype.writeRing_)}},R.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,m.makeChildAppender)(o.writeStringTextNode),upperCorner:(0,m.makeChildAppender)(o.writeStringTextNode)}},R.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,m.makeChildAppender)(R.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,m.makeChildAppender)(R.prototype.writeSurfaceOrPolygonMember_)}},R.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,m.makeChildAppender)(R.prototype.writePointMember_)}},R.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,m.makeChildAppender)(R.prototype.writeLineStringOrCurveMember_),curveMember:(0,m.makeChildAppender)(R.prototype.writeLineStringOrCurveMember_)}},R.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,m.makeChildAppender)(R.prototype.writeCurveOrLineString_),MultiCurve:(0,m.makeChildAppender)(R.prototype.writeMultiCurveOrLineString_),Point:(0,m.makeChildAppender)(R.prototype.writePoint_),MultiPoint:(0,m.makeChildAppender)(R.prototype.writeMultiPoint_),LineString:(0,m.makeChildAppender)(R.prototype.writeCurveOrLineString_),MultiLineString:(0,m.makeChildAppender)(R.prototype.writeMultiCurveOrLineString_),LinearRing:(0,m.makeChildAppender)(R.prototype.writeLinearRing_),Polygon:(0,m.makeChildAppender)(R.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,m.makeChildAppender)(R.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,m.makeChildAppender)(R.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,m.makeChildAppender)(R.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,m.makeChildAppender)(R.prototype.writeEnvelope)}};var E=R;exports.default=E;
},{"../array.js":"luEr","../extent.js":"QDir","./Feature.js":"Kylu","./GMLBase.js":"ZpWv","./xsd.js":"jdp5","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPolygon.js":"ouhF","../geom/Polygon.js":"Nwwk","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"A9M5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./GML3.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;r.prototype.writeFeatures,r.prototype.writeFeaturesNode;var o=r;exports.default=o;
},{"./GML3.js":"MjHj"}],"STp9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../Feature.js")),t=require("../array.js"),r=require("./Feature.js"),a=l(require("./XMLFeature.js")),i=require("./xsd.js"),n=l(require("../geom/GeometryLayout.js")),o=l(require("../geom/GeometryType.js")),p=l(require("../geom/LineString.js")),d=l(require("../geom/MultiLineString.js")),s=l(require("../geom/Point.js")),m=require("../proj.js"),u=require("../xml.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),g=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],S="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",k={rte:B,trk:J,wpt:H},h=(0,u.makeStructureNS)(g,{rte:(0,u.makeArrayPusher)(B),trk:(0,u.makeArrayPusher)(J),wpt:(0,u.makeArrayPusher)(H)}),y=(0,u.makeStructureNS)(g,{text:(0,u.makeObjectPropertySetter)(i.readString,"linkText"),type:(0,u.makeObjectPropertySetter)(i.readString,"linkType")}),f=(0,u.makeStructureNS)(g,{rte:(0,u.makeChildAppender)(V),trk:(0,u.makeChildAppender)($),wpt:(0,u.makeChildAppender)(te)}),N=function(e){function r(t){var r=e.call(this)||this,a=t||{};return r.dataProjection=(0,m.get)("EPSG:4326"),r.readExtensions_=a.readExtensions,r}return c(r,e),r.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var t=0,r=e.length;t<r;++t){var a=e[t];if(this.readExtensions_){var i=a.get("extensionsNode_")||null;this.readExtensions_(a,i)}a.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(e,r){if(!(0,t.includes)(g,e.namespaceURI))return null;var a=k[e.localName];if(!a)return null;var i=a(e,[this.getReadOptions(e,r)]);return i?(this.handleReadExtensions_([i]),i):null},r.prototype.readFeaturesFromNode=function(e,r){if(!(0,t.includes)(g,e.namespaceURI))return[];if("gpx"==e.localName){var a=(0,u.pushParseAndPop)([],h,e,[this.getReadOptions(e,r)]);return a?(this.handleReadExtensions_(a),a):[]}return[]},r.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=(0,u.createElementNS)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",u.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",S),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),(0,u.pushSerializeAndPop)({node:r},f,q,e,[t]),r},r}(a.default),P=(0,u.makeStructureNS)(g,{name:(0,u.makeObjectPropertySetter)(i.readString),cmt:(0,u.makeObjectPropertySetter)(i.readString),desc:(0,u.makeObjectPropertySetter)(i.readString),src:(0,u.makeObjectPropertySetter)(i.readString),link:Y,number:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),extensions:U,type:(0,u.makeObjectPropertySetter)(i.readString),rtept:z}),A=(0,u.makeStructureNS)(g,{ele:(0,u.makeObjectPropertySetter)(i.readDecimal),time:(0,u.makeObjectPropertySetter)(i.readDateTime)}),O=(0,u.makeStructureNS)(g,{name:(0,u.makeObjectPropertySetter)(i.readString),cmt:(0,u.makeObjectPropertySetter)(i.readString),desc:(0,u.makeObjectPropertySetter)(i.readString),src:(0,u.makeObjectPropertySetter)(i.readString),link:Y,number:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),type:(0,u.makeObjectPropertySetter)(i.readString),extensions:U,trkseg:W}),v=(0,u.makeStructureNS)(g,{trkpt:Z}),x=(0,u.makeStructureNS)(g,{ele:(0,u.makeObjectPropertySetter)(i.readDecimal),time:(0,u.makeObjectPropertySetter)(i.readDateTime)}),w=(0,u.makeStructureNS)(g,{ele:(0,u.makeObjectPropertySetter)(i.readDecimal),time:(0,u.makeObjectPropertySetter)(i.readDateTime),magvar:(0,u.makeObjectPropertySetter)(i.readDecimal),geoidheight:(0,u.makeObjectPropertySetter)(i.readDecimal),name:(0,u.makeObjectPropertySetter)(i.readString),cmt:(0,u.makeObjectPropertySetter)(i.readString),desc:(0,u.makeObjectPropertySetter)(i.readString),src:(0,u.makeObjectPropertySetter)(i.readString),link:Y,sym:(0,u.makeObjectPropertySetter)(i.readString),type:(0,u.makeObjectPropertySetter)(i.readString),fix:(0,u.makeObjectPropertySetter)(i.readString),sat:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),hdop:(0,u.makeObjectPropertySetter)(i.readDecimal),vdop:(0,u.makeObjectPropertySetter)(i.readDecimal),pdop:(0,u.makeObjectPropertySetter)(i.readDecimal),ageofdgpsdata:(0,u.makeObjectPropertySetter)(i.readDecimal),dgpsid:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),extensions:U}),C=["text","type"],T=(0,u.makeStructureNS)(g,{text:(0,u.makeChildAppender)(i.writeStringTextNode),type:(0,u.makeChildAppender)(i.writeStringTextNode)}),b=(0,u.makeStructureNS)(g,["name","cmt","desc","src","link","number","type","rtept"]),j=(0,u.makeStructureNS)(g,{name:(0,u.makeChildAppender)(i.writeStringTextNode),cmt:(0,u.makeChildAppender)(i.writeStringTextNode),desc:(0,u.makeChildAppender)(i.writeStringTextNode),src:(0,u.makeChildAppender)(i.writeStringTextNode),link:(0,u.makeChildAppender)(K),number:(0,u.makeChildAppender)(i.writeNonNegativeIntegerTextNode),type:(0,u.makeChildAppender)(i.writeStringTextNode),rtept:(0,u.makeArraySerializer)((0,u.makeChildAppender)(Q))}),_=(0,u.makeStructureNS)(g,["ele","time"]),E=(0,u.makeStructureNS)(g,["name","cmt","desc","src","link","number","type","trkseg"]),R=(0,u.makeStructureNS)(g,{name:(0,u.makeChildAppender)(i.writeStringTextNode),cmt:(0,u.makeChildAppender)(i.writeStringTextNode),desc:(0,u.makeChildAppender)(i.writeStringTextNode),src:(0,u.makeChildAppender)(i.writeStringTextNode),link:(0,u.makeChildAppender)(K),number:(0,u.makeChildAppender)(i.writeNonNegativeIntegerTextNode),type:(0,u.makeChildAppender)(i.writeStringTextNode),trkseg:(0,u.makeArraySerializer)((0,u.makeChildAppender)(ee))}),D=(0,u.makeSimpleNodeFactory)("trkpt"),I=(0,u.makeStructureNS)(g,{trkpt:(0,u.makeChildAppender)(Q)}),L=(0,u.makeStructureNS)(g,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),G=(0,u.makeStructureNS)(g,{ele:(0,u.makeChildAppender)(i.writeDecimalTextNode),time:(0,u.makeChildAppender)(i.writeDateTimeTextNode),magvar:(0,u.makeChildAppender)(i.writeDecimalTextNode),geoidheight:(0,u.makeChildAppender)(i.writeDecimalTextNode),name:(0,u.makeChildAppender)(i.writeStringTextNode),cmt:(0,u.makeChildAppender)(i.writeStringTextNode),desc:(0,u.makeChildAppender)(i.writeStringTextNode),src:(0,u.makeChildAppender)(i.writeStringTextNode),link:(0,u.makeChildAppender)(K),sym:(0,u.makeChildAppender)(i.writeStringTextNode),type:(0,u.makeChildAppender)(i.writeStringTextNode),fix:(0,u.makeChildAppender)(i.writeStringTextNode),sat:(0,u.makeChildAppender)(i.writeNonNegativeIntegerTextNode),hdop:(0,u.makeChildAppender)(i.writeDecimalTextNode),vdop:(0,u.makeChildAppender)(i.writeDecimalTextNode),pdop:(0,u.makeChildAppender)(i.writeDecimalTextNode),ageofdgpsdata:(0,u.makeChildAppender)(i.writeDecimalTextNode),dgpsid:(0,u.makeChildAppender)(i.writeNonNegativeIntegerTextNode)}),M={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function q(e,t,r){var a=e.getGeometry();if(a){var i=M[a.getType()];if(i){var n=t[t.length-1].node;return(0,u.createElementNS)(n.namespaceURI,i)}}}function F(e,t,r,a){return e.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in a?(e.push(a.ele),delete a.ele,t.hasZ=!0):e.push(0),"time"in a?(e.push(a.time),delete a.time,t.hasM=!0):e.push(0),e}function X(e,t,r){var a=n.default.XY,i=2;if(e.hasZ&&e.hasM?(a=n.default.XYZM,i=4):e.hasZ?(a=n.default.XYZ,i=3):e.hasM&&(a=n.default.XYM,i=3),4!==i){for(var o=0,p=t.length/4;o<p;o++)t[o*i]=t[4*o],t[o*i+1]=t[4*o+1],e.hasZ&&(t[o*i+2]=t[4*o+2]),e.hasM&&(t[o*i+2]=t[4*o+3]);if(t.length=t.length/4*i,r)for(o=0,p=r.length;o<p;o++)r[o]=r[o]/4*i}return a}function Y(e,t){var r=t[t.length-1],a=e.getAttribute("href");null!==a&&(r.link=a),(0,u.parseNode)(y,e,t)}function U(e,t){t[t.length-1].extensionsNode_=e}function z(e,t){var r=(0,u.pushParseAndPop)({},A,e,t);if(r){var a=t[t.length-1];F(a.flatCoordinates,a.layoutOptions,e,r)}}function Z(e,t){var r=(0,u.pushParseAndPop)({},x,e,t);if(r){var a=t[t.length-1];F(a.flatCoordinates,a.layoutOptions,e,r)}}function W(e,t){var r=t[t.length-1];(0,u.parseNode)(v,e,t);var a=r.flatCoordinates;r.ends.push(a.length)}function B(t,a){var i=a[0],n=(0,u.pushParseAndPop)({flatCoordinates:[],layoutOptions:{}},P,t,a);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var d=n.layoutOptions;delete n.layoutOptions;var s=X(d,o),m=new p.default(o,s);(0,r.transformGeometryWithOptions)(m,!1,i);var l=new e.default(m);return l.setProperties(n,!0),l}}function J(t,a){var i=a[0],n=(0,u.pushParseAndPop)({flatCoordinates:[],ends:[],layoutOptions:{}},O,t,a);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var p=n.ends;delete n.ends;var s=n.layoutOptions;delete n.layoutOptions;var m=X(s,o,p),l=new d.default(o,m,p);(0,r.transformGeometryWithOptions)(l,!1,i);var c=new e.default(l);return c.setProperties(n,!0),c}}function H(t,a){var i=a[0],n=(0,u.pushParseAndPop)({},w,t,a);if(n){var o={},p=F([],o,t,n),d=X(o,p),m=new s.default(p,d);(0,r.transformGeometryWithOptions)(m,!1,i);var l=new e.default(m);return l.setProperties(n,!0),l}}function K(e,t,r){e.setAttribute("href",t);var a=r[r.length-1].properties,i=[a.linkText,a.linkType];(0,u.pushSerializeAndPop)({node:e},T,u.OBJECT_PROPERTY_NODE_FACTORY,i,r,C)}function Q(e,t,r){var a=r[r.length-1],i=a.node.namespaceURI,o=a.properties;switch(e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0])),a.geometryLayout){case n.default.XYZM:0!==t[3]&&(o.time=t[3]);case n.default.XYZ:0!==t[2]&&(o.ele=t[2]);break;case n.default.XYM:0!==t[2]&&(o.time=t[2])}var p="rtept"==e.nodeName?_[i]:L[i],d=(0,u.makeSequence)(o,p);(0,u.pushSerializeAndPop)({node:e,properties:o},G,u.OBJECT_PROPERTY_NODE_FACTORY,d,r,p)}function V(e,t,a){var i=a[0],n=t.getProperties(),p={node:e};p.properties=n;var d=t.getGeometry();if(d.getType()==o.default.LINE_STRING){var s=(0,r.transformGeometryWithOptions)(d,!0,i);p.geometryLayout=s.getLayout(),n.rtept=s.getCoordinates()}var m=a[a.length-1].node,l=b[m.namespaceURI],c=(0,u.makeSequence)(n,l);(0,u.pushSerializeAndPop)(p,j,u.OBJECT_PROPERTY_NODE_FACTORY,c,a,l)}function $(e,t,a){var i=a[0],n=t.getProperties(),p={node:e};p.properties=n;var d=t.getGeometry();if(d.getType()==o.default.MULTI_LINE_STRING){var s=(0,r.transformGeometryWithOptions)(d,!0,i);n.trkseg=s.getLineStrings()}var m=a[a.length-1].node,l=E[m.namespaceURI],c=(0,u.makeSequence)(n,l);(0,u.pushSerializeAndPop)(p,R,u.OBJECT_PROPERTY_NODE_FACTORY,c,a,l)}function ee(e,t,r){var a={node:e};a.geometryLayout=t.getLayout(),a.properties={},(0,u.pushSerializeAndPop)(a,I,D,t.getCoordinates(),r)}function te(e,t,a){var i=a[0],n=a[a.length-1];n.properties=t.getProperties();var p=t.getGeometry();if(p.getType()==o.default.POINT){var d=(0,r.transformGeometryWithOptions)(p,!0,i);n.geometryLayout=d.getLayout(),Q(e,d.getCoordinates(),a)}}var re=N;exports.default=re;
},{"../Feature.js":"mYW9","../array.js":"luEr","./Feature.js":"Kylu","./XMLFeature.js":"CXRz","./xsd.js":"jdp5","../geom/GeometryLayout.js":"Utvi","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/Point.js":"gLcY","../proj.js":"Diht","../xml.js":"yYlP"}],"zfKM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=o(require("../format/Feature.js")),r=o(require("../format/FormatType.js"));function o(t){return t&&t.__esModule?t:{default:t}}var n=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),u=function(e){function o(){return e.call(this)||this}return n(o,e),o.prototype.getType=function(){return r.default.TEXT},o.prototype.readFeature=function(t,e){return this.readFeatureFromText(i(t),this.adaptOptions(e))},o.prototype.readFeatureFromText=function(e,r){return(0,t.abstract)()},o.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(i(t),this.adaptOptions(e))},o.prototype.readFeaturesFromText=function(e,r){return(0,t.abstract)()},o.prototype.readGeometry=function(t,e){return this.readGeometryFromText(i(t),this.adaptOptions(e))},o.prototype.readGeometryFromText=function(e,r){return(0,t.abstract)()},o.prototype.readProjection=function(t){return this.readProjectionFromText(i(t))},o.prototype.readProjectionFromText=function(t){return this.dataProjection},o.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},o.prototype.writeFeatureText=function(e,r){return(0,t.abstract)()},o.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},o.prototype.writeFeaturesText=function(e,r){return(0,t.abstract)()},o.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},o.prototype.writeGeometryText=function(e,r){return(0,t.abstract)()},o}(e.default);function i(t){return"string"==typeof t?t:""}var a=u;exports.default=a;
},{"../util.js":"KniQ","../format/Feature.js":"Kylu","../format/FormatType.js":"AbO3"}],"nRJB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("../Feature.js")),t=require("./Feature.js"),r=u(require("./TextFeature.js")),n=u(require("../geom/GeometryLayout.js")),o=u(require("../geom/LineString.js")),a=require("../proj.js");function u(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},d=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,p=/^H.([A-Z]{3}).*?:(.*)/,f=/^HFDTE(\d{2})(\d{2})(\d{2})/,c=/\r\n|\r|\n/,l=function(r){function u(e){var t=r.call(this)||this,n=e||{};return t.dataProjection=(0,a.get)("EPSG:4326"),t.altitudeMode_=n.altitudeMode?n.altitudeMode:s.NONE,t}return i(u,r),u.prototype.readFeatureFromText=function(r,a){var u,i,l=this.altitudeMode_,v=r.split(c),h={},I=[],_=2e3,y=0,O=1,j=-1;for(u=0,i=v.length;u<i;++u){var m=v[u],x=void 0;if("B"==m.charAt(0)){if(x=d.exec(m)){var F=parseInt(x[1],10),M=parseInt(x[2],10),E=parseInt(x[3],10),N=parseInt(x[4],10)+parseInt(x[5],10)/6e4;"S"==x[6]&&(N=-N);var T=parseInt(x[7],10)+parseInt(x[8],10)/6e4;if("W"==x[9]&&(T=-T),I.push(T,N),l!=s.NONE){var P=void 0;P=l==s.GPS?parseInt(x[11],10):l==s.BAROMETRIC?parseInt(x[12],10):0,I.push(P)}var g=Date.UTC(_,y,O,F,M,E);g<j&&(g=Date.UTC(_,y,O+1,F,M,E)),I.push(g/1e3),j=g}}else"H"==m.charAt(0)&&((x=f.exec(m))?(O=parseInt(x[1],10),y=parseInt(x[2],10)-1,_=2e3+parseInt(x[3],10)):(x=p.exec(m))&&(h[x[1]]=x[2].trim()))}if(0===I.length)return null;var A=l==s.NONE?n.default.XYM:n.default.XYZM,q=new o.default(I,A),S=new e.default((0,t.transformGeometryWithOptions)(q,!1,a));return S.setProperties(h,!0),S},u.prototype.readFeaturesFromText=function(e,t){var r=this.readFeatureFromText(e,t);return r?[r]:[]},u}(r.default),v=l;exports.default=v;
},{"../Feature.js":"mYW9","./Feature.js":"Kylu","./TextFeature.js":"zfKM","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../proj.js":"Diht"}],"FFf1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Versions=exports.default=void 0;var e=require("../asserts.js"),i={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};exports.Versions=i;var t={};t[i.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},t[i.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},t[i.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},t.none={none:{supports:[],formats:[],qualities:[]}};var o=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),r=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),s=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");function a(e){var o=e.getComplianceLevelSupportedFeatures();return void 0===o&&(o=t[i.VERSION1].level0),{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:o.supports,formats:o.formats.concat([void 0===e.imageInfo.formats?[]:e.imageInfo.formats]),qualities:o.qualities.concat([void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities]),resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:null!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}}function n(e){var i=e.getComplianceLevelSupportedFeatures(),t=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,o=t&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],r=t&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],s=t&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return void 0===e.height?e.width:e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:i.supports.concat(o),formats:i.formats.concat(r),qualities:i.qualities.concat(s)}}function f(e){var i=e.getComplianceLevelSupportedFeatures(),t=void 0===e.imageInfo.extraFormats?i.formats:i.formats.concat(e.imageInfo.extraFormats),o=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter(function(e){return["jpg","png","gif"].includes(e)}).reduce(function(e,i){return void 0===e&&t.includes(i)?i:e},void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:void 0===e.imageInfo.extraFeatures?i.supports:i.supports.concat(e.imageInfo.extraFeatures),formats:t,qualities:void 0===e.imageInfo.extraQualities?i.qualities:i.qualities.concat(e.imageInfo.extraQualities),preferredFormat:o}}var l={};l[i.VERSION1]=a,l[i.VERSION2]=n,l[i.VERSION3]=f;var p=function(){function a(e){this.setImageInfo(e)}return a.prototype.setImageInfo=function(e){this.imageInfo="string"==typeof e?JSON.parse(e):e},a.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var o=0;o<t.length;o++)switch(t[o]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return i.VERSION1;case"http://iiif.io/api/image/2/context.json":return i.VERSION2;case"http://iiif.io/api/image/3/context.json":return i.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(i.VERSION1)&&this.imageInfo.identifier)return i.VERSION1}(0,e.assert)(!1,61)}},a.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case i.VERSION1:if(o.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION3:if(s.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION2:if("string"==typeof this.imageInfo.profile&&r.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&r.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},a.prototype.getComplianceLevelFromProfile=function(e){var i=this.getComplianceLevelEntryFromProfile(e);if(void 0!==i){var t=i.match(/level[0-2](\.json)?$/g);return Array.isArray(t)?t[0].replace(".json",""):void 0}},a.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),i=this.getComplianceLevelFromProfile(e);return void 0===i?t.none.none:t[e][i]}},a.prototype.getTileSourceOptions=function(e){var i=e||{},t=this.getImageApiVersion();if(void 0!==t){var o=void 0===t?void 0:l[t](this);if(void 0!==o)return{url:o.url,version:t,size:[this.imageInfo.width,this.imageInfo.height],sizes:o.sizes,format:void 0!==i.format&&o.formats.includes(i.format)?i.format:void 0!==o.preferredFormat?o.preferredFormat:"jpg",supports:o.supports,quality:i.quality&&o.qualities.includes(i.quality)?i.quality:o.qualities.includes("native")?"native":"default",resolutions:Array.isArray(o.resolutions)?o.resolutions.sort(function(e,i){return i-e}):void 0,tileSize:o.tileSize}}},a}(),g=p;exports.default=g;
},{"../asserts.js":"fLG6"}],"DiYy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDefaultFillStyle=J,exports.getDefaultImageStyle=W,exports.getDefaultStrokeStyle=Q,exports.getDefaultTextStyle=ee,exports.getDefaultStyle=re,exports.getDefaultStyleArray=ne,exports.readFlatCoordinates=me,exports.default=void 0;var e=b(require("../Feature.js")),t=require("../array.js"),r=require("../asserts.js"),a=require("../color.js"),n=require("./Feature.js"),o=b(require("./XMLFeature.js")),i=require("./xsd.js"),l=b(require("../geom/GeometryCollection.js")),u=b(require("../geom/GeometryLayout.js")),d=b(require("../geom/GeometryType.js")),s=b(require("../geom/LineString.js")),m=b(require("../geom/MultiLineString.js")),c=b(require("../geom/MultiPoint.js")),p=b(require("../geom/MultiPolygon.js")),S=b(require("../geom/Point.js")),f=b(require("../geom/Polygon.js")),h=require("../math.js"),y=require("../proj.js"),g=b(require("../style/Fill.js")),k=b(require("../style/Icon.js")),v=b(require("../style/IconAnchorUnits.js")),P=b(require("../style/IconOrigin.js")),N=b(require("../style/Stroke.js")),A=b(require("../style/Style.js")),O=b(require("../style/Text.js")),x=require("../xml.js");function b(e){return e&&e.__esModule?e:{default:e}}var T,w,C,F,E,R,_,j=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),I=["http://www.google.com/kml/ext/2.2"],L=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],D="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",M={fraction:v.default.FRACTION,pixels:v.default.PIXELS,insetPixels:v.default.PIXELS},U=(0,x.makeStructureNS)(L,{ExtendedData:$e,Region:Ke,MultiGeometry:(0,x.makeObjectPropertySetter)(Ye,"geometry"),LineString:(0,x.makeObjectPropertySetter)(De,"geometry"),LinearRing:(0,x.makeObjectPropertySetter)(Me,"geometry"),Point:(0,x.makeObjectPropertySetter)(qe,"geometry"),Polygon:(0,x.makeObjectPropertySetter)(Ge,"geometry"),Style:(0,x.makeObjectPropertySetter)(Xe),StyleMap:et,address:(0,x.makeObjectPropertySetter)(i.readString),description:(0,x.makeObjectPropertySetter)(i.readString),name:(0,x.makeObjectPropertySetter)(i.readString),open:(0,x.makeObjectPropertySetter)(i.readBoolean),phoneNumber:(0,x.makeObjectPropertySetter)(i.readString),styleUrl:(0,x.makeObjectPropertySetter)(ce),visibility:(0,x.makeObjectPropertySetter)(i.readBoolean)},(0,x.makeStructureNS)(I,{MultiTrack:(0,x.makeObjectPropertySetter)(Ce,"geometry"),Track:(0,x.makeObjectPropertySetter)(Ee,"geometry")})),Y=(0,x.makeStructureNS)(L,{ExtendedData:$e,Region:Ke,Link:ct,address:(0,x.makeObjectPropertySetter)(i.readString),description:(0,x.makeObjectPropertySetter)(i.readString),name:(0,x.makeObjectPropertySetter)(i.readString),open:(0,x.makeObjectPropertySetter)(i.readBoolean),phoneNumber:(0,x.makeObjectPropertySetter)(i.readString),visibility:(0,x.makeObjectPropertySetter)(i.readBoolean)}),q=(0,x.makeStructureNS)(L,{href:(0,x.makeObjectPropertySetter)(ce)}),B=(0,x.makeStructureNS)(L,{LatLonAltBox:ot,Lod:lt}),G=(0,x.makeStructureNS)(L,["Document","Placemark"]),z=(0,x.makeStructureNS)(L,{Document:(0,x.makeChildAppender)(Nt),Placemark:(0,x.makeChildAppender)(Kt)}),X=null;function J(){return X}var Z,H=null;function W(){return H}var $,K=null;function Q(){return K}var V=null;function ee(){return V}var te=null;function re(){return te}var ae=null;function ne(){return ae}function oe(){T=[255,255,255,1],X=new g.default({color:T}),w=[20,2],C=v.default.PIXELS,F=v.default.PIXELS,E=[64,64],R="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",_=.5,H=new k.default({anchor:w,anchorOrigin:P.default.BOTTOM_LEFT,anchorXUnits:C,anchorYUnits:F,crossOrigin:"anonymous",rotation:0,scale:_,size:E,src:R}),Z="NO_IMAGE",K=new N.default({color:T,width:1}),$=new N.default({color:[51,51,51,1],width:2}),V=new O.default({font:"bold 16px Helvetica",fill:X,stroke:$,scale:.8}),te=new A.default({fill:X,image:H,text:V,stroke:K,zIndex:0}),ae=[te]}var ie=function(r){function a(e){var t=r.call(this)||this,a=e||{};return ae||oe(),t.dataProjection=(0,y.get)("EPSG:4326"),t.defaultStyle_=a.defaultStyle?a.defaultStyle:ae,t.extractStyles_=void 0===a.extractStyles||a.extractStyles,t.writeStyles_=void 0===a.writeStyles||a.writeStyles,t.sharedStyles_={},t.showPointNames_=void 0===a.showPointNames||a.showPointNames,t}return j(a,r),a.prototype.readDocumentOrFolder_=function(e,t){var r=(0,x.makeStructureNS)(L,{Document:(0,x.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,x.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,x.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),a=(0,x.pushParseAndPop)([],r,e,t,this);return a||void 0},a.prototype.readPlacemark_=function(t,r){var a=(0,x.pushParseAndPop)({geometry:null},U,t,r);if(a){var o=new e.default,i=t.getAttribute("id");null!==i&&o.setId(i);var l=r[0],u=a.geometry;if(u&&(0,n.transformGeometryWithOptions)(u,!1,l),o.setGeometry(u),delete a.geometry,this.extractStyles_){var d=ue(a.Style,a.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(d)}return delete a.Style,o.setProperties(a,!0),o}},a.prototype.readSharedStyle_=function(e,t){var r=e.getAttribute("id");if(null!==r){var a=Xe(e,t);if(a){var n=void 0,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)n=new URL("#"+r,o).href;else n="#"+r;this.sharedStyles_[n]=a}}},a.prototype.readSharedStyleMap_=function(e,t){var r=e.getAttribute("id");if(null!==r){var a=he(e,t);if(a){var n,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)n=new URL("#"+r,o).href;else n="#"+r;this.sharedStyles_[n]=a}}},a.prototype.readFeatureFromNode=function(e,r){if(!(0,t.includes)(L,e.namespaceURI))return null;var a=this.readPlacemark_(e,[this.getReadOptions(e,r)]);return a||null},a.prototype.readFeaturesFromNode=function(e,r){if(!(0,t.includes)(L,e.namespaceURI))return[];var a,n=e.localName;if("Document"==n||"Folder"==n)return(a=this.readDocumentOrFolder_(e,[this.getReadOptions(e,r)]))||[];if("Placemark"==n){var o=this.readPlacemark_(e,[this.getReadOptions(e,r)]);return o?[o]:[]}if("kml"==n){a=[];for(var i=e.firstElementChild;i;i=i.nextElementSibling){var l=this.readFeaturesFromNode(i,r);l&&(0,t.extend)(a,l)}return a}return[]},a.prototype.readName=function(e){if(e){if("string"==typeof e){var t=(0,x.parse)(e);return this.readNameFromDocument(t)}return(0,x.isDocument)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}},a.prototype.readNameFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(t);if(r)return r}},a.prototype.readNameFromNode=function(e){for(var r=e.firstElementChild;r;r=r.nextElementSibling)if((0,t.includes)(L,r.namespaceURI)&&"name"==r.localName)return(0,i.readString)(r);for(r=e.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;if((0,t.includes)(L,r.namespaceURI)&&("Document"==a||"Folder"==a||"Placemark"==a||"kml"==a)){var n=this.readNameFromNode(r);if(n)return n}}},a.prototype.readNetworkLinks=function(e){var r=[];if("string"==typeof e){var a=(0,x.parse)(e);(0,t.extend)(r,this.readNetworkLinksFromDocument(a))}else(0,x.isDocument)(e)?(0,t.extend)(r,this.readNetworkLinksFromDocument(e)):(0,t.extend)(r,this.readNetworkLinksFromNode(e));return r},a.prototype.readNetworkLinksFromDocument=function(e){for(var r=[],a=e.firstChild;a;a=a.nextSibling)a.nodeType==Node.ELEMENT_NODE&&(0,t.extend)(r,this.readNetworkLinksFromNode(a));return r},a.prototype.readNetworkLinksFromNode=function(e){for(var r=[],a=e.firstElementChild;a;a=a.nextElementSibling)if((0,t.includes)(L,a.namespaceURI)&&"NetworkLink"==a.localName){var n=(0,x.pushParseAndPop)({},Y,a,[]);r.push(n)}for(a=e.firstElementChild;a;a=a.nextElementSibling){var o=a.localName;!(0,t.includes)(L,a.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||(0,t.extend)(r,this.readNetworkLinksFromNode(a))}return r},a.prototype.readRegion=function(e){var r=[];if("string"==typeof e){var a=(0,x.parse)(e);(0,t.extend)(r,this.readRegionFromDocument(a))}else(0,x.isDocument)(e)?(0,t.extend)(r,this.readRegionFromDocument(e)):(0,t.extend)(r,this.readRegionFromNode(e));return r},a.prototype.readRegionFromDocument=function(e){for(var r=[],a=e.firstChild;a;a=a.nextSibling)a.nodeType==Node.ELEMENT_NODE&&(0,t.extend)(r,this.readRegionFromNode(a));return r},a.prototype.readRegionFromNode=function(e){for(var r=[],a=e.firstElementChild;a;a=a.nextElementSibling)if((0,t.includes)(L,a.namespaceURI)&&"Region"==a.localName){var n=(0,x.pushParseAndPop)({},B,a,[]);r.push(n)}for(a=e.firstElementChild;a;a=a.nextElementSibling){var o=a.localName;!(0,t.includes)(L,a.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||(0,t.extend)(r,this.readRegionFromNode(a))}return r},a.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=(0,x.createElementNS)(L[4],"kml"),a="http://www.w3.org/2000/xmlns/";r.setAttributeNS(a,"xmlns:gx",I[0]),r.setAttributeNS(a,"xmlns:xsi",x.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(x.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",D);var n={node:r},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);var i=G[r.namespaceURI],l=(0,x.makeSequence)(o,i);return(0,x.pushSerializeAndPop)(n,z,x.OBJECT_PROPERTY_NODE_FACTORY,l,[t],i,this),r},a}(o.default);function le(e,t){var r=null,a=[0,0],n="start";if(e.getImage()){var o=e.getImage().getImageSize();if(null===o&&(o=E),2==o.length){var i=e.getImage().getScale();a[0]=i*o[0]/2,a[1]=-i*o[1]/2,n="left"}}if(null!==e.getText()){var l=e.getText();(r=l.clone()).setFont(l.getFont()||V.getFont()),r.setScale(l.getScale()||V.getScale()),r.setFill(l.getFill()||V.getFill()),r.setStroke(l.getStroke()||$)}else r=V.clone();return r.setText(t),r.setOffsetX(a[0]),r.setOffsetY(a[1]),r.setTextAlign(n),new A.default({text:r})}function ue(e,t,r,a,n){return function(o,i){var l,u=n,s="";if(u){var m=o.getGeometry();m&&(u=m.getType()===d.default.POINT)}if(u&&(s=o.get("name"),u=u&&!!s),e)return u?(l=le(e[0],s),e.concat(l)):e;if(t){var c=de(t,r,a);return u?(l=le(c[0],s),c.concat(l)):c}return u?(l=le(r[0],s),r.concat(l)):r}}function de(e,t,r){return Array.isArray(e)?e:"string"==typeof e?(!(e in r)&&"#"+e in r&&(e="#"+e),de(r[e],t,r)):t}function se(e){var t=(0,x.getAllTextContent)(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){var a=r[1];return[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}}function me(e){for(var t,r=(0,x.getAllTextContent)(e,!1),a=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;t=n.exec(r);){var o=parseFloat(t[1]),i=parseFloat(t[2]),l=t[3]?parseFloat(t[3]):0;a.push(o,i,l),r=r.substr(t[0].length)}if(""===r)return a}function ce(e){var t=(0,x.getAllTextContent)(e,!1).trim(),r=e.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(t,r).href:t}function pe(e){var t,r=e.getAttribute("xunits"),a=e.getAttribute("yunits");return t="insetPixels"!==r?"insetPixels"!==a?P.default.BOTTOM_LEFT:P.default.TOP_LEFT:"insetPixels"!==a?P.default.BOTTOM_RIGHT:P.default.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:M[r],y:parseFloat(e.getAttribute("y")),yunits:M[a],origin:t}}function Se(e){return(0,i.readDecimal)(e)}var fe=(0,x.makeStructureNS)(L,{Pair:Ve});function he(e,t){return(0,x.pushParseAndPop)(void 0,fe,e,t)}var ye=(0,x.makeStructureNS)(L,{Icon:(0,x.makeObjectPropertySetter)(_e),heading:(0,x.makeObjectPropertySetter)(i.readDecimal),hotSpot:(0,x.makeObjectPropertySetter)(pe),scale:(0,x.makeObjectPropertySetter)(Se)});function ge(e,t){var r=(0,x.pushParseAndPop)({},ye,e,t);if(r){var a,n,o,i,l=t[t.length-1],u="Icon"in r?r.Icon:{},d=!("Icon"in r)||Object.keys(u).length>0,s=u.href;s?a=s:d&&(a=R);var m,c=P.default.BOTTOM_LEFT,p=r.hotSpot;p?(n=[p.x,p.y],o=p.xunits,i=p.yunits,c=p.origin):a===R?(n=w,o=C,i=F):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(n=[.5,0],o=v.default.FRACTION,i=v.default.FRACTION);var S,f=u.x,y=u.y;void 0!==f&&void 0!==y&&(m=[f,y]);var g,N=u.w,A=u.h;void 0!==N&&void 0!==A&&(S=[N,A]);var O=r.heading;void 0!==O&&(g=(0,h.toRadians)(O));var b=r.scale;if(d){a==R&&(S=E,void 0===b&&(b=_));var T=new k.default({anchor:n,anchorOrigin:c,anchorXUnits:o,anchorYUnits:i,crossOrigin:"anonymous",offset:m,offsetOrigin:P.default.BOTTOM_LEFT,rotation:g,scale:b,size:S,src:a});l.imageStyle=T}else l.imageStyle=Z}}var ke=(0,x.makeStructureNS)(L,{color:(0,x.makeObjectPropertySetter)(se),scale:(0,x.makeObjectPropertySetter)(Se)});function ve(e,t){var r=(0,x.pushParseAndPop)({},ke,e,t);if(r){var a=t[t.length-1],n=new O.default({fill:new g.default({color:"color"in r?r.color:T}),scale:r.scale});a.textStyle=n}}var Pe=(0,x.makeStructureNS)(L,{color:(0,x.makeObjectPropertySetter)(se),width:(0,x.makeObjectPropertySetter)(i.readDecimal)});function Ne(e,t){var r=(0,x.pushParseAndPop)({},Pe,e,t);if(r){var a=t[t.length-1],n=new N.default({color:"color"in r?r.color:T,width:"width"in r?r.width:1});a.strokeStyle=n}}var Ae=(0,x.makeStructureNS)(L,{color:(0,x.makeObjectPropertySetter)(se),fill:(0,x.makeObjectPropertySetter)(i.readBoolean),outline:(0,x.makeObjectPropertySetter)(i.readBoolean)});function Oe(e,t){var r=(0,x.pushParseAndPop)({},Ae,e,t);if(r){var a=t[t.length-1],n=new g.default({color:"color"in r?r.color:T});a.fillStyle=n;var o=r.fill;void 0!==o&&(a.fill=o);var i=r.outline;void 0!==i&&(a.outline=i)}}var xe=(0,x.makeStructureNS)(L,{coordinates:(0,x.makeReplacer)(me)});function be(e,t){return(0,x.pushParseAndPop)(null,xe,e,t)}function Te(e,t){var r=t[t.length-1].flatCoordinates,a=(0,x.getAllTextContent)(e,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a);if(n){var o=parseFloat(n[1]),i=parseFloat(n[2]),l=parseFloat(n[3]);r.push(o,i,l,0)}else r.push(0,0,0,0)}var we=(0,x.makeStructureNS)(I,{Track:(0,x.makeArrayPusher)(Ee)});function Ce(e,t){var r=(0,x.pushParseAndPop)([],we,e,t);if(r)return new m.default(r)}var Fe=(0,x.makeStructureNS)(L,{when:pt},(0,x.makeStructureNS)(I,{coord:Te}));function Ee(e,t){var r=(0,x.pushParseAndPop)({flatCoordinates:[],whens:[]},Fe,e,t);if(r){for(var a=r.flatCoordinates,n=r.whens,o=0,i=Math.min(a.length,n.length);o<i;++o)a[4*o+3]=n[o];return new s.default(a,u.default.XYZM)}}var Re=(0,x.makeStructureNS)(L,{href:(0,x.makeObjectPropertySetter)(ce)},(0,x.makeStructureNS)(I,{x:(0,x.makeObjectPropertySetter)(i.readDecimal),y:(0,x.makeObjectPropertySetter)(i.readDecimal),w:(0,x.makeObjectPropertySetter)(i.readDecimal),h:(0,x.makeObjectPropertySetter)(i.readDecimal)}));function _e(e,t){var r=(0,x.pushParseAndPop)({},Re,e,t);return r||null}var je=(0,x.makeStructureNS)(L,{coordinates:(0,x.makeReplacer)(me)});function Ie(e,t){return(0,x.pushParseAndPop)(null,je,e,t)}var Le=(0,x.makeStructureNS)(L,{extrude:(0,x.makeObjectPropertySetter)(i.readBoolean),tessellate:(0,x.makeObjectPropertySetter)(i.readBoolean),altitudeMode:(0,x.makeObjectPropertySetter)(i.readString)});function De(e,t){var r=(0,x.pushParseAndPop)({},Le,e,t),a=Ie(e,t);if(a){var n=new s.default(a,u.default.XYZ);return n.setProperties(r,!0),n}}function Me(e,t){var r=(0,x.pushParseAndPop)({},Le,e,t),a=Ie(e,t);if(a){var n=new f.default(a,u.default.XYZ,[a.length]);return n.setProperties(r,!0),n}}var Ue=(0,x.makeStructureNS)(L,{LineString:(0,x.makeArrayPusher)(De),LinearRing:(0,x.makeArrayPusher)(Me),MultiGeometry:(0,x.makeArrayPusher)(Ye),Point:(0,x.makeArrayPusher)(qe),Polygon:(0,x.makeArrayPusher)(Ge)});function Ye(e,a){var n,o=(0,x.pushParseAndPop)([],Ue,e,a);if(!o)return null;if(0===o.length)return new l.default(o);for(var i,u=!0,s=o[0].getType(),S=1,f=o.length;S<f;++S)if((i=o[S]).getType()!=s){u=!1;break}if(u){var h=void 0,y=void 0;if(s==d.default.POINT){var g=o[0];h=g.getLayout(),y=g.getFlatCoordinates();for(S=1,f=o.length;S<f;++S)i=o[S],(0,t.extend)(y,i.getFlatCoordinates());Je(n=new c.default(y,h),o)}else s==d.default.LINE_STRING?Je(n=new m.default(o),o):s==d.default.POLYGON?Je(n=new p.default(o),o):s==d.default.GEOMETRY_COLLECTION?n=new l.default(o):(0,r.assert)(!1,37)}else n=new l.default(o);return n}function qe(e,t){var r=(0,x.pushParseAndPop)({},Le,e,t),a=Ie(e,t);if(a){var n=new S.default(a,u.default.XYZ);return n.setProperties(r,!0),n}}var Be=(0,x.makeStructureNS)(L,{innerBoundaryIs:dt,outerBoundaryIs:mt});function Ge(e,r){var a=(0,x.pushParseAndPop)({},Le,e,r),n=(0,x.pushParseAndPop)([null],Be,e,r);if(n&&n[0]){for(var o=n[0],i=[o.length],l=1,d=n.length;l<d;++l)(0,t.extend)(o,n[l]),i.push(o.length);var s=new f.default(o,u.default.XYZ,i);return s.setProperties(a,!0),s}}var ze=(0,x.makeStructureNS)(L,{IconStyle:ge,LabelStyle:ve,LineStyle:Ne,PolyStyle:Oe});function Xe(e,t){var r=(0,x.pushParseAndPop)({},ze,e,t);if(!r)return null;var a,n="fillStyle"in r?r.fillStyle:X,o=r.fill;void 0===o||o||(n=null),"imageStyle"in r?r.imageStyle!=Z&&(a=r.imageStyle):a=H;var i="textStyle"in r?r.textStyle:V,l="strokeStyle"in r?r.strokeStyle:K,u=r.outline;return void 0===u||u||(l=null),[new A.default({fill:n,image:a,stroke:l,text:i,zIndex:void 0})]}function Je(e,t){var r,a,n,o=t.length,i=new Array(t.length),l=new Array(t.length),u=new Array(t.length);r=!1,a=!1,n=!1;for(var d=0;d<o;++d){var s=t[d];i[d]=s.get("extrude"),l[d]=s.get("tessellate"),u[d]=s.get("altitudeMode"),r=r||void 0!==i[d],a=a||void 0!==l[d],n=n||u[d]}r&&e.set("extrude",i),a&&e.set("tessellate",l),n&&e.set("altitudeMode",u)}var Ze=(0,x.makeStructureNS)(L,{displayName:(0,x.makeObjectPropertySetter)(i.readString),value:(0,x.makeObjectPropertySetter)(i.readString)});function He(e,t){var r=e.getAttribute("name");(0,x.parseNode)(Ze,e,t);var a=t[t.length-1];r&&a.displayName?a[r]={value:a.value,displayName:a.displayName,toString:function(){return a.value}}:null!==r?a[r]=a.value:null!==a.displayName&&(a[a.displayName]=a.value),delete a.value}var We=(0,x.makeStructureNS)(L,{Data:He,SchemaData:rt});function $e(e,t){(0,x.parseNode)(We,e,t)}function Ke(e,t){(0,x.parseNode)(B,e,t)}var Qe=(0,x.makeStructureNS)(L,{Style:(0,x.makeObjectPropertySetter)(Xe),key:(0,x.makeObjectPropertySetter)(i.readString),styleUrl:(0,x.makeObjectPropertySetter)(ce)});function Ve(e,t){var r=(0,x.pushParseAndPop)({},Qe,e,t);if(r){var a=r.key;if(a&&"normal"==a){var n=r.styleUrl;n&&(t[t.length-1]=n);var o=r.Style;o&&(t[t.length-1]=o)}}}function et(e,t){var a=he(e,t);if(a){var n=t[t.length-1];Array.isArray(a)?n.Style=a:"string"==typeof a?n.styleUrl=a:(0,r.assert)(!1,38)}}var tt=(0,x.makeStructureNS)(L,{SimpleData:at});function rt(e,t){(0,x.parseNode)(tt,e,t)}function at(e,t){var r=e.getAttribute("name");if(null!==r){var a=(0,i.readString)(e);t[t.length-1][r]=a}}var nt=(0,x.makeStructureNS)(L,{altitudeMode:(0,x.makeObjectPropertySetter)(i.readString),minAltitude:(0,x.makeObjectPropertySetter)(i.readDecimal),maxAltitude:(0,x.makeObjectPropertySetter)(i.readDecimal),north:(0,x.makeObjectPropertySetter)(i.readDecimal),south:(0,x.makeObjectPropertySetter)(i.readDecimal),east:(0,x.makeObjectPropertySetter)(i.readDecimal),west:(0,x.makeObjectPropertySetter)(i.readDecimal)});function ot(e,t){var r=(0,x.pushParseAndPop)({},nt,e,t);if(r){var a=t[t.length-1],n=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];a.extent=n,a.altitudeMode=r.altitudeMode,a.minAltitude=parseFloat(r.minAltitude),a.maxAltitude=parseFloat(r.maxAltitude)}}var it=(0,x.makeStructureNS)(L,{minLodPixels:(0,x.makeObjectPropertySetter)(i.readDecimal),maxLodPixels:(0,x.makeObjectPropertySetter)(i.readDecimal),minFadeExtent:(0,x.makeObjectPropertySetter)(i.readDecimal),maxFadeExtent:(0,x.makeObjectPropertySetter)(i.readDecimal)});function lt(e,t){var r=(0,x.pushParseAndPop)({},it,e,t);if(r){var a=t[t.length-1];a.minLodPixels=parseFloat(r.minLodPixels),a.maxLodPixels=parseFloat(r.maxLodPixels),a.minFadeExtent=parseFloat(r.minFadeExtent),a.maxFadeExtent=parseFloat(r.maxFadeExtent)}}var ut=(0,x.makeStructureNS)(L,{LinearRing:(0,x.makeReplacer)(be)});function dt(e,t){var r=(0,x.pushParseAndPop)(void 0,ut,e,t);r&&t[t.length-1].push(r)}var st=(0,x.makeStructureNS)(L,{LinearRing:(0,x.makeReplacer)(be)});function mt(e,t){var r=(0,x.pushParseAndPop)(void 0,st,e,t);r&&(t[t.length-1][0]=r)}function ct(e,t){(0,x.parseNode)(q,e,t)}function pt(e,t){var r=t[t.length-1].whens,a=(0,x.getAllTextContent)(e,!1),n=Date.parse(a);r.push(isNaN(n)?0:n)}function St(e,t){for(var r=(0,a.asArray)(t),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],o=0;o<4;++o){var l=Math.floor(n[o]).toString(16);n[o]=1==l.length?"0"+l:l}(0,i.writeStringTextNode)(e,n.join(""))}function ft(e,t,a){var n,o=a[a.length-1],l=o.layout,d=o.stride;l==u.default.XY||l==u.default.XYM?n=2:l==u.default.XYZ||l==u.default.XYZM?n=3:(0,r.assert)(!1,34);var s=t.length,m="";if(s>0){m+=t[0];for(var c=1;c<n;++c)m+=","+t[c];for(var p=d;p<s;p+=d){m+=" "+t[p];for(c=1;c<n;++c)m+=","+t[p+c]}}(0,i.writeStringTextNode)(e,m)}var ht=(0,x.makeStructureNS)(L,{Data:(0,x.makeChildAppender)(yt),value:(0,x.makeChildAppender)(kt),displayName:(0,x.makeChildAppender)(gt)});function yt(e,t,r){e.setAttribute("name",t.name);var a={node:e},n=t.value;"object"==typeof n?(null!==n&&n.displayName&&(0,x.pushSerializeAndPop)(a,ht,x.OBJECT_PROPERTY_NODE_FACTORY,[n.displayName],r,["displayName"]),null!==n&&n.value&&(0,x.pushSerializeAndPop)(a,ht,x.OBJECT_PROPERTY_NODE_FACTORY,[n.value],r,["value"])):(0,x.pushSerializeAndPop)(a,ht,x.OBJECT_PROPERTY_NODE_FACTORY,[n],r,["value"])}function gt(e,t){(0,i.writeCDATASection)(e,t)}function kt(e,t){(0,i.writeStringTextNode)(e,t)}var vt=(0,x.makeStructureNS)(L,{Placemark:(0,x.makeChildAppender)(Kt)}),Pt=function(e,t,r){var a=t[t.length-1].node;return(0,x.createElementNS)(a.namespaceURI,"Placemark")};function Nt(e,t,r){var a={node:e};(0,x.pushSerializeAndPop)(a,vt,Pt,t,r,void 0,this)}var At=(0,x.makeSimpleNodeFactory)("Data");function Ot(e,t,r){for(var a={node:e},n=t.names,o=t.values,i=n.length,l=0;l<i;l++)(0,x.pushSerializeAndPop)(a,ht,At,[{name:n[l],value:o[l]}],r)}var xt=(0,x.makeStructureNS)(L,["href"],(0,x.makeStructureNS)(I,["x","y","w","h"])),bt=(0,x.makeStructureNS)(L,{href:(0,x.makeChildAppender)(i.writeStringTextNode)},(0,x.makeStructureNS)(I,{x:(0,x.makeChildAppender)(i.writeDecimalTextNode),y:(0,x.makeChildAppender)(i.writeDecimalTextNode),w:(0,x.makeChildAppender)(i.writeDecimalTextNode),h:(0,x.makeChildAppender)(i.writeDecimalTextNode)})),Tt=function(e,t,r){return(0,x.createElementNS)(I[0],"gx:"+r)};function wt(e,t,r){var a={node:e},n=r[r.length-1].node,o=xt[n.namespaceURI],i=(0,x.makeSequence)(t,o);(0,x.pushSerializeAndPop)(a,bt,x.OBJECT_PROPERTY_NODE_FACTORY,i,r,o),o=xt[I[0]],i=(0,x.makeSequence)(t,o),(0,x.pushSerializeAndPop)(a,bt,Tt,i,r,o)}var Ct=(0,x.makeStructureNS)(L,["scale","heading","Icon","hotSpot"]),Ft=(0,x.makeStructureNS)(L,{Icon:(0,x.makeChildAppender)(wt),heading:(0,x.makeChildAppender)(i.writeDecimalTextNode),hotSpot:(0,x.makeChildAppender)(cr),scale:(0,x.makeChildAppender)(ur)});function Et(e,t,r){var a={node:e},n={},o=t.getSrc(),i=t.getSize(),l=t.getImageSize(),u={href:o};if(i){u.w=i[0],u.h=i[1];var d=t.getAnchor(),s=t.getOrigin();if(s&&l&&0!==s[0]&&s[1]!==i[1]&&(u.x=s[0],u.y=l[1]-(s[1]+i[1])),d&&(d[0]!==i[0]/2||d[1]!==i[1]/2)){var m={x:d[0],xunits:v.default.PIXELS,y:i[1]-d[1],yunits:v.default.PIXELS};n.hotSpot=m}}n.Icon=u;var c=t.getScale();1!==c&&(n.scale=c);var p=t.getRotation();0!==p&&(n.heading=p);var S=r[r.length-1].node,f=Ct[S.namespaceURI],h=(0,x.makeSequence)(n,f);(0,x.pushSerializeAndPop)(a,Ft,x.OBJECT_PROPERTY_NODE_FACTORY,h,r,f)}var Rt=(0,x.makeStructureNS)(L,["color","scale"]),_t=(0,x.makeStructureNS)(L,{color:(0,x.makeChildAppender)(St),scale:(0,x.makeChildAppender)(ur)});function jt(e,t,r){var a={node:e},n={},o=t.getFill();o&&(n.color=o.getColor());var i=t.getScale();i&&1!==i&&(n.scale=i);var l=r[r.length-1].node,u=Rt[l.namespaceURI],d=(0,x.makeSequence)(n,u);(0,x.pushSerializeAndPop)(a,_t,x.OBJECT_PROPERTY_NODE_FACTORY,d,r,u)}var It=(0,x.makeStructureNS)(L,["color","width"]),Lt=(0,x.makeStructureNS)(L,{color:(0,x.makeChildAppender)(St),width:(0,x.makeChildAppender)(i.writeDecimalTextNode)});function Dt(e,t,r){var a={node:e},n={color:t.getColor(),width:t.getWidth()},o=r[r.length-1].node,i=It[o.namespaceURI],l=(0,x.makeSequence)(n,i);(0,x.pushSerializeAndPop)(a,Lt,x.OBJECT_PROPERTY_NODE_FACTORY,l,r,i)}var Mt={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ut=function(e,t,r){if(e){var a=t[t.length-1].node;return(0,x.createElementNS)(a.namespaceURI,Mt[e.getType()])}},Yt=(0,x.makeSimpleNodeFactory)("Point"),qt=(0,x.makeSimpleNodeFactory)("LineString"),Bt=(0,x.makeSimpleNodeFactory)("LinearRing"),Gt=(0,x.makeSimpleNodeFactory)("Polygon"),zt=(0,x.makeStructureNS)(L,{LineString:(0,x.makeChildAppender)(er),Point:(0,x.makeChildAppender)(er),Polygon:(0,x.makeChildAppender)(nr),GeometryCollection:(0,x.makeChildAppender)(Xt)});function Xt(e,t,a){var n,o,i={node:e},l=t.getType();l==d.default.GEOMETRY_COLLECTION?(n=t.getGeometries(),o=Ut):l==d.default.MULTI_POINT?(n=t.getPoints(),o=Yt):l==d.default.MULTI_LINE_STRING?(n=t.getLineStrings(),o=qt):l==d.default.MULTI_POLYGON?(n=t.getPolygons(),o=Gt):(0,r.assert)(!1,39),(0,x.pushSerializeAndPop)(i,zt,o,n,a)}var Jt=(0,x.makeStructureNS)(L,{LinearRing:(0,x.makeChildAppender)(er)});function Zt(e,t,r){var a={node:e};(0,x.pushSerializeAndPop)(a,Jt,Bt,[t],r)}var Ht=(0,x.makeStructureNS)(L,{ExtendedData:(0,x.makeChildAppender)(Ot),MultiGeometry:(0,x.makeChildAppender)(Xt),LineString:(0,x.makeChildAppender)(er),LinearRing:(0,x.makeChildAppender)(er),Point:(0,x.makeChildAppender)(er),Polygon:(0,x.makeChildAppender)(nr),Style:(0,x.makeChildAppender)(mr),address:(0,x.makeChildAppender)(i.writeStringTextNode),description:(0,x.makeChildAppender)(i.writeStringTextNode),name:(0,x.makeChildAppender)(i.writeStringTextNode),open:(0,x.makeChildAppender)(i.writeBooleanTextNode),phoneNumber:(0,x.makeChildAppender)(i.writeStringTextNode),styleUrl:(0,x.makeChildAppender)(i.writeStringTextNode),visibility:(0,x.makeChildAppender)(i.writeBooleanTextNode)}),Wt=(0,x.makeStructureNS)(L,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),$t=(0,x.makeSimpleNodeFactory)("ExtendedData");function Kt(e,t,r){var a={node:e};t.getId()&&e.setAttribute("id",t.getId());var o=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;var l=Object.keys(o||{}).sort().filter(function(e){return!i[e]}),u=t.getStyleFunction();if(u){var d=u(t,0);if(d){var s=Array.isArray(d)?d[0]:d;this.writeStyles_&&(o.Style=s);var m=s.getText();m&&(o.name=m.getText())}}var c=r[r.length-1].node,p=Wt[c.namespaceURI],S=(0,x.makeSequence)(o,p);if((0,x.pushSerializeAndPop)(a,Ht,x.OBJECT_PROPERTY_NODE_FACTORY,S,r,p),l.length>0){var f={names:l,values:(0,x.makeSequence)(o,l)};(0,x.pushSerializeAndPop)(a,Ht,$t,[f],r)}var h=r[0],y=t.getGeometry();y&&(y=(0,n.transformGeometryWithOptions)(y,!0,h)),(0,x.pushSerializeAndPop)(a,Ht,Ut,[y],r)}var Qt=(0,x.makeStructureNS)(L,["extrude","tessellate","altitudeMode","coordinates"]),Vt=(0,x.makeStructureNS)(L,{extrude:(0,x.makeChildAppender)(i.writeBooleanTextNode),tessellate:(0,x.makeChildAppender)(i.writeBooleanTextNode),altitudeMode:(0,x.makeChildAppender)(i.writeStringTextNode),coordinates:(0,x.makeChildAppender)(ft)});function er(e,t,r){var a=t.getFlatCoordinates(),n={node:e};n.layout=t.getLayout(),n.stride=t.getStride();var o=t.getProperties();o.coordinates=a;var i=r[r.length-1].node,l=Qt[i.namespaceURI],u=(0,x.makeSequence)(o,l);(0,x.pushSerializeAndPop)(n,Vt,x.OBJECT_PROPERTY_NODE_FACTORY,u,r,l)}var tr=(0,x.makeStructureNS)(L,{outerBoundaryIs:(0,x.makeChildAppender)(Zt),innerBoundaryIs:(0,x.makeChildAppender)(Zt)}),rr=(0,x.makeSimpleNodeFactory)("innerBoundaryIs"),ar=(0,x.makeSimpleNodeFactory)("outerBoundaryIs");function nr(e,t,r){var a=t.getLinearRings(),n=a.shift(),o={node:e};(0,x.pushSerializeAndPop)(o,tr,rr,a,r),(0,x.pushSerializeAndPop)(o,tr,ar,[n],r)}var or=(0,x.makeStructureNS)(L,{color:(0,x.makeChildAppender)(St)}),ir=(0,x.makeSimpleNodeFactory)("color");function lr(e,t,r){var a={node:e};(0,x.pushSerializeAndPop)(a,or,ir,[t.getColor()],r)}function ur(e,t){(0,i.writeDecimalTextNode)(e,Math.round(1e6*t)/1e6)}var dr=(0,x.makeStructureNS)(L,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),sr=(0,x.makeStructureNS)(L,{IconStyle:(0,x.makeChildAppender)(Et),LabelStyle:(0,x.makeChildAppender)(jt),LineStyle:(0,x.makeChildAppender)(Dt),PolyStyle:(0,x.makeChildAppender)(lr)});function mr(e,t,r){var a={node:e},n={},o=t.getFill(),i=t.getStroke(),l=t.getImage(),u=t.getText();l&&"function"==typeof l.getSrc&&(n.IconStyle=l),u&&(n.LabelStyle=u),i&&(n.LineStyle=i),o&&(n.PolyStyle=o);var d=r[r.length-1].node,s=dr[d.namespaceURI],m=(0,x.makeSequence)(n,s);(0,x.pushSerializeAndPop)(a,sr,x.OBJECT_PROPERTY_NODE_FACTORY,m,r,s)}function cr(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}var pr=ie;exports.default=pr;
},{"../Feature.js":"mYW9","../array.js":"luEr","../asserts.js":"fLG6","../color.js":"eucy","./Feature.js":"Kylu","./XMLFeature.js":"CXRz","./xsd.js":"jdp5","../geom/GeometryCollection.js":"HvLT","../geom/GeometryLayout.js":"Utvi","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../math.js":"B96G","../proj.js":"Diht","../style/Fill.js":"AFcg","../style/Icon.js":"z2xv","../style/IconAnchorUnits.js":"Rlas","../style/IconOrigin.js":"urGY","../style/Stroke.js":"TXDt","../style/Style.js":"he4w","../style/Text.js":"RPsG","../xml.js":"yYlP"}],"Quj6":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"UzHN":[function(require,module,exports) {
"use strict";module.exports=i;var t=require("ieee754");function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var e=4294967296,r=1/e,s=12,n="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function o(t,i,e){var r,s,n=e.buf;if(r=(112&(s=n[e.pos++]))>>4,s<128)return a(t,r,i);if(r|=(127&(s=n[e.pos++]))<<3,s<128)return a(t,r,i);if(r|=(127&(s=n[e.pos++]))<<10,s<128)return a(t,r,i);if(r|=(127&(s=n[e.pos++]))<<17,s<128)return a(t,r,i);if(r|=(127&(s=n[e.pos++]))<<24,s<128)return a(t,r,i);if(r|=(1&(s=n[e.pos++]))<<31,s<128)return a(t,r,i);throw new Error("Expected varint not more than 10 bytes")}function h(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,i,e){return e?4294967296*i+(t>>>0):4294967296*(i>>>0)+(t>>>0)}function u(t,i){var e,r;if(t>=0?(e=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(e=~(-t%4294967296))?e=e+1|0:(e=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),f(e,r,i),d(r,i)}function f(t,i,e){e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos]=127&t}function d(t,i){var e=(7&t)<<4;i.buf[i.pos++]|=e|((t>>>=3)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t|((t>>>=7)?128:0),t&&(i.buf[i.pos++]=127&t)))))}function p(t,i,e){var r=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));e.realloc(r);for(var s=e.pos-1;s>=t;s--)e.buf[s+r]=e.buf[s]}function l(t,i){for(var e=0;e<t.length;e++)i.writeVarint(t[e])}function c(t,i){for(var e=0;e<t.length;e++)i.writeSVarint(t[e])}function w(t,i){for(var e=0;e<t.length;e++)i.writeFloat(t[e])}function F(t,i){for(var e=0;e<t.length;e++)i.writeDouble(t[e])}function g(t,i){for(var e=0;e<t.length;e++)i.writeBoolean(t[e])}function b(t,i){for(var e=0;e<t.length;e++)i.writeFixed32(t[e])}function x(t,i){for(var e=0;e<t.length;e++)i.writeSFixed32(t[e])}function v(t,i){for(var e=0;e<t.length;e++)i.writeFixed64(t[e])}function y(t,i){for(var e=0;e<t.length;e++)i.writeSFixed64(t[e])}function V(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+16777216*t[i+3]}function S(t,i,e){t[e]=i,t[e+1]=i>>>8,t[e+2]=i>>>16,t[e+3]=i>>>24}function B(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+(t[i+3]<<24)}function k(t,i,e){for(var r="",s=i;s<e;){var n,o,h,a=t[s],u=null,f=a>239?4:a>223?3:a>191?2:1;if(s+f>e)break;1===f?a<128&&(u=a):2===f?128==(192&(n=t[s+1]))&&(u=(31&a)<<6|63&n)<=127&&(u=null):3===f?(n=t[s+1],o=t[s+2],128==(192&n)&&128==(192&o)&&((u=(15&a)<<12|(63&n)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===f&&(n=t[s+1],o=t[s+2],h=t[s+3],128==(192&n)&&128==(192&o)&&128==(192&h)&&((u=(15&a)<<18|(63&n)<<12|(63&o)<<6|63&h)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,f=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),s+=f}return r}function M(t,i,e){return n.decode(t.subarray(i,e))}function P(t,i,e){for(var r,s,n=0;n<i.length;n++){if((r=i.charCodeAt(n))>55295&&r<57344){if(!s){r>56319||n+1===i.length?(t[e++]=239,t[e++]=191,t[e++]=189):s=r;continue}if(r<56320){t[e++]=239,t[e++]=191,t[e++]=189,s=r;continue}r=s-55296<<10|r-56320|65536,s=null}else s&&(t[e++]=239,t[e++]=191,t[e++]=189,s=null);r<128?t[e++]=r:(r<2048?t[e++]=r>>6|192:(r<65536?t[e++]=r>>12|224:(t[e++]=r>>18|240,t[e++]=r>>12&63|128),t[e++]=r>>6&63|128),t[e++]=63&r|128)}return e}i.prototype={destroy:function(){this.buf=null},readFields:function(t,i,e){for(e=e||this.length;this.pos<e;){var r=this.readVarint(),s=r>>3,n=this.pos;this.type=7&r,t(s,i,this),this.pos===n&&this.skip(r)}return i},readMessage:function(t,i){return this.readFields(t,i,this.readVarint()+this.pos)},readFixed32:function(){var t=V(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=B(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=V(this.buf,this.pos)+V(this.buf,this.pos+4)*e;return this.pos+=8,t},readSFixed64:function(){var t=V(this.buf,this.pos)+B(this.buf,this.pos+4)*e;return this.pos+=8,t},readFloat:function(){var i=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(t){var i,e,r=this.buf;return i=127&(e=r[this.pos++]),e<128?i:(i|=(127&(e=r[this.pos++]))<<7,e<128?i:(i|=(127&(e=r[this.pos++]))<<14,e<128?i:(i|=(127&(e=r[this.pos++]))<<21,e<128?i:o(i|=(15&(e=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,i=this.pos;return this.pos=t,t-i>=s&&n?M(this.buf,i,t):k(this.buf,i,t)},readBytes:function(){var t=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,t);return this.pos=t,i},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var r=h(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,i){this.writeVarint(t<<3|i)},realloc:function(t){for(var i=this.length||16;i<this.pos+t;)i*=2;if(i!==this.length){var e=new Uint8Array(i);e.set(this.buf),this.buf=e,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),S(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),S(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),S(this.buf,-1&t,this.pos),S(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),S(this.buf,-1&t,this.pos),S(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?u(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var i=this.pos;this.pos=P(this.buf,t,this.pos);var e=this.pos-i;e>=128&&p(i,e,this),this.pos=i-1,this.writeVarint(e),this.pos+=e},writeFloat:function(i){this.realloc(4),t.write(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),t.write(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var i=t.length;this.writeVarint(i),this.realloc(i);for(var e=0;e<i;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,i){this.pos++;var e=this.pos;t(i,this);var r=this.pos-e;r>=128&&p(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,r){this.writeTag(t,i.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,i){i.length&&this.writeMessage(t,l,i)},writePackedSVarint:function(t,i){i.length&&this.writeMessage(t,c,i)},writePackedBoolean:function(t,i){i.length&&this.writeMessage(t,g,i)},writePackedFloat:function(t,i){i.length&&this.writeMessage(t,w,i)},writePackedDouble:function(t,i){i.length&&this.writeMessage(t,F,i)},writePackedFixed32:function(t,i){i.length&&this.writeMessage(t,b,i)},writePackedSFixed32:function(t,i){i.length&&this.writeMessage(t,x,i)},writePackedFixed64:function(t,i){i.length&&this.writeMessage(t,v,i)},writePackedSFixed64:function(t,i){i.length&&this.writeMessage(t,y,i)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,i){this.writeVarintField(t,Boolean(i))}};
},{"ieee754":"Quj6"}],"IFOM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),r=f(require("../geom/GeometryType.js")),i=require("../geom/flat/center.js"),o=require("../geom/flat/interiorpoint.js"),n=require("../geom/flat/interpolate.js"),s=require("../proj.js"),a=require("../geom/flat/transform.js"),p=require("../transform.js");function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,p.create)(),d=function(){function f(t,e,r,i,o){this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return f.prototype.get=function(t){return this.properties_[t]},f.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===r.default.POINT?(0,e.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,e.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},f.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=(0,e.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,o.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},f.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=(0,i.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,o.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},f.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=(0,n.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},f.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,r=0,i=this.ends_,o=0,s=i.length;o<s;++o){var a=i[o],p=(0,n.interpolatePoint)(e,r,a,2,.5);(0,t.extend)(this.flatMidpoints_,p),r=a}}return this.flatMidpoints_},f.prototype.getId=function(){return this.id_},f.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},f.prototype.getGeometry=function(){return this},f.prototype.getSimplifiedGeometry=function(t){return this},f.prototype.simplifyTransformed=function(t,e){return this},f.prototype.getProperties=function(){return this.properties_},f.prototype.getStride=function(){return 2},f.prototype.getStyleFunction=function(){},f.prototype.getType=function(){return this.type_},f.prototype.transform=function(t,r){var i=(t=(0,s.get)(t)).getExtent(),o=t.getWorldExtent(),n=(0,e.getHeight)(o)/(0,e.getHeight)(i);(0,p.compose)(l,o[0],o[3],n,-n,0,0,0),(0,a.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,l,this.flatCoordinates_)},f}();d.prototype.getEnds=function(){return this.ends_},d.prototype.getEndss=d.prototype.getEnds,d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates;var u=d;exports.default=u;
},{"../array.js":"luEr","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/flat/center.js":"VjQP","../geom/flat/interiorpoint.js":"UDvN","../geom/flat/interpolate.js":"rDTq","../proj.js":"Diht","../geom/flat/transform.js":"LGwr","../transform.js":"P4eA"}],"bjcz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),r=g(require("pbf")),t=m(require("./Feature.js")),a=g(require("./FormatType.js")),n=g(require("../geom/GeometryLayout.js")),o=g(require("../geom/GeometryType.js")),i=g(require("../geom/LineString.js")),u=g(require("../geom/MultiLineString.js")),s=g(require("../geom/MultiPoint.js")),l=g(require("../geom/MultiPolygon.js")),f=g(require("../geom/Point.js")),d=g(require("../geom/Polygon.js")),p=require("../geom/flat/orient.js"),y=g(require("../proj/Projection.js")),c=g(require("../proj/Units.js")),_=g(require("../render/Feature.js")),v=require("../proj.js");function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h();if(r&&r.has(e))return r.get(e);var t={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,r&&r.set(e,t),t}function g(e){return e&&e.__esModule?e:{default:e}}var j=function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function a(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}(),P=function(h){function m(e){var r=h.call(this)||this,t=e||{};return r.dataProjection=new y.default({code:"",units:c.default.TILE_PIXELS}),r.featureClass_=t.featureClass?t.featureClass:_.default,r.geometryName_=t.geometryName,r.layerName_=t.layerName?t.layerName:"layer",r.layers_=t.layers?t.layers:null,r.idProperty_=t.idProperty,r}return j(m,h),m.prototype.readRawGeometry_=function(r,t,a,n){r.pos=t.geometry;for(var o=r.readVarint()+r.pos,i=1,u=0,s=0,l=0,f=0,d=0;r.pos<o;){if(!u){var p=r.readVarint();i=7&p,u=p>>3}u--,1===i||2===i?(s+=r.readSVarint(),l+=r.readSVarint(),1===i&&f>d&&(n.push(f),d=f),a.push(s,l),f+=2):7===i?f>d&&(a.push(a[d],a[d+1]),f+=2):(0,e.assert)(!1,59)}f>d&&(n.push(f),d=f)},m.prototype.createFeature_=function(e,r,a){var y,c=r.type;if(0===c)return null;var v,h=r.properties;this.idProperty_?(v=h[this.idProperty_],delete h[this.idProperty_]):v=r.id,h[this.layerName_]=r.layer.name;var m=[],g=[];this.readRawGeometry_(e,r,m,g);var j=V(c,g.length);if(this.featureClass_===_.default)(y=new this.featureClass_(j,m,g,h,v)).transform(a.dataProjection,a.featureProjection);else{var P=void 0;if(j==o.default.POLYGON){for(var O=[],N=0,w=0,I=0,q=g.length;I<q;++I){var L=g[I];(0,p.linearRingIsClockwise)(m,N,L,2)||(O.push(g.slice(w,I)),w=I),N=L}P=O.length>1?new l.default(m,n.default.XY,O):new d.default(m,n.default.XY,g)}else P=j===o.default.POINT?new f.default(m,n.default.XY):j===o.default.LINE_STRING?new i.default(m,n.default.XY):j===o.default.POLYGON?new d.default(m,n.default.XY,g):j===o.default.MULTI_POINT?new s.default(m,n.default.XY):j===o.default.MULTI_LINE_STRING?new u.default(m,n.default.XY,g):null;y=new(0,this.featureClass_),this.geometryName_&&y.setGeometryName(this.geometryName_);var T=(0,t.transformGeometryWithOptions)(P,!1,a);y.setGeometry(T),y.setId(v),y.setProperties(h,!0)}return y},m.prototype.getType=function(){return a.default.ARRAY_BUFFER},m.prototype.readFeatures=function(e,t){var a=this.layers_,n=this.adaptOptions(t),o=(0,v.get)(n.dataProjection);o.setWorldExtent(n.extent),n.dataProjection=o;var i=new r.default(e),u=i.readFields(O,{}),s=[];for(var l in u)if(!a||-1!=a.indexOf(l)){var f=u[l],d=f?[0,0,f.extent,f.extent]:null;o.setExtent(d);for(var p=0,y=f.length;p<y;++p){var c=I(i,f,p);s.push(this.createFeature_(i,c,n))}}return s},m.prototype.readProjection=function(e){return this.dataProjection},m.prototype.setLayers=function(e){this.layers_=e},m}(t.default);function O(e,r,t){if(3===e){var a={keys:[],values:[],features:[]},n=t.readVarint()+t.pos;t.readFields(N,a,n),a.length=a.features.length,a.length&&(r[a.name]=a)}}function N(e,r,t){if(15===e)r.version=t.readVarint();else if(1===e)r.name=t.readString();else if(5===e)r.extent=t.readVarint();else if(2===e)r.features.push(t.pos);else if(3===e)r.keys.push(t.readString());else if(4===e){for(var a=null,n=t.readVarint()+t.pos;t.pos<n;)a=1===(e=t.readVarint()>>3)?t.readString():2===e?t.readFloat():3===e?t.readDouble():4===e?t.readVarint64():5===e?t.readVarint():6===e?t.readSVarint():7===e?t.readBoolean():null;r.values.push(a)}}function w(e,r,t){if(1==e)r.id=t.readVarint();else if(2==e)for(var a=t.readVarint()+t.pos;t.pos<a;){var n=r.layer.keys[t.readVarint()],o=r.layer.values[t.readVarint()];r.properties[n]=o}else 3==e?r.type=t.readVarint():4==e&&(r.geometry=t.pos)}function I(e,r,t){e.pos=r.features[t];var a=e.readVarint()+e.pos,n={layer:r,type:0,properties:{}};return e.readFields(w,n,a),n}function V(e,r){var t;return 1===e?t=1===r?o.default.POINT:o.default.MULTI_POINT:2===e?t=1===r?o.default.LINE_STRING:o.default.MULTI_LINE_STRING:3===e&&(t=o.default.POLYGON),t}var q=P;exports.default=q;
},{"../asserts.js":"fLG6","pbf":"UzHN","./Feature.js":"Kylu","./FormatType.js":"AbO3","../geom/GeometryLayout.js":"Utvi","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../geom/flat/orient.js":"cJkE","../proj/Projection.js":"WUar","../proj/Units.js":"yZx6","../render/Feature.js":"IFOM","../proj.js":"Diht"}],"fLsC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readHref=t;var e="http://www.w3.org/1999/xlink";function t(t){return t.getAttributeNS(e,"href")}
},{}],"hrwq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../xml.js"),r=function(){function r(){}return r.prototype.read=function(r){if(r){if("string"==typeof r){var t=(0,e.parse)(r);return this.readFromDocument(t)}return(0,e.isDocument)(r)?this.readFromDocument(r):this.readFromNode(r)}return null},r.prototype.readFromDocument=function(e){},r.prototype.readFromNode=function(e){},r}(),t=r;exports.default=t;
},{"../xml.js":"yYlP"}],"xtos":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./XLink.js"),r=o(require("./XML.js")),t=require("./xsd.js"),n=require("../xml.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),u=[null,"http://www.opengis.net/ows/1.1"],i=(0,n.makeStructureNS)(u,{ServiceIdentification:(0,n.makeObjectPropertySetter)(M),ServiceProvider:(0,n.makeObjectPropertySetter)(F),OperationsMetadata:(0,n.makeObjectPropertySetter)(T)}),c=function(e){function r(){return e.call(this)||this}return a(r,e),r.prototype.readFromDocument=function(e){for(var r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFromNode(r);return null},r.prototype.readFromNode=function(e){var r=(0,n.pushParseAndPop)({},i,e,[]);return r||null},r}(r.default),p=(0,n.makeStructureNS)(u,{DeliveryPoint:(0,n.makeObjectPropertySetter)(t.readString),City:(0,n.makeObjectPropertySetter)(t.readString),AdministrativeArea:(0,n.makeObjectPropertySetter)(t.readString),PostalCode:(0,n.makeObjectPropertySetter)(t.readString),Country:(0,n.makeObjectPropertySetter)(t.readString),ElectronicMailAddress:(0,n.makeObjectPropertySetter)(t.readString)}),S=(0,n.makeStructureNS)(u,{Value:(0,n.makeObjectPropertyPusher)(q)}),P=(0,n.makeStructureNS)(u,{AllowedValues:(0,n.makeObjectPropertySetter)(v)}),s=(0,n.makeStructureNS)(u,{Phone:(0,n.makeObjectPropertySetter)(x),Address:(0,n.makeObjectPropertySetter)(h)}),d=(0,n.makeStructureNS)(u,{HTTP:(0,n.makeObjectPropertySetter)(C)}),m=(0,n.makeStructureNS)(u,{Get:(0,n.makeObjectPropertyPusher)(_),Post:void 0}),k=(0,n.makeStructureNS)(u,{DCP:(0,n.makeObjectPropertySetter)(N)}),y=(0,n.makeStructureNS)(u,{Operation:w}),f=(0,n.makeStructureNS)(u,{Voice:(0,n.makeObjectPropertySetter)(t.readString),Facsimile:(0,n.makeObjectPropertySetter)(t.readString)}),O=(0,n.makeStructureNS)(u,{Constraint:(0,n.makeObjectPropertyPusher)(A)}),b=(0,n.makeStructureNS)(u,{IndividualName:(0,n.makeObjectPropertySetter)(t.readString),PositionName:(0,n.makeObjectPropertySetter)(t.readString),ContactInfo:(0,n.makeObjectPropertySetter)(g)}),j=(0,n.makeStructureNS)(u,{Abstract:(0,n.makeObjectPropertySetter)(t.readString),AccessConstraints:(0,n.makeObjectPropertySetter)(t.readString),Fees:(0,n.makeObjectPropertySetter)(t.readString),Title:(0,n.makeObjectPropertySetter)(t.readString),ServiceTypeVersion:(0,n.makeObjectPropertySetter)(t.readString),ServiceType:(0,n.makeObjectPropertySetter)(t.readString)}),l=(0,n.makeStructureNS)(u,{ProviderName:(0,n.makeObjectPropertySetter)(t.readString),ProviderSite:(0,n.makeObjectPropertySetter)(e.readHref),ServiceContact:(0,n.makeObjectPropertySetter)(E)});function h(e,r){return(0,n.pushParseAndPop)({},p,e,r)}function v(e,r){return(0,n.pushParseAndPop)({},S,e,r)}function A(e,r){var t=e.getAttribute("name");if(t)return(0,n.pushParseAndPop)({name:t},P,e,r)}function g(e,r){return(0,n.pushParseAndPop)({},s,e,r)}function N(e,r){return(0,n.pushParseAndPop)({},d,e,r)}function _(r,t){var o=(0,e.readHref)(r);if(o)return(0,n.pushParseAndPop)({href:o},O,r,t)}function C(e,r){return(0,n.pushParseAndPop)({},m,e,r)}function w(e,r){var t=e.getAttribute("name"),o=(0,n.pushParseAndPop)({},k,e,r);o&&(r[r.length-1][t]=o)}function T(e,r){return(0,n.pushParseAndPop)({},y,e,r)}function x(e,r){return(0,n.pushParseAndPop)({},f,e,r)}function M(e,r){return(0,n.pushParseAndPop)({},j,e,r)}function E(e,r){return(0,n.pushParseAndPop)({},b,e,r)}function F(e,r){return(0,n.pushParseAndPop)({},l,e,r)}function q(e,r){return(0,t.readString)(e)}var D=c;exports.default=D;
},{"./XLink.js":"fLsC","./XML.js":"hrwq","./xsd.js":"jdp5","../xml.js":"yYlP"}],"XvJ7":[function(require,module,exports) {
"use strict";function r(r,e,o,t,v,i){var a,f;void 0!==v?(a=v,f=void 0!==i?i:0):(a=[],f=0);for(var n=e;n<o;){var s=r[n++];a[f++]=r[n++],a[f++]=s;for(var u=2;u<t;++u)a[f++]=r[n++]}return a.length=f,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.flipXY=r;
},{}],"p9qn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeDeltas=g,exports.decodeDeltas=l,exports.encodeFloats=y,exports.decodeFloats=h,exports.encodeSignedIntegers=m,exports.decodeSignedIntegers=v,exports.encodeUnsignedIntegers=x,exports.decodeUnsignedIntegers=F,exports.encodeUnsignedInteger=_,exports.default=void 0;var e=require("../asserts.js"),t=c(require("../Feature.js")),r=require("./Feature.js"),o=c(require("./TextFeature.js")),n=c(require("../geom/GeometryLayout.js")),a=c(require("../geom/LineString.js")),u=require("../geom/SimpleGeometry.js"),i=require("../geom/flat/flip.js"),s=require("../geom/flat/inflate.js"),f=require("../proj.js");function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=function(o){function c(e){var t=o.call(this)||this,r=e||{};return t.dataProjection=(0,f.get)("EPSG:4326"),t.factor_=r.factor?r.factor:1e5,t.geometryLayout_=r.geometryLayout?r.geometryLayout:n.default.XY,t}return p(c,o),c.prototype.readFeatureFromText=function(e,r){var o=this.readGeometryFromText(e,r);return new t.default(o)},c.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},c.prototype.readGeometryFromText=function(e,t){var o=(0,u.getStrideForLayout)(this.geometryLayout_),n=l(e,o,this.factor_);(0,i.flipXY)(n,0,n.length,o,n);var f=(0,s.inflateCoordinates)(n,0,n.length,o),c=new a.default(f,this.geometryLayout_);return(0,r.transformGeometryWithOptions)(c,!1,this.adaptOptions(t))},c.prototype.writeFeatureText=function(t,r){var o=t.getGeometry();return o?this.writeGeometryText(o,r):((0,e.assert)(!1,40),"")},c.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},c.prototype.writeGeometryText=function(e,t){var o=(e=(0,r.transformGeometryWithOptions)(e,!0,this.adaptOptions(t))).getFlatCoordinates(),n=e.getStride();return(0,i.flipXY)(o,0,o.length,n,o),g(o,n,this.factor_)},c}(o.default);function g(e,t,r){var o,n=r||1e5,a=new Array(t);for(o=0;o<t;++o)a[o]=0;for(var u=0,i=e.length;u<i;)for(o=0;o<t;++o,++u){var s=e[u],f=s-a[o];a[o]=s,e[u]=f}return y(e,n)}function l(e,t,r){var o,n=r||1e5,a=new Array(t);for(o=0;o<t;++o)a[o]=0;for(var u=h(e,n),i=0,s=u.length;i<s;)for(o=0;o<t;++o,++i)a[o]+=u[i],u[i]=a[o];return u}function y(e,t){for(var r=t||1e5,o=0,n=e.length;o<n;++o)e[o]=Math.round(e[o]*r);return m(e)}function h(e,t){for(var r=t||1e5,o=v(e),n=0,a=o.length;n<a;++n)o[n]/=r;return o}function m(e){for(var t=0,r=e.length;t<r;++t){var o=e[t];e[t]=o<0?~(o<<1):o<<1}return x(e)}function v(e){for(var t=F(e),r=0,o=t.length;r<o;++r){var n=t[r];t[r]=1&n?~(n>>1):n>>1}return t}function x(e){for(var t="",r=0,o=e.length;r<o;++r)t+=_(e[r]);return t}function F(e){for(var t=[],r=0,o=0,n=0,a=e.length;n<a;++n){var u=e.charCodeAt(n)-63;r|=(31&u)<<o,u<32?(t.push(r),r=0,o=0):o+=5}return t}function _(e){for(var t,r="";e>=32;)t=63+(32|31&e),r+=String.fromCharCode(t),e>>=5;return t=e+63,r+=String.fromCharCode(t)}var j=d;exports.default=j;
},{"../asserts.js":"fLG6","../Feature.js":"mYW9","./Feature.js":"Kylu","./TextFeature.js":"zfKM","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/SimpleGeometry.js":"pnrv","../geom/flat/flip.js":"XvJ7","../geom/flat/inflate.js":"znXl","../proj.js":"Diht"}],"W9DP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=f(require("../Feature.js")),e=require("./Feature.js"),t=f(require("./JSONFeature.js")),n=f(require("../geom/LineString.js")),o=f(require("../geom/MultiLineString.js")),i=f(require("../geom/MultiPoint.js")),a=f(require("../geom/MultiPolygon.js")),u=f(require("../geom/Point.js")),s=f(require("../geom/Polygon.js")),l=require("../proj.js");function f(r){return r&&r.__esModule?r:{default:r}}var c=function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),p=function(r){function e(e){var t=r.call(this)||this,n=e||{};return t.layerName_=n.layerName,t.layers_=n.layers?n.layers:null,t.dataProjection=(0,l.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),t}return c(e,r),e.prototype.readFeaturesFromObject=function(r,e){if("Topology"==r.type){var t=r,n=void 0,o=null,i=null;t.transform&&(o=(n=t.transform).scale,i=n.translate);var a=t.arcs;n&&O(a,o,i);var u=[],s=t.objects,l=this.layerName_,f=void 0;for(var c in s)this.layers_&&-1==this.layers_.indexOf(c)||("GeometryCollection"===s[c].type?(f=s[c],u.push.apply(u,_(f,a,o,i,l,c,e))):(f=s[c],u.push(q(f,a,o,i,l,c,e))));return u}return[]},e.prototype.readProjectionFromObject=function(r){return this.dataProjection},e}(t.default),v={Point:y,LineString:h,Polygon:P,MultiPoint:g,MultiLineString:j,MultiPolygon:m};function d(r,e){for(var t,n,o=[],i=0,a=r.length;i<a;++i)t=r[i],i>0&&o.pop(),n=t>=0?e[t]:e[~t].slice().reverse(),o.push.apply(o,n);for(var u=0,s=o.length;u<s;++u)o[u]=o[u].slice();return o}function y(r,e,t){var n=r.coordinates;return e&&t&&M(n,e,t),new u.default(n)}function g(r,e,t){var n=r.coordinates;if(e&&t)for(var o=0,a=n.length;o<a;++o)M(n[o],e,t);return new i.default(n)}function h(r,e){var t=d(r.arcs,e);return new n.default(t)}function j(r,e){for(var t=[],n=0,i=r.arcs.length;n<i;++n)t[n]=d(r.arcs[n],e);return new o.default(t)}function P(r,e){for(var t=[],n=0,o=r.arcs.length;n<o;++n)t[n]=d(r.arcs[n],e);return new s.default(t)}function m(r,e){for(var t=[],n=0,o=r.arcs.length;n<o;++n){for(var i=r.arcs[n],u=[],s=0,l=i.length;s<l;++s)u[s]=d(i[s],e);t[n]=u}return new a.default(t)}function _(r,e,t,n,o,i,a){for(var u=r.geometries,s=[],l=0,f=u.length;l<f;++l)s[l]=q(u[l],e,t,n,o,i,a);return s}function q(t,n,o,i,a,u,s){var l,f=t.type,c=v[f];l="Point"===f||"MultiPoint"===f?c(t,o,i):c(t,n);var p=new r.default;p.setGeometry((0,e.transformGeometryWithOptions)(l,!1,s)),void 0!==t.id&&p.setId(t.id);var d=t.properties;return a&&(d||(d={}),d[a]=u),d&&p.setProperties(d,!0),p}function O(r,e,t){for(var n=0,o=r.length;n<o;++n)w(r[n],e,t)}function w(r,e,t){for(var n=0,o=0,i=0,a=r.length;i<a;++i){var u=r[i];n+=u[0],o+=u[1],u[0]=n,u[1]=o,M(u,e,t)}}function M(r,e,t){r[0]=r[0]*e[0]+t[0],r[1]=r[1]*e[1]+t[1]}var b=p;exports.default=b;
},{"../Feature.js":"mYW9","./Feature.js":"Kylu","./JSONFeature.js":"RA7M","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk","../proj.js":"Diht"}],"jLLC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../extent.js"),t=require("./Feature.js"),r=s(require("./GMLBase.js")),n=require("./xsd.js"),o=require("../obj.js"),i=require("../proj.js"),a=require("../xml.js");function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=r.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",d={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},h=function(p){function s(e){var t=this,n=e||{};return(t=p.call(this,n)||this).FEATURE_COLLECTION_PARSERS[r.GMLNS].featureMember=(0,a.makeArrayPusher)(t.readFeaturesInternal),t.schemaLocation=n.schemaLocation?n.schemaLocation:l,t}return u(s,p),s.prototype.readFlatCoordinates_=function(e,t){var r=(0,a.getAllTextContent)(e,!1).replace(/^\s*|\s*$/g,""),n=t[0].srsName,o="enu";if(n){var p=(0,i.get)(n);p&&(o=p.getAxisOrientation())}for(var s=r.trim().split(/\s+/),u=[],l=0,d=s.length;l<d;l++){var h=s[l].split(/,+/),m=parseFloat(h[0]),g=parseFloat(h[1]),c=3===h.length?parseFloat(h[2]):0;"en"===o.substr(0,2)?u.push(m,g,c):u.push(g,m,c)}return u},s.prototype.readBox_=function(t,r){var n=(0,a.pushParseAndPop)([null],this.BOX_PARSERS_,t,r,this);return(0,e.createOrUpdate)(n[1][0],n[1][1],n[1][3],n[1][4])},s.prototype.innerBoundaryIsParser_=function(e,t){var r=(0,a.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},s.prototype.outerBoundaryIsParser_=function(e,t){var r=(0,a.pushParseAndPop)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},s.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var n,o=t[t.length-1],i=o.multiSurface,p=o.surface,s=o.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===i?n="MultiSurface":"Polygon"===n&&!0===p?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),(0,a.createElementNS)("http://www.opengis.net/gml",n)},s.prototype.writeFeatureElement=function(e,t,r){var i=t.getId();i&&e.setAttribute("fid",i);var p=r[r.length-1],s=p.featureNS,u=t.getGeometryName();p.serializers||(p.serializers={},p.serializers[s]={});var l=t.getProperties(),d=[],h=[];for(var m in l){var g=l[m];null!==g&&(d.push(m),h.push(g),m==u||"function"==typeof g.getSimplifiedGeometry?m in p.serializers[s]||(p.serializers[s][m]=(0,a.makeChildAppender)(this.writeGeometryElement,this)):m in p.serializers[s]||(p.serializers[s][m]=(0,a.makeChildAppender)(n.writeStringTextNode)))}var c=(0,o.assign)({},p);c.node=e,(0,a.pushSerializeAndPop)(c,p.serializers,(0,a.makeSimpleNodeFactory)(void 0,s),h,r,d)},s.prototype.writeCurveOrLineString_=function(e,t,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&n&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,r)}else if("Curve"===e.nodeName){var i=(0,a.createElementNS)(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,r)}},s.prototype.writeLineStringOrCurveMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeCurveOrLineString_(n,t,r))},s.prototype.writeMultiCurveOrLineString_=function(e,t,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,p=n.curve;i&&e.setAttribute("srsName",i);var s=t.getLineStrings();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:i,curve:p},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},s.prototype.writeGeometryElement=function(e,r,n){var i,p=n[n.length-1],s=(0,o.assign)({},p);s.node=e,i=Array.isArray(r)?(0,t.transformExtentWithOptions)(r,p):(0,t.transformGeometryWithOptions)(r,!0,p),(0,a.pushSerializeAndPop)(s,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[i],n,void 0,this)},s.prototype.createCoordinatesNode_=function(e){var t=(0,a.createElementNS)(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},s.prototype.writeCoordinates_=function(e,t,r){for(var o=r[r.length-1],i=o.hasZ,a=o.srsName,p=t.getCoordinates(),s=p.length,u=new Array(s),l=0;l<s;++l){var d=p[l];u[l]=this.getCoords_(d,a,i)}(0,n.writeStringTextNode)(e,u.join(" "))},s.prototype.writeCurveSegments_=function(e,t,r){var n=(0,a.createElementNS)(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString_(n,t,r)},s.prototype.writeSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;if("PolygonPatch"!==e.nodeName&&i&&e.setAttribute("srsName",i),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var p=t.getLinearRings();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:i},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,p,r,void 0,this)}else if("Surface"===e.nodeName){var s=(0,a.createElementNS)(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,r)}},s.prototype.RING_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),(0,a.createElementNS)(o.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},s.prototype.writeSurfacePatches_=function(e,t,r){var n=(0,a.createElementNS)(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r)},s.prototype.writeRing_=function(e,t,r){var n=(0,a.createElementNS)(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing_(n,t,r)},s.prototype.getCoords_=function(e,t,r){var n="enu";t&&(n=(0,i.get)(t).getAxisOrientation());var o="en"===n.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];r&&(o+=","+(e[2]||0));return o},s.prototype.writePoint_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,a=o.srsName;a&&e.setAttribute("srsName",a);var p=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(p);var s=t.getCoordinates(),u=this.getCoords_(s,a,i);(0,n.writeStringTextNode)(p,u)},s.prototype.writeMultiPoint_=function(e,t,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName;i&&e.setAttribute("srsName",i);var p=t.getPoints();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS_,(0,a.makeSimpleNodeFactory)("pointMember"),p,r,void 0,this)},s.prototype.writePointMember_=function(e,t,r){var n=(0,a.createElementNS)(e.namespaceURI,"Point");e.appendChild(n),this.writePoint_(n,t,r)},s.prototype.writeLinearRing_=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var o=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(o),this.writeCoordinates_(o,t,r)},s.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],o=n.hasZ,i=n.srsName,p=n.surface;i&&e.setAttribute("srsName",i);var s=t.getPolygons();(0,a.pushSerializeAndPop)({node:e,hasZ:o,srsName:i,surface:p},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},s.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r))},s.prototype.writeEnvelope=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var o=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,a.pushSerializeAndPop)({node:e},this.ENVELOPE_SERIALIZERS_,a.OBJECT_PROPERTY_NODE_FACTORY,o,r,["lowerCorner","upperCorner"],this)},s.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1].node;return(0,a.createElementNS)("http://www.opengis.net/gml",d[n.nodeName])},s}(r.default);h.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,a.makeReplacer)(h.prototype.readFlatCoordinates_)}},h.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:h.prototype.innerBoundaryIsParser_,outerBoundaryIs:h.prototype.outerBoundaryIsParser_}},h.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,a.makeArrayPusher)(h.prototype.readFlatCoordinates_)}},h.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,a.makeReplacer)(r.default.prototype.readPoint),MultiPoint:(0,a.makeReplacer)(r.default.prototype.readMultiPoint),LineString:(0,a.makeReplacer)(r.default.prototype.readLineString),MultiLineString:(0,a.makeReplacer)(r.default.prototype.readMultiLineString),LinearRing:(0,a.makeReplacer)(r.default.prototype.readLinearRing),Polygon:(0,a.makeReplacer)(r.default.prototype.readPolygon),MultiPolygon:(0,a.makeReplacer)(r.default.prototype.readMultiPolygon),Box:(0,a.makeReplacer)(h.prototype.readBox_)}},h.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,a.makeChildAppender)(h.prototype.writeCurveOrLineString_),MultiCurve:(0,a.makeChildAppender)(h.prototype.writeMultiCurveOrLineString_),Point:(0,a.makeChildAppender)(h.prototype.writePoint_),MultiPoint:(0,a.makeChildAppender)(h.prototype.writeMultiPoint_),LineString:(0,a.makeChildAppender)(h.prototype.writeCurveOrLineString_),MultiLineString:(0,a.makeChildAppender)(h.prototype.writeMultiCurveOrLineString_),LinearRing:(0,a.makeChildAppender)(h.prototype.writeLinearRing_),Polygon:(0,a.makeChildAppender)(h.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,a.makeChildAppender)(h.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,a.makeChildAppender)(h.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,a.makeChildAppender)(h.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,a.makeChildAppender)(h.prototype.writeEnvelope)}},h.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,a.makeChildAppender)(h.prototype.writeLineStringOrCurveMember_),curveMember:(0,a.makeChildAppender)(h.prototype.writeLineStringOrCurveMember_)}},h.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:(0,a.makeChildAppender)(h.prototype.writeRing_),innerBoundaryIs:(0,a.makeChildAppender)(h.prototype.writeRing_)}},h.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,a.makeChildAppender)(h.prototype.writePointMember_)}},h.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,a.makeChildAppender)(h.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,a.makeChildAppender)(h.prototype.writeSurfaceOrPolygonMember_)}},h.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,a.makeChildAppender)(n.writeStringTextNode),upperCorner:(0,a.makeChildAppender)(n.writeStringTextNode)}};var m=h;exports.default=m;
},{"../extent.js":"QDir","./Feature.js":"Kylu","./GMLBase.js":"ZpWv","./xsd.js":"jdp5","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"PNpB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}(),e=t;exports.default=e;
},{}],"i1Kk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../asserts.js"),e=r(require("./Filter.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=function(e){function r(r,o){var n=e.call(this,r)||this;return n.conditions=o,(0,t.assert)(n.conditions.length>=2,57),n}return o(r,e),r}(e.default),u=n;exports.default=u;
},{"../../asserts.js":"fLG6","./Filter.js":"PNpB"}],"g15t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./LogicalNary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./LogicalNary.js":"i1Kk"}],"h4vO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Filter.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),n=function(t){function e(e,r,n){var o=t.call(this,"BBOX")||this;if(o.geometryName=e,o.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=n,o}return r(e,t),e}(t.default),o=n;exports.default=o;
},{"./Filter.js":"PNpB"}],"zlkS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Filter.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o,n){var u=t.call(this,e)||this;return u.geometryName=r||"the_geom",u.geometry=o,u.srsName=n,u}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./Filter.js":"PNpB"}],"O9il":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o){return t.call(this,"Contains",e,r,o)||this}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./Spatial.js":"zlkS"}],"ocVj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Filter.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e){var o=t.call(this,r)||this;return o.propertyName=e,o}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./Filter.js":"PNpB"}],"gyCO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Comparison.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),n=function(t){function r(r,e,n){var o=t.call(this,"During",r)||this;return o.begin=e,o.end=n,o}return e(r,t),r}(t.default),o=n;exports.default=o;
},{"./Comparison.js":"ocVj"}],"zLAu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Comparison.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o,n){var u=t.call(this,e,r)||this;return u.expression=o,u.matchCase=n,u}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./Comparison.js":"ocVj"}],"eitp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e,o){return t.call(this,"PropertyIsEqualTo",r,e,o)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"XisC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e){return t.call(this,"PropertyIsGreaterThan",r,e)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"z0hs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e){return t.call(this,"PropertyIsGreaterThanOrEqualTo",r,e)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"PYxT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o){return t.call(this,"Intersects",e,r,o)||this}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./Spatial.js":"zlkS"}],"k5mv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Comparison.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e,o){var n=t.call(this,"PropertyIsBetween",r)||this;return n.lowerBoundary=e,n.upperBoundary=o,n}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./Comparison.js":"ocVj"}],"QWwu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Comparison.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e,o,n,i,u){var a=t.call(this,"PropertyIsLike",r)||this;return a.pattern=e,a.wildCard=void 0!==o?o:"*",a.singleChar=void 0!==n?n:".",a.escapeChar=void 0!==i?i:"!",a.matchCase=u,a}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./Comparison.js":"ocVj"}],"lto8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Comparison.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r){return t.call(this,"PropertyIsNull",r)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./Comparison.js":"ocVj"}],"KHNM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e){return t.call(this,"PropertyIsLessThan",r,e)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"OCFT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r,e){return t.call(this,"PropertyIsLessThanOrEqualTo",r,e)||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"zskW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Filter.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r){var e=t.call(this,"Not")||this;return e.condition=r,e}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./Filter.js":"PNpB"}],"eHtq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ComparisonBinary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(r,o)};return function(r,o){function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),e=function(t){function r(r,o,e){return t.call(this,"PropertyIsNotEqualTo",r,o,e)||this}return o(r,t),r}(t.default),n=e;exports.default=n;
},{"./ComparisonBinary.js":"zLAu"}],"Wukv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./LogicalNary.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),o=function(t){function r(r){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}return e(r,t),r}(t.default),n=o;exports.default=n;
},{"./LogicalNary.js":"i1Kk"}],"GCDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Spatial.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function e(e,r,o){return t.call(this,"Within",e,r,o)||this}return r(e,t),e}(t.default),n=o;exports.default=n;
},{"./Spatial.js":"zlkS"}],"zjBh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.and=T,exports.or=h,exports.not=y,exports.bbox=b,exports.contains=E,exports.intersects=O,exports.within=g,exports.equalTo=v,exports.notEqualTo=I,exports.lessThan=N,exports.lessThanOrEqualTo=_,exports.greaterThan=A,exports.greaterThanOrEqualTo=L,exports.isNull=k,exports.between=B,exports.like=F,exports.during=G;var e=j(require("./filter/And.js")),r=j(require("./filter/Bbox.js")),t=j(require("./filter/Contains.js")),n=j(require("./filter/During.js")),u=j(require("./filter/EqualTo.js")),i=j(require("./filter/GreaterThan.js")),o=j(require("./filter/GreaterThanOrEqualTo.js")),l=j(require("./filter/Intersects.js")),s=j(require("./filter/IsBetween.js")),f=j(require("./filter/IsLike.js")),a=j(require("./filter/IsNull.js")),c=j(require("./filter/LessThan.js")),p=j(require("./filter/LessThanOrEqualTo.js")),d=j(require("./filter/Not.js")),q=j(require("./filter/NotEqualTo.js")),w=j(require("./filter/Or.js")),x=j(require("./filter/Within.js"));function j(e){return e&&e.__esModule?e:{default:e}}function T(r){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(e.default,t))}function h(e){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(w.default,r))}function y(e){return new d.default(e)}function b(e,t,n){return new r.default(e,t,n)}function E(e,r,n){return new t.default(e,r,n)}function O(e,r,t){return new l.default(e,r,t)}function g(e,r,t){return new x.default(e,r,t)}function v(e,r,t){return new u.default(e,r,t)}function I(e,r,t){return new q.default(e,r,t)}function N(e,r){return new c.default(e,r)}function _(e,r){return new p.default(e,r)}function A(e,r){return new i.default(e,r)}function L(e,r){return new o.default(e,r)}function k(e){return new a.default(e)}function B(e,r,t){return new s.default(e,r,t)}function F(e,r,t,n,u,i){return new f.default(e,r,t,n,u,i)}function G(e,r,t){return new n.default(e,r,t)}
},{"./filter/And.js":"g15t","./filter/Bbox.js":"h4vO","./filter/Contains.js":"O9il","./filter/During.js":"gyCO","./filter/EqualTo.js":"eitp","./filter/GreaterThan.js":"XisC","./filter/GreaterThanOrEqualTo.js":"z0hs","./filter/Intersects.js":"PYxT","./filter/IsBetween.js":"k5mv","./filter/IsLike.js":"QWwu","./filter/IsNull.js":"lto8","./filter/LessThan.js":"KHNM","./filter/LessThanOrEqualTo.js":"OCFT","./filter/Not.js":"zskW","./filter/NotEqualTo.js":"eHtq","./filter/Or.js":"Wukv","./filter/Within.js":"GCDz"}],"UejM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeFilter=ae,exports.default=void 0;var e=require("../asserts.js"),t=l(require("./GML2.js")),r=l(require("./GML3.js")),a=m(require("./GMLBase.js")),n=require("./filter.js"),o=l(require("./XMLFeature.js")),i=require("./xsd.js"),s=require("../obj.js"),p=require("../proj.js"),u=require("../xml.js");function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),c={"http://www.opengis.net/gml":{boundedBy:(0,u.makeObjectPropertySetter)(a.default.prototype.readGeometryElement,"bounds")}},h={"http://www.opengis.net/wfs":{totalInserted:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),totalUpdated:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger),totalDeleted:(0,u.makeObjectPropertySetter)(i.readNonNegativeInteger)}},N={"http://www.opengis.net/wfs":{TransactionSummary:(0,u.makeObjectPropertySetter)(E,"transactionSummary"),InsertResults:(0,u.makeObjectPropertySetter)(I,"insertIds")}},y={"http://www.opengis.net/wfs":{PropertyName:(0,u.makeChildAppender)(i.writeStringTextNode)}},g={"http://www.opengis.net/wfs":{Insert:(0,u.makeChildAppender)(_),Update:(0,u.makeChildAppender)(M),Delete:(0,u.makeChildAppender)(L),Property:(0,u.makeChildAppender)(G),Native:(0,u.makeChildAppender)(D)}},v="feature",S="http://www.w3.org/2000/xmlns/",w="http://www.opengis.net/ogc",A="http://www.opengis.net/wfs",C="http://www.opengis.net/fes",P={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},T="1.1.0",F=function(t){function o(e){var a=t.call(this)||this,n=e||{};return a.featureType_=n.featureType,a.featureNS_=n.featureNS,a.gmlFormat_=n.gmlFormat?n.gmlFormat:new r.default,a.schemaLocation_=n.schemaLocation?n.schemaLocation:P[T],a}return f(o,t),o.prototype.getFeatureType=function(){return this.featureType_},o.prototype.setFeatureType=function(e){this.featureType_=e},o.prototype.readFeaturesFromNode=function(e,t){var r={node:e};(0,s.assign)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),(0,s.assign)(r,this.getReadOptions(e,t||{}));var n=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[a.GMLNS].featureMember=(0,u.makeArrayPusher)(a.default.prototype.readFeaturesInternal);var o=(0,u.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,n,this.gmlFormat_);return o||(o=[]),o},o.prototype.readTransactionResponse=function(e){if(e){if("string"==typeof e){var t=(0,u.parse)(e);return this.readTransactionResponseFromDocument(t)}return(0,u.isDocument)(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}},o.prototype.readFeatureCollectionMetadata=function(e){if(e){if("string"==typeof e){var t=(0,u.parse)(e);return this.readFeatureCollectionMetadataFromDocument(t)}return(0,u.isDocument)(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}},o.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)},o.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},r=(0,i.readNonNegativeIntegerString)(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=r,(0,u.pushParseAndPop)(t,c,e,[],this.gmlFormat_)},o.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},o.prototype.readTransactionResponseFromNode=function(e){return(0,u.pushParseAndPop)({},N,e,[])},o.prototype.writeGetFeature=function(t){var r,a=(0,u.createElementNS)(A,"GetFeature");if(a.setAttribute("service","WFS"),a.setAttribute("version","1.1.0"),t&&(t.handle&&a.setAttribute("handle",t.handle),t.outputFormat&&a.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&a.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&a.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&a.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&a.setAttribute("count",String(t.count)),void 0!==t.viewParams&&a.setAttribute("viewParams",t.viewParams),r=t.filter,t.bbox)){(0,e.assert)(t.geometryName,12);var o=(0,n.bbox)(t.geometryName,t.bbox,t.srsName);r=r?(0,n.and)(r,o):o}a.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);var i={node:a};return(0,s.assign)(i,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:r,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,e.assert)(Array.isArray(t.featureTypes),11),ne(a,t.featureTypes,[i]),a},o.prototype.writeTransaction=function(e,t,r,a){var n,o,i=[],p=(0,u.createElementNS)(A,"Transaction"),d=a.version?a.version:T,m="1.0.0"===d?2:3;p.setAttribute("service","WFS"),p.setAttribute("version",d),a&&(n=a.gmlOptions?a.gmlOptions:{},a.handle&&p.setAttribute("handle",a.handle));var l=P[d];p.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",l);var f=a.featurePrefix?a.featurePrefix:v;return e&&(o=(0,s.assign)({node:p},{featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,hasZ:a.hasZ,srsName:a.srsName}),(0,s.assign)(o,n),(0,u.pushSerializeAndPop)(o,g,(0,u.makeSimpleNodeFactory)("Insert"),e,i)),t&&(o=(0,s.assign)({node:p},{featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,hasZ:a.hasZ,srsName:a.srsName}),(0,s.assign)(o,n),(0,u.pushSerializeAndPop)(o,g,(0,u.makeSimpleNodeFactory)("Update"),t,i)),r&&(0,u.pushSerializeAndPop)({node:p,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,srsName:a.srsName},g,(0,u.makeSimpleNodeFactory)("Delete"),r,i),a.nativeElements&&(0,u.pushSerializeAndPop)({node:p,featureNS:a.featureNS,featureType:a.featureType,featurePrefix:f,gmlVersion:m,srsName:a.srsName},g,(0,u.makeSimpleNodeFactory)("Native"),a.nativeElements,i),p},o.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},o.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(var t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(t,r),(0,p.get)(r.pop().srsName)}return null},o}(o.default);function E(e,t){return(0,u.pushParseAndPop)({},h,e,t)}var b={"http://www.opengis.net/ogc":{FeatureId:(0,u.makeArrayPusher)(function(e,t){return e.getAttribute("fid")})}};function x(e,t){(0,u.parseNode)(b,e,t)}var k={"http://www.opengis.net/wfs":{Feature:x}};function I(e,t){return(0,u.pushParseAndPop)([],k,e,t)}function _(e,a,n){var o=n[n.length-1],i=o.featureType,s=o.featureNS,p=o.gmlVersion,d=(0,u.createElementNS)(s,i);e.appendChild(d),2===p?t.default.prototype.writeFeatureElement(d,a,n):r.default.prototype.writeFeatureElement(d,a,n)}function O(e,t,r){var a=(0,u.createElementNS)(w,"Filter"),n=(0,u.createElementNS)(w,"FeatureId");a.appendChild(n),n.setAttribute("fid",t),e.appendChild(a)}function j(e,t){var r=(e=e||v)+":";return 0===t.indexOf(r)?t:r+t}function L(t,r,a){var n=a[a.length-1];(0,e.assert)(void 0!==r.getId(),26);var o=n.featureType,i=n.featurePrefix,s=n.featureNS,p=j(i,o);t.setAttribute("typeName",p),t.setAttributeNS(S,"xmlns:"+i,s);var u=r.getId();void 0!==u&&O(t,u,a)}function M(t,r,a){var n=a[a.length-1];(0,e.assert)(void 0!==r.getId(),27);var o=n.featureType,i=n.featurePrefix,s=n.featureNS,p=j(i,o),d=r.getGeometryName();t.setAttribute("typeName",p),t.setAttributeNS(S,"xmlns:"+i,s);var m=r.getId();if(void 0!==m){for(var l=r.getKeys(),f=[],c=0,h=l.length;c<h;c++){var N=r.get(l[c]);if(void 0!==N){var y=l[c];N&&"function"==typeof N.getSimplifiedGeometry&&(y=d),f.push({name:y,value:N})}}(0,u.pushSerializeAndPop)({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},g,(0,u.makeSimpleNodeFactory)("Property"),f,a),O(t,m,a)}}function G(e,a,n){var o=(0,u.createElementNS)(A,"Name"),s=n[n.length-1].gmlVersion;if(e.appendChild(o),(0,i.writeStringTextNode)(o,a.name),void 0!==a.value&&null!==a.value){var p=(0,u.createElementNS)(A,"Value");e.appendChild(p),a.value&&"function"==typeof a.value.getSimplifiedGeometry?2===s?t.default.prototype.writeGeometryElement(p,a.value,n):r.default.prototype.writeGeometryElement(p,a.value,n):(0,i.writeStringTextNode)(p,a.value)}}function D(e,t,r){t.vendorId&&e.setAttribute("vendorId",t.vendorId),void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore)),void 0!==t.value&&(0,i.writeStringTextNode)(e,t.value)}var R={"http://www.opengis.net/wfs":{Query:(0,u.makeChildAppender)(q)},"http://www.opengis.net/ogc":{During:(0,u.makeChildAppender)(W),And:(0,u.makeChildAppender)(X),Or:(0,u.makeChildAppender)(X),Not:(0,u.makeChildAppender)(H),BBOX:(0,u.makeChildAppender)(V),Contains:(0,u.makeChildAppender)(B),Intersects:(0,u.makeChildAppender)(U),Within:(0,u.makeChildAppender)(Z),PropertyIsEqualTo:(0,u.makeChildAppender)(Q),PropertyIsNotEqualTo:(0,u.makeChildAppender)(Q),PropertyIsLessThan:(0,u.makeChildAppender)(Q),PropertyIsLessThanOrEqualTo:(0,u.makeChildAppender)(Q),PropertyIsGreaterThan:(0,u.makeChildAppender)(Q),PropertyIsGreaterThanOrEqualTo:(0,u.makeChildAppender)(Q),PropertyIsNull:(0,u.makeChildAppender)(K),PropertyIsBetween:(0,u.makeChildAppender)(J),PropertyIsLike:(0,u.makeChildAppender)(Y)}};function q(e,t,r){var a,n=r[r.length-1],o=n.featurePrefix,i=n.featureNS,p=n.propertyNames,d=n.srsName;a=o?j(o,t):t,e.setAttribute("typeName",a),d&&e.setAttribute("srsName",d),i&&e.setAttributeNS(S,"xmlns:"+o,i);var m=(0,s.assign)({},n);m.node=e,(0,u.pushSerializeAndPop)(m,y,(0,u.makeSimpleNodeFactory)("PropertyName"),p,r);var l=n.filter;if(l){var f=(0,u.createElementNS)(w,"Filter");e.appendChild(f),z(f,l,r)}}function z(e,t,r){var a={node:e};(0,u.pushSerializeAndPop)(a,R,(0,u.makeSimpleNodeFactory)(t.getTagName()),[t],r)}function V(e,t,a){a[a.length-1].srsName=t.srsName,ee(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.extent,a)}function B(e,t,a){a[a.length-1].srsName=t.srsName,ee(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function U(e,t,a){a[a.length-1].srsName=t.srsName,ee(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function Z(e,t,a){a[a.length-1].srsName=t.srsName,ee(e,t.geometryName),r.default.prototype.writeGeometryElement(e,t.geometry,a)}function W(e,t,r){var n=(0,u.createElementNS)(C,"ValueReference");(0,i.writeStringTextNode)(n,t.propertyName),e.appendChild(n);var o=(0,u.createElementNS)(a.GMLNS,"TimePeriod");e.appendChild(o);var s=(0,u.createElementNS)(a.GMLNS,"begin");o.appendChild(s),re(s,t.begin);var p=(0,u.createElementNS)(a.GMLNS,"end");o.appendChild(p),re(p,t.end)}function X(e,t,r){for(var a={node:e},n=t.conditions,o=0,i=n.length;o<i;++o){var s=n[o];(0,u.pushSerializeAndPop)(a,R,(0,u.makeSimpleNodeFactory)(s.getTagName()),[s],r)}}function H(e,t,r){var a={node:e},n=t.condition;(0,u.pushSerializeAndPop)(a,R,(0,u.makeSimpleNodeFactory)(n.getTagName()),[n],r)}function Q(e,t,r){void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),ee(e,t.propertyName),te(e,""+t.expression)}function K(e,t,r){ee(e,t.propertyName)}function J(e,t,r){ee(e,t.propertyName);var a=(0,u.createElementNS)(w,"LowerBoundary");e.appendChild(a),te(a,""+t.lowerBoundary);var n=(0,u.createElementNS)(w,"UpperBoundary");e.appendChild(n),te(n,""+t.upperBoundary)}function Y(e,t,r){e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),ee(e,t.propertyName),te(e,""+t.pattern)}function $(e,t,r){var a=(0,u.createElementNS)(w,e);(0,i.writeStringTextNode)(a,r),t.appendChild(a)}function ee(e,t){$("PropertyName",e,t)}function te(e,t){$("Literal",e,t)}function re(e,t){var r=(0,u.createElementNS)(a.GMLNS,"TimeInstant");e.appendChild(r);var n=(0,u.createElementNS)(a.GMLNS,"timePosition");r.appendChild(n),(0,i.writeStringTextNode)(n,t)}function ae(e){var t=(0,u.createElementNS)(w,"Filter");return z(t,e,[]),t}function ne(e,t,r){var a=r[r.length-1],n=(0,s.assign)({},a);n.node=e,(0,u.pushSerializeAndPop)(n,R,(0,u.makeSimpleNodeFactory)("Query"),t,r)}var oe=F;exports.default=oe;
},{"../asserts.js":"fLG6","./GML2.js":"jLLC","./GML3.js":"MjHj","./GMLBase.js":"ZpWv","./filter.js":"zjBh","./XMLFeature.js":"CXRz","./xsd.js":"jdp5","../obj.js":"mH6q","../proj.js":"Diht","../xml.js":"yYlP"}],"FkYy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=_(require("../Feature.js")),e=require("./Feature.js"),r=_(require("./TextFeature.js")),i=_(require("../geom/GeometryCollection.js")),o=_(require("../geom/GeometryType.js")),n=_(require("../geom/GeometryLayout.js")),s=_(require("../geom/LineString.js")),a=_(require("../geom/MultiLineString.js")),u=_(require("../geom/MultiPoint.js")),h=_(require("../geom/MultiPolygon.js")),p=_(require("../geom/Point.js")),f=_(require("../geom/Polygon.js"));function _(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),c={POINT:p.default,LINESTRING:s.default,POLYGON:f.default,MULTIPOINT:u.default,MULTILINESTRING:a.default,MULTIPOLYGON:h.default},y="EMPTY",T="Z",m="M",E="ZM",g={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},v={};for(var P in o.default)v[P]=o.default[P].toUpperCase();var x=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,i=e;if("("==e)t=g.LEFT_PAREN;else if(","==e)t=g.COMMA;else if(")"==e)t=g.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)t=g.NUMBER,i=this.readNumber_();else if(this.isAlpha_(e))t=g.TEXT,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=g.EOF}return{position:r,value:i,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,i=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),d=function(){function t(t){this.lexer_=t,this.token_,this.layout_=n.default.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=n.default.XY,e=this.token_;if(this.isTokenType(g.TEXT)){var r=e.value;r===T?t=n.default.XYZ:r===m?t=n.default.XYM:r===E&&(t=n.default.XYZM),t!==n.default.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(g.LEFT_PAREN)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(g.COMMA));if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(g.LEFT_PAREN)){var t=this.parsePoint_();if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(g.LEFT_PAREN)){var t=this.parsePointList_();if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(g.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(g.LEFT_PAREN)){var t=void 0;if(t=this.token_.type==g.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(g.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(g.LEFT_PAREN)){var t=this.parsePolygonTextList_();if(this.match(g.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var i=this.token_;if(!this.match(g.NUMBER))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(g.COMMA);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(g.COMMA);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(g.COMMA);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(g.COMMA);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(g.TEXT)&&this.token_.value==y;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(g.TEXT)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new i.default(r)}var o=c[e];if(!o)throw new Error("Invalid geometry type: "+e);var n=void 0;switch(e){case"POINT":n=this.parsePointText_();break;case"LINESTRING":n=this.parseLineStringText_();break;case"POLYGON":n=this.parsePolygonText_();break;case"MULTIPOINT":n=this.parseMultiPointText_();break;case"MULTILINESTRING":n=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":n=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return n||(n=o===c.POINT?[NaN,NaN]:[]),new o(n,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),L=function(r){function n(t){var e=r.call(this)||this,i=t||{};return e.splitCollection_=void 0!==i.splitCollection&&i.splitCollection,e}return l(n,r),n.prototype.parse_=function(t){var e=new x(t);return new d(e).parse()},n.prototype.readFeatureFromText=function(e,r){var i=this.readGeometryFromText(e,r);if(i){var o=new t.default;return o.setGeometry(i),o}return null},n.prototype.readFeaturesFromText=function(e,r){for(var i=[],n=this.readGeometryFromText(e,r),s=[],a=0,u=(i=this.splitCollection_&&n.getType()==o.default.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;a<u;++a){var h=new t.default;h.setGeometry(i[a]),s.push(h)}return s},n.prototype.readGeometryFromText=function(t,r){var i=this.parse_(t);return i?(0,e.transformGeometryWithOptions)(i,!1,r):null},n.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},n.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],o=0,n=t.length;o<n;++o)r.push(t[o].getGeometry());var s=new i.default(r);return this.writeGeometryText(s,e)},n.prototype.writeGeometryText=function(t,r){return C((0,e.transformGeometryWithOptions)(t,!0,r))},n}(r.default);function M(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function G(t){for(var e=[],r=t.getPoints(),i=0,o=r.length;i<o;++i)e.push("("+M(r[i])+")");return e.join(",")}function N(t){for(var e=[],r=t.getGeometries(),i=0,o=r.length;i<o;++i)e.push(C(r[i]));return e.join(",")}function w(t){for(var e=t.getCoordinates(),r=[],i=0,o=e.length;i<o;++i)r.push(e[i].join(" "));return r.join(",")}function R(t){for(var e=[],r=t.getLineStrings(),i=0,o=r.length;i<o;++i)e.push("("+w(r[i])+")");return e.join(",")}function O(t){for(var e=[],r=t.getLinearRings(),i=0,o=r.length;i<o;++i)e.push("("+w(r[i])+")");return e.join(",")}function A(t){for(var e=[],r=t.getPolygons(),i=0,o=r.length;i<o;++i)e.push("("+O(r[i])+")");return e.join(",")}function I(t){var e=t.getLayout(),r="";return e!==n.default.XYZ&&e!==n.default.XYZM||(r+=T),e!==n.default.XYM&&e!==n.default.XYZM||(r+=m),r}var k={Point:M,LineString:w,Polygon:O,MultiPoint:G,MultiLineString:R,MultiPolygon:A,GeometryCollection:N};function C(t){var e=t.getType(),r=(0,k[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var i=I(t);i.length>0&&(e+=" "+i)}return 0===r.length?e+" "+y:e+"("+r+")"}var F=L;exports.default=F;
},{"../Feature.js":"mYW9","./Feature.js":"Kylu","./TextFeature.js":"zfKM","../geom/GeometryCollection.js":"HvLT","../geom/GeometryType.js":"lmV0","../geom/GeometryLayout.js":"Utvi","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"fbCo","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"ouhF","../geom/Point.js":"gLcY","../geom/Polygon.js":"Nwwk"}],"YBAY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./XLink.js"),t=n(require("./XML.js")),r=require("./xsd.js"),a=require("../xml.js");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),i=[null,"http://www.opengis.net/wms"],u=(0,a.makeStructureNS)(i,{Service:(0,a.makeObjectPropertySetter)(D),Capability:(0,a.makeObjectPropertySetter)(x)}),c=(0,a.makeStructureNS)(i,{Request:(0,a.makeObjectPropertySetter)(E),Exception:(0,a.makeObjectPropertySetter)(_),Layer:(0,a.makeObjectPropertySetter)(M)}),d=function(e){function t(){var t=e.call(this)||this;return t.version=void 0,t}return o(t,e),t.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},t.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=(0,a.pushParseAndPop)({version:this.version},u,e,[]);return t||null},t}(t.default),S=(0,a.makeStructureNS)(i,{Name:(0,a.makeObjectPropertySetter)(r.readString),Title:(0,a.makeObjectPropertySetter)(r.readString),Abstract:(0,a.makeObjectPropertySetter)(r.readString),KeywordList:(0,a.makeObjectPropertySetter)(X),OnlineResource:(0,a.makeObjectPropertySetter)(e.readHref),ContactInformation:(0,a.makeObjectPropertySetter)(B),Fees:(0,a.makeObjectPropertySetter)(r.readString),AccessConstraints:(0,a.makeObjectPropertySetter)(r.readString),LayerLimit:(0,a.makeObjectPropertySetter)(r.readNonNegativeInteger),MaxWidth:(0,a.makeObjectPropertySetter)(r.readNonNegativeInteger),MaxHeight:(0,a.makeObjectPropertySetter)(r.readNonNegativeInteger)}),p=(0,a.makeStructureNS)(i,{ContactPersonPrimary:(0,a.makeObjectPropertySetter)(C),ContactPosition:(0,a.makeObjectPropertySetter)(r.readString),ContactAddress:(0,a.makeObjectPropertySetter)(R),ContactVoiceTelephone:(0,a.makeObjectPropertySetter)(r.readString),ContactFacsimileTelephone:(0,a.makeObjectPropertySetter)(r.readString),ContactElectronicMailAddress:(0,a.makeObjectPropertySetter)(r.readString)}),s=(0,a.makeStructureNS)(i,{ContactPerson:(0,a.makeObjectPropertySetter)(r.readString),ContactOrganization:(0,a.makeObjectPropertySetter)(r.readString)}),m=(0,a.makeStructureNS)(i,{AddressType:(0,a.makeObjectPropertySetter)(r.readString),Address:(0,a.makeObjectPropertySetter)(r.readString),City:(0,a.makeObjectPropertySetter)(r.readString),StateOrProvince:(0,a.makeObjectPropertySetter)(r.readString),PostCode:(0,a.makeObjectPropertySetter)(r.readString),Country:(0,a.makeObjectPropertySetter)(r.readString)}),P=(0,a.makeStructureNS)(i,{Format:(0,a.makeArrayPusher)(r.readString)}),b=(0,a.makeStructureNS)(i,{Name:(0,a.makeObjectPropertySetter)(r.readString),Title:(0,a.makeObjectPropertySetter)(r.readString),Abstract:(0,a.makeObjectPropertySetter)(r.readString),KeywordList:(0,a.makeObjectPropertySetter)(X),CRS:(0,a.makeObjectPropertyPusher)(r.readString),EX_GeographicBoundingBox:(0,a.makeObjectPropertySetter)(L),BoundingBox:(0,a.makeObjectPropertyPusher)(N),Dimension:(0,a.makeObjectPropertyPusher)(T),Attribution:(0,a.makeObjectPropertySetter)(v),AuthorityURL:(0,a.makeObjectPropertyPusher)(G),Identifier:(0,a.makeObjectPropertyPusher)(r.readString),MetadataURL:(0,a.makeObjectPropertyPusher)(V),DataURL:(0,a.makeObjectPropertyPusher)(q),FeatureListURL:(0,a.makeObjectPropertyPusher)(q),Style:(0,a.makeObjectPropertyPusher)(W),MinScaleDenominator:(0,a.makeObjectPropertySetter)(r.readDecimal),MaxScaleDenominator:(0,a.makeObjectPropertySetter)(r.readDecimal),Layer:(0,a.makeObjectPropertyPusher)(w)}),y=(0,a.makeStructureNS)(i,{Title:(0,a.makeObjectPropertySetter)(r.readString),OnlineResource:(0,a.makeObjectPropertySetter)(e.readHref),LogoURL:(0,a.makeObjectPropertySetter)(H)}),g=(0,a.makeStructureNS)(i,{westBoundLongitude:(0,a.makeObjectPropertySetter)(r.readDecimal),eastBoundLongitude:(0,a.makeObjectPropertySetter)(r.readDecimal),southBoundLatitude:(0,a.makeObjectPropertySetter)(r.readDecimal),northBoundLatitude:(0,a.makeObjectPropertySetter)(r.readDecimal)}),k=(0,a.makeStructureNS)(i,{GetCapabilities:(0,a.makeObjectPropertySetter)(U),GetMap:(0,a.makeObjectPropertySetter)(U),GetFeatureInfo:(0,a.makeObjectPropertySetter)(U)}),O=(0,a.makeStructureNS)(i,{Format:(0,a.makeObjectPropertyPusher)(r.readString),DCPType:(0,a.makeObjectPropertyPusher)(F)}),l=(0,a.makeStructureNS)(i,{HTTP:(0,a.makeObjectPropertySetter)(I)}),j=(0,a.makeStructureNS)(i,{Get:(0,a.makeObjectPropertySetter)(q),Post:(0,a.makeObjectPropertySetter)(q)}),f=(0,a.makeStructureNS)(i,{Name:(0,a.makeObjectPropertySetter)(r.readString),Title:(0,a.makeObjectPropertySetter)(r.readString),Abstract:(0,a.makeObjectPropertySetter)(r.readString),LegendURL:(0,a.makeObjectPropertyPusher)(H),StyleSheetURL:(0,a.makeObjectPropertySetter)(q),StyleURL:(0,a.makeObjectPropertySetter)(q)}),h=(0,a.makeStructureNS)(i,{Format:(0,a.makeObjectPropertySetter)(r.readString),OnlineResource:(0,a.makeObjectPropertySetter)(e.readHref)}),A=(0,a.makeStructureNS)(i,{Keyword:(0,a.makeArrayPusher)(r.readString)});function v(e,t){return(0,a.pushParseAndPop)({},y,e,t)}function N(e,t){var a=[(0,r.readDecimalString)(e.getAttribute("minx")),(0,r.readDecimalString)(e.getAttribute("miny")),(0,r.readDecimalString)(e.getAttribute("maxx")),(0,r.readDecimalString)(e.getAttribute("maxy"))],n=[(0,r.readDecimalString)(e.getAttribute("resx")),(0,r.readDecimalString)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:a,res:n}}function L(e,t){var r=(0,a.pushParseAndPop)({},g,e,t);if(r){var n=r.westBoundLongitude,o=r.southBoundLatitude,i=r.eastBoundLongitude,u=r.northBoundLatitude;if(void 0!==n&&void 0!==o&&void 0!==i&&void 0!==u)return[n,o,i,u]}}function x(e,t){return(0,a.pushParseAndPop)({},c,e,t)}function D(e,t){return(0,a.pushParseAndPop)({},S,e,t)}function B(e,t){return(0,a.pushParseAndPop)({},p,e,t)}function C(e,t){return(0,a.pushParseAndPop)({},s,e,t)}function R(e,t){return(0,a.pushParseAndPop)({},m,e,t)}function _(e,t){return(0,a.pushParseAndPop)([],P,e,t)}function M(e,t){return(0,a.pushParseAndPop)({},b,e,t)}function w(e,t){var n=t[t.length-1],o=(0,a.pushParseAndPop)({},b,e,t);if(o){var i=(0,r.readBooleanString)(e.getAttribute("queryable"));void 0===i&&(i=n.queryable),o.queryable=void 0!==i&&i;var u=(0,r.readNonNegativeIntegerString)(e.getAttribute("cascaded"));void 0===u&&(u=n.cascaded),o.cascaded=u;var c=(0,r.readBooleanString)(e.getAttribute("opaque"));void 0===c&&(c=n.opaque),o.opaque=void 0!==c&&c;var d=(0,r.readBooleanString)(e.getAttribute("noSubsets"));void 0===d&&(d=n.noSubsets),o.noSubsets=void 0!==d&&d;var S=(0,r.readDecimalString)(e.getAttribute("fixedWidth"));S||(S=n.fixedWidth),o.fixedWidth=S;var p=(0,r.readDecimalString)(e.getAttribute("fixedHeight"));p||(p=n.fixedHeight),o.fixedHeight=p;["Style","CRS","AuthorityURL"].forEach(function(e){if(e in n){var t=o[e]||[];o[e]=t.concat(n[e])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){if(!(e in o)){var t=n[e];o[e]=t}}),o}}function T(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:(0,r.readBooleanString)(e.getAttribute("multipleValues")),nearestValue:(0,r.readBooleanString)(e.getAttribute("nearestValue")),current:(0,r.readBooleanString)(e.getAttribute("current")),values:(0,r.readString)(e)}}function q(e,t){return(0,a.pushParseAndPop)({},h,e,t)}function E(e,t){return(0,a.pushParseAndPop)({},k,e,t)}function F(e,t){return(0,a.pushParseAndPop)({},l,e,t)}function I(e,t){return(0,a.pushParseAndPop)({},j,e,t)}function U(e,t){return(0,a.pushParseAndPop)({},O,e,t)}function H(e,t){var a=q(e,t);if(a){var n=[(0,r.readNonNegativeIntegerString)(e.getAttribute("width")),(0,r.readNonNegativeIntegerString)(e.getAttribute("height"))];return a.size=n,a}}function G(e,t){var r=q(e,t);if(r)return r.name=e.getAttribute("name"),r}function V(e,t){var r=q(e,t);if(r)return r.type=e.getAttribute("type"),r}function W(e,t){return(0,a.pushParseAndPop)({},f,e,t)}function X(e,t){return(0,a.pushParseAndPop)([],A,e,t)}var K=d;exports.default=K;
},{"./XLink.js":"fLsC","./XML.js":"hrwq","./xsd.js":"jdp5","../xml.js":"yYlP"}],"Bwqj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../array.js"),t=s(require("./GML2.js")),r=s(require("./XMLFeature.js")),a=require("../obj.js"),o=require("../xml.js");function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n="_feature",i="_layer",l=function(r){function s(e){var a=r.call(this)||this,o=e||{};return a.featureNS_="http://mapserver.gis.umn.edu/mapserver",a.gmlFormat_=new t.default,a.layers_=o.layers?o.layers:null,a}return u(s,r),s.prototype.getLayers=function(){return this.layers_},s.prototype.setLayers=function(e){this.layers_=e},s.prototype.readFeatures_=function(t,r){t.setAttribute("namespaceURI",this.featureNS_);var a=t.localName,s=[];if(0===t.childNodes.length)return s;if("msGMLOutput"==a)for(var u=0,l=t.childNodes.length;u<l;u++){var f=t.childNodes[u];if(f.nodeType===Node.ELEMENT_NODE){var p=f,_=r[0],c=i,d=p.localName.replace(c,"");if(!this.layers_||(0,e.includes)(this.layers_,d)){var h=d+n;_.featureType=h,_.featureNS=this.featureNS_;var m={};m[h]=(0,o.makeArrayPusher)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var y=(0,o.makeStructureNS)([_.featureNS,null],m);p.setAttribute("namespaceURI",this.featureNS_);var v=(0,o.pushParseAndPop)([],y,p,r,this.gmlFormat_);v&&(0,e.extend)(s,v)}}}if("FeatureCollection"==a){var N=(0,o.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);N&&(s=N)}return s},s.prototype.readFeaturesFromNode=function(e,t){var r={};return t&&(0,a.assign)(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])},s}(r.default),f=l;exports.default=f;
},{"../array.js":"luEr","./GML2.js":"jLLC","./XMLFeature.js":"CXRz","../obj.js":"mH6q","../xml.js":"yYlP"}],"bwMi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../extent.js"),r=i(require("./OWS.js")),t=require("./XLink.js"),a=i(require("./XML.js")),n=require("./xsd.js"),o=require("../xml.js");function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function a(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}(),c=[null,"http://www.opengis.net/wmts/1.0"],p=[null,"http://www.opengis.net/ows/1.1"],S=(0,o.makeStructureNS)(c,{Contents:(0,o.makeObjectPropertySetter)(O)}),s=function(e){function t(){var t=e.call(this)||this;return t.owsParser_=new r.default,t}return u(t,e),t.prototype.readFromDocument=function(e){for(var r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Node.ELEMENT_NODE)return this.readFromNode(r);return null},t.prototype.readFromNode=function(e){var r=e.getAttribute("version").trim(),t=this.owsParser_.readFromNode(e);return t?(t.version=r,(t=(0,o.pushParseAndPop)(t,S,e,[]))||null):null},t}(a.default),P=(0,o.makeStructureNS)(c,{Layer:(0,o.makeObjectPropertyPusher)(N),TileMatrixSet:(0,o.makeObjectPropertyPusher)(h)}),m=(0,o.makeStructureNS)(c,{Style:(0,o.makeObjectPropertyPusher)(v),Format:(0,o.makeObjectPropertyPusher)(n.readString),TileMatrixSetLink:(0,o.makeObjectPropertyPusher)(A),Dimension:(0,o.makeObjectPropertyPusher)(x),ResourceURL:(0,o.makeObjectPropertyPusher)(T)},(0,o.makeStructureNS)(p,{Title:(0,o.makeObjectPropertySetter)(n.readString),Abstract:(0,o.makeObjectPropertySetter)(n.readString),WGS84BoundingBox:(0,o.makeObjectPropertySetter)(w),Identifier:(0,o.makeObjectPropertySetter)(n.readString)})),d=(0,o.makeStructureNS)(c,{LegendURL:(0,o.makeObjectPropertyPusher)(M)},(0,o.makeStructureNS)(p,{Title:(0,o.makeObjectPropertySetter)(n.readString),Identifier:(0,o.makeObjectPropertySetter)(n.readString)})),k=(0,o.makeStructureNS)(c,{TileMatrixSet:(0,o.makeObjectPropertySetter)(n.readString),TileMatrixSetLimits:(0,o.makeObjectPropertySetter)(L)}),l=(0,o.makeStructureNS)(c,{TileMatrixLimits:(0,o.makeArrayPusher)(C)}),f=(0,o.makeStructureNS)(c,{TileMatrix:(0,o.makeObjectPropertySetter)(n.readString),MinTileRow:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),MaxTileRow:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),MinTileCol:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),MaxTileCol:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger)}),y=(0,o.makeStructureNS)(c,{Default:(0,o.makeObjectPropertySetter)(n.readString),Value:(0,o.makeObjectPropertyPusher)(n.readString)},(0,o.makeStructureNS)(p,{Identifier:(0,o.makeObjectPropertySetter)(n.readString)})),b=(0,o.makeStructureNS)(p,{LowerCorner:(0,o.makeArrayPusher)(_),UpperCorner:(0,o.makeArrayPusher)(_)}),g=(0,o.makeStructureNS)(c,{WellKnownScaleSet:(0,o.makeObjectPropertySetter)(n.readString),TileMatrix:(0,o.makeObjectPropertyPusher)(I)},(0,o.makeStructureNS)(p,{SupportedCRS:(0,o.makeObjectPropertySetter)(n.readString),Identifier:(0,o.makeObjectPropertySetter)(n.readString)})),j=(0,o.makeStructureNS)(c,{TopLeftCorner:(0,o.makeObjectPropertySetter)(_),ScaleDenominator:(0,o.makeObjectPropertySetter)(n.readDecimal),TileWidth:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),TileHeight:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),MatrixWidth:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger),MatrixHeight:(0,o.makeObjectPropertySetter)(n.readNonNegativeInteger)},(0,o.makeStructureNS)(p,{Identifier:(0,o.makeObjectPropertySetter)(n.readString)}));function O(e,r){return(0,o.pushParseAndPop)({},P,e,r)}function N(e,r){return(0,o.pushParseAndPop)({},m,e,r)}function h(e,r){return(0,o.pushParseAndPop)({},g,e,r)}function v(e,r){var t=(0,o.pushParseAndPop)({},d,e,r);if(t){var a="true"===e.getAttribute("isDefault");return t.isDefault=a,t}}function A(e,r){return(0,o.pushParseAndPop)({},k,e,r)}function x(e,r){return(0,o.pushParseAndPop)({},y,e,r)}function T(e,r){var t=e.getAttribute("format"),a=e.getAttribute("template"),n=e.getAttribute("resourceType"),o={};return t&&(o.format=t),a&&(o.template=a),n&&(o.resourceType=n),o}function w(r,t){var a=(0,o.pushParseAndPop)([],b,r,t);if(2==a.length)return(0,e.boundingExtent)(a)}function M(e,r){var a={};return a.format=e.getAttribute("format"),a.href=(0,t.readHref)(e),a}function _(e,r){var t=(0,n.readString)(e).split(/\s+/);if(t&&2==t.length){var a=+t[0],o=+t[1];if(!isNaN(a)&&!isNaN(o))return[a,o]}}function I(e,r){return(0,o.pushParseAndPop)({},j,e,r)}function L(e,r){return(0,o.pushParseAndPop)([],l,e,r)}function C(e,r){return(0,o.pushParseAndPop)({},f,e,r)}var D=s;exports.default=D;
},{"../extent.js":"QDir","./OWS.js":"xtos","./XLink.js":"fLsC","./XML.js":"hrwq","./xsd.js":"jdp5","../xml.js":"yYlP"}],"NUh6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"EsriJSON",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"GeoJSON",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"GML",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"GPX",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"IGC",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"IIIFInfo",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"KML",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"MVT",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"OWS",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"Polyline",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"TopoJSON",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"WFS",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"WKT",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"WMSCapabilities",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"WMSGetFeatureInfo",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"WMTSCapabilities",{enumerable:!0,get:function(){return j.default}});var e=m(require("./format/EsriJSON.js")),r=m(require("./format/GeoJSON.js")),t=m(require("./format/GML.js")),n=m(require("./format/GPX.js")),u=m(require("./format/IGC.js")),o=m(require("./format/IIIFInfo.js")),f=m(require("./format/KML.js")),i=m(require("./format/MVT.js")),a=m(require("./format/OWS.js")),l=m(require("./format/Polyline.js")),s=m(require("./format/TopoJSON.js")),p=m(require("./format/WFS.js")),b=m(require("./format/WKT.js")),d=m(require("./format/WMSCapabilities.js")),c=m(require("./format/WMSGetFeatureInfo.js")),j=m(require("./format/WMTSCapabilities.js"));function m(e){return e&&e.__esModule?e:{default:e}}
},{"./format/EsriJSON.js":"ELJf","./format/GeoJSON.js":"qBlb","./format/GML.js":"A9M5","./format/GPX.js":"STp9","./format/IGC.js":"nRJB","./format/IIIFInfo.js":"FFf1","./format/KML.js":"DiYy","./format/MVT.js":"bjcz","./format/OWS.js":"xtos","./format/Polyline.js":"p9qn","./format/TopoJSON.js":"W9DP","./format/WFS.js":"UejM","./format/WKT.js":"FkYy","./format/WMSCapabilities.js":"YBAY","./format/WMSGetFeatureInfo.js":"Bwqj","./format/WMTSCapabilities.js":"bwMi"}],"V3SP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Geometry",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"GeometryCollection",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"LineString",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"MultiLineString",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"MultiPoint",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"MultiPolygon",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Point",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"Polygon",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"LinearRing",{enumerable:!0,get:function(){return g.default}});var e=c(require("./geom/Circle.js")),r=c(require("./geom/Geometry.js")),t=c(require("./geom/GeometryCollection.js")),n=c(require("./geom/LineString.js")),o=c(require("./geom/MultiLineString.js")),u=c(require("./geom/MultiPoint.js")),i=c(require("./geom/MultiPolygon.js")),l=c(require("./geom/Point.js")),f=c(require("./geom/Polygon.js")),g=c(require("./geom/LinearRing.js"));function c(e){return e&&e.__esModule?e:{default:e}}
},{"./geom/Circle.js":"AyCw","./geom/Geometry.js":"F8sI","./geom/GeometryCollection.js":"HvLT","./geom/LineString.js":"DfxW","./geom/MultiLineString.js":"fbCo","./geom/MultiPoint.js":"dNu5","./geom/MultiPolygon.js":"ouhF","./geom/Point.js":"gLcY","./geom/Polygon.js":"Nwwk","./geom/LinearRing.js":"jRgU"}],"M5pz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};exports.default=e;
},{}],"HTO1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./Layer.js")),t=o(require("./TileProperty.js")),r=require("../obj.js");function o(e){return e&&e.__esModule?e:{default:e}}var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=function(e){function o(t){var o=this,n=t||{},i=(0,r.assign)({},n);return delete i.preload,delete i.useInterimTilesOnError,(o=e.call(this,i)||this).setPreload(void 0!==n.preload?n.preload:0),o.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),o}return n(o,e),o.prototype.getPreload=function(){return this.get(t.default.PRELOAD)},o.prototype.setPreload=function(e){this.set(t.default.PRELOAD,e)},o.prototype.getUseInterimTilesOnError=function(){return this.get(t.default.USE_INTERIM_TILES_ON_ERROR)},o.prototype.setUseInterimTilesOnError=function(e){this.set(t.default.USE_INTERIM_TILES_ON_ERROR,e)},o}(e.default),s=i;exports.default=s;
},{"./Layer.js":"GCgv","./TileProperty.js":"M5pz","../obj.js":"mH6q"}],"hkMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=require("../../proj.js"),r=l(require("../../TileRange.js")),i=l(require("../../TileState.js")),n=require("../../extent.js"),o=l(require("./Layer.js")),a=require("../../transform.js"),s=require("../../array.js");function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),u=function(o){function l(e){var t=o.call(this,e)||this;return t.extentChanged=!0,t.renderedExtent_=null,t.renderedPixelRatio,t.renderedProjection=null,t.renderedRevision,t.renderedTiles=[],t.newTiles_=!1,t.tmpExtent=(0,n.createEmpty)(),t.tmpTileRange_=new r.default(0,0,0,0),t}return d(l,o),l.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==i.default.LOADED||r==i.default.EMPTY||r==i.default.ERROR&&!n},l.prototype.getTile=function(e,t,r,n){var o=n.pixelRatio,a=n.viewState.projection,s=this.getLayer(),l=s.getSource().getTile(e,t,r,o,a);return l.getState()==i.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):l.setState(i.default.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},l.prototype.loadedTileCallback=function(e,t,r){return!!this.isDrawableTile(r)&&o.prototype.loadedTileCallback.call(this,e,t,r)},l.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},l.prototype.renderFrame=function(r,o){var l=r.layerStatesArray[r.layerIndex],d=r.viewState,u=d.projection,h=d.resolution,p=d.center,c=d.rotation,g=r.pixelRatio,T=this.getLayer(),f=T.getSource(),v=f.getRevision(),m=f.getTileGridForProjection(u),x=m.getZForResolution(h,f.zDirection),y=m.getResolution(x),R=r.extent,w=l.extent&&(0,t.fromUserExtent)(l.extent,u);w&&(R=(0,n.getIntersection)(R,(0,t.fromUserExtent)(l.extent,u)));var _=f.getTilePixelRatio(g),C=Math.round(r.size[0]*_),E=Math.round(r.size[1]*_);if(c){var j=Math.round(Math.sqrt(C*C+E*E));C=j,E=j}var S=y*C/2/_,P=y*E/2/_,b=[p[0]-S,p[1]-P,p[0]+S,p[1]+P],O=m.getTileRangeForExtentAndZ(R,x),I={};I[x]={};var M=this.createLoadedTileFinder(f,u,I),U=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;for(var q=O.minX;q<=O.maxX;++q)for(var D=O.minY;D<=O.maxY;++D){var L=this.getTile(x,q,D,r);if(this.isDrawableTile(L)){var F=(0,e.getUid)(this);if(L.getState()==i.default.LOADED){I[x][L.tileCoord.toString()]=L;var k=L.inTransition(F);this.newTiles_||!k&&-1!==this.renderedTiles.indexOf(L)||(this.newTiles_=!0)}if(1===L.getAlpha(F,r.time))continue}var z=m.getTileCoordChildTileRange(L.tileCoord,A,U),Y=!1;z&&(Y=M(x+1,z)),Y||m.forEachTileCoordParentTileRange(L.tileCoord,M,A,U)}var Z=y/h;(0,a.compose)(this.pixelTransform,r.size[0]/2,r.size[1]/2,1/_,1/_,c,-C/2,-E/2);var K=this.createTransformString(this.pixelTransform);this.useContainer(o,K,l.opacity);var X=this.context,G=X.canvas;(0,a.makeInverse)(this.inversePixelTransform,this.pixelTransform),(0,a.compose)(this.tempTransform_,C/2,E/2,Z,Z,0,-C/2,-E/2),G.width!=C||G.height!=E?(G.width=C,G.height=E):this.containerReused||X.clearRect(0,0,C,E),w&&this.clipUnrotated(X,r,w),this.preRender(X,r),this.renderedTiles.length=0;var Q,W,N,B=Object.keys(I).map(Number);B.sort(s.numberSafeCompareFunction),1!==l.opacity||this.containerReused&&!f.getOpaque(r.viewState.projection)?(Q=[],W=[]):B=B.reverse();for(var H=B.length-1;H>=0;--H){var J=B[H],V=f.getTilePixelSize(J,g,u),$=m.getResolution(J)/y,ee=V[0]*$*Z,te=V[1]*$*Z,re=m.getTileCoordForCoordAndZ((0,n.getTopLeft)(b),J),ie=m.getTileCoordExtent(re),ne=(0,a.apply)(this.tempTransform_,[_*(ie[0]-b[0])/y,_*(b[3]-ie[3])/y]),oe=_*f.getGutterForProjection(u),ae=I[J];for(var se in ae){var le=(L=ae[se]).tileCoord,de=ne[0]-(re[1]-le[1])*ee,ue=Math.round(de+ee),he=ne[1]-(re[2]-le[2])*te,pe=Math.round(he+te),ce=ue-(q=Math.round(de)),ge=pe-(D=Math.round(he)),Te=x===J;if(!(k=Te&&1!==L.getAlpha((0,e.getUid)(this),r.time)))if(Q){X.save(),N=[q,D,q+ce,D,q+ce,D+ge,q,D+ge];for(var fe=0,ve=Q.length;fe<ve;++fe)if(x!==J&&J<W[fe]){var me=Q[fe];X.beginPath(),X.moveTo(N[0],N[1]),X.lineTo(N[2],N[3]),X.lineTo(N[4],N[5]),X.lineTo(N[6],N[7]),X.moveTo(me[6],me[7]),X.lineTo(me[4],me[5]),X.lineTo(me[2],me[3]),X.lineTo(me[0],me[1]),X.clip()}Q.push(N),W.push(J)}else X.clearRect(q,D,ce,ge);this.drawTileImage(L,r,q,D,ce,ge,oe,Te,l.opacity),Q&&!k&&X.restore(),this.renderedTiles.push(L),this.updateUsedTiles(r.usedTiles,f,L)}}return this.renderedRevision=v,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!(0,n.equals)(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=g,this.renderedProjection=u,this.manageTilePyramid(r,f,m,g,u,R,x,T.getPreload()),this.updateCacheSize_(r,f),this.scheduleExpireCache(r,f),this.postRender(X,r),l.extent&&X.restore(),K!==G.style.transform&&(G.style.transform=K),this.container},l.prototype.drawTileImage=function(t,r,i,n,o,a,s,l,d){var u=this.getTileImage(t);if(u){var h=(0,e.getUid)(this),p=l?t.getAlpha(h,r.time):1,c=d*p,g=c!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,i,n,o,a),g&&this.context.restore(),1!==p?r.animate=!0:l&&t.endTransition(h)}},l.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},l.prototype.getTileImage=function(e){return e.getImage()},l.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=function(t,r,i){var n=(0,e.getUid)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,r);t.postRenderFunctions.push(i)}},l.prototype.updateUsedTiles=function(t,r,i){var n=(0,e.getUid)(r);n in t||(t[n]={}),t[n][i.getKey()]=!0},l.prototype.updateCacheSize_=function(t,r){var i=(0,e.getUid)(r),n=0;i in t.usedTiles&&(n+=Object.keys(t.usedTiles[i]).length),i in t.wantedTiles&&(n+=Object.keys(t.wantedTiles[i]).length);var o=r.tileCache;o.highWaterMark<n&&(o.highWaterMark=n)},l.prototype.manageTilePyramid=function(t,r,n,o,a,s,l,d,u){var h=(0,e.getUid)(r);h in t.wantedTiles||(t.wantedTiles[h]={});var p,c,g,T,f,v,m=t.wantedTiles[h],x=t.tileQueue;for(v=n.getMinZoom();v<=l;++v)for(c=n.getTileRangeForExtentAndZ(s,v,c),g=n.getResolution(v),T=c.minX;T<=c.maxX;++T)for(f=c.minY;f<=c.maxY;++f)l-v<=d?((p=r.getTile(v,T,f,o,a)).getState()==i.default.IDLE&&(m[p.getKey()]=!0,x.isKeyQueued(p.getKey())||x.enqueue([p,h,n.getTileCoordCenter(p.tileCoord),g])),void 0!==u&&u(p)):r.useTile(v,T,f,a)},l}(o.default);u.prototype.getLayer;var h=u;exports.default=h;
},{"../../util.js":"KniQ","../../proj.js":"Diht","../../TileRange.js":"snev","../../TileState.js":"Xz9x","../../extent.js":"QDir","./Layer.js":"vPfl","../../transform.js":"P4eA","../../array.js":"luEr"}],"BUEc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./BaseTile.js")),t=r(require("../renderer/canvas/TileLayer.js"));function r(e){return e&&e.__esModule?e:{default:e}}var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(e){function r(t){return e.call(this,t)||this}return n(r,e),r.prototype.createRenderer=function(){return new t.default(this)},r}(e.default),u=o;exports.default=u;
},{"./BaseTile.js":"HTO1","../renderer/canvas/TileLayer.js":"hkMV"}],"sV2m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=require("../asserts.js"),r=c(require("../Feature.js")),o=c(require("../geom/GeometryType.js")),s=require("../coordinate.js"),i=c(require("../events/EventType.js")),n=require("../extent.js"),u=c(require("../geom/Point.js")),a=c(require("./Vector.js"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=function(a){function c(e){var r=a.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==e.distance?e.distance:20,r.features=[],r.geometryFunction=e.geometryFunction||function(e){var r=e.getGeometry();return(0,t.assert)(r.getType()==o.default.POINT,10),r},r.source=e.source,r.source.addEventListener(i.default.CHANGE,r.refresh.bind(r)),r}return f(c,a),c.prototype.getDistance=function(){return this.distance},c.prototype.getSource=function(){return this.source},c.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},c.prototype.setDistance=function(e){this.distance=e,this.refresh()},c.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},c.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,n.createEmpty)(),r=this.distance*this.resolution,o=this.source.getFeatures(),s={},i=0,u=o.length;i<u;i++){var a=o[i];if(!((0,e.getUid)(a)in s)){var c=this.geometryFunction(a);if(c){var f=c.getCoordinates();(0,n.createOrUpdateFromCoordinate)(f,t),(0,n.buffer)(t,r,t);var d=this.source.getFeaturesInExtent(t);d=d.filter(function(t){var r=(0,e.getUid)(t);return!(r in s)&&(s[r]=!0,!0)}),this.features.push(this.createCluster(d))}}}}},c.prototype.createCluster=function(e){for(var t=[0,0],o=e.length-1;o>=0;--o){var i=this.geometryFunction(e[o]);i?(0,s.add)(t,i.getCoordinates()):e.splice(o,1)}(0,s.scale)(t,1/e.length);var n=new r.default(new u.default(t));return n.set("features",e),n},c}(a.default),h=d;exports.default=h;
},{"../util.js":"KniQ","../asserts.js":"fLG6","../Feature.js":"mYW9","../geom/GeometryType.js":"lmV0","../coordinate.js":"nGsj","../events/EventType.js":"C8cu","../extent.js":"QDir","../geom/Point.js":"gLcY","./Vector.js":"ZS12"}],"fF5X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENABLE_RASTER_REPROJECTION=exports.ERROR_THRESHOLD=void 0;var R=.5;exports.ERROR_THRESHOLD=R;var E=!0;exports.ENABLE_RASTER_REPROJECTION=E;
},{}],"U255":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSourceResolution=n,exports.render=i;var e=require("./dom.js"),t=require("./extent.js"),r=require("./math.js"),a=require("./proj.js");function n(e,r,n,o){var i=(0,a.transform)(n,r,e),s=(0,a.getPointResolution)(r,o,n),u=r.getMetersPerUnit();void 0!==u&&(s*=u);var c=e.getMetersPerUnit();void 0!==c&&(s/=c);var v=e.getExtent();if(!v||(0,t.containsCoordinate)(v,i)){var g=(0,a.getPointResolution)(e,s,i)/s;isFinite(g)&&g>0&&(s/=g)}return s}function o(e,t,r,a){var n=r-e,o=a-t,i=Math.sqrt(n*n+o*o);return[Math.round(r+n/i),Math.round(a+o/i)]}function i(a,n,i,s,u,c,v,g,h,l,d){var f=(0,e.createCanvasContext2D)(Math.round(i*a),Math.round(i*n));if(0===h.length)return f.canvas;f.scale(i,i);var m=(0,t.createEmpty)();h.forEach(function(e,r,a){(0,t.extend)(m,e.extent)});var x=(0,t.getWidth)(m),M=(0,t.getHeight)(m),T=(0,e.createCanvasContext2D)(Math.round(i*x/s),Math.round(i*M/s)),p=i/s;h.forEach(function(e,r,a){var n=e.extent[0]-m[0],o=-(e.extent[3]-m[3]),i=(0,t.getWidth)(e.extent),s=(0,t.getHeight)(e.extent);T.drawImage(e.image,l,l,e.image.width-2*l,e.image.height-2*l,n*p,o*p,i*p,s*p)});var P=(0,t.getTopLeft)(v);return g.getTriangles().forEach(function(e,t,a){var n=e.source,u=e.target,v=n[0][0],g=n[0][1],h=n[1][0],l=n[1][1],d=n[2][0],x=n[2][1],M=(u[0][0]-P[0])/c,p=-(u[0][1]-P[1])/c,j=(u[1][0]-P[0])/c,E=-(u[1][1]-P[1])/c,q=(u[2][0]-P[0])/c,C=-(u[2][1]-P[1])/c,b=v,y=g;v=0,g=0;var k=[[h-=b,l-=y,0,0,j-M],[d-=b,x-=y,0,0,q-M],[0,0,h,l,E-p],[0,0,d,x,C-p]],w=(0,r.solveLinearSystem)(k);if(w){f.save(),f.beginPath();var R=(M+j+q)/3,S=(p+E+C)/3,W=o(R,S,M,p),D=o(R,S,j,E),H=o(R,S,q,C);f.moveTo(D[0],D[1]),f.lineTo(W[0],W[1]),f.lineTo(H[0],H[1]),f.clip(),f.transform(w[0],w[2],w[1],w[3],M,p),f.translate(m[0]-b,m[3]-y),f.scale(s/i,-s/i),f.drawImage(T.canvas,0,0),f.restore()}}),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,g.getTriangles().forEach(function(e,t,r){var a=e.target,n=(a[0][0]-P[0])/c,o=-(a[0][1]-P[1])/c,i=(a[1][0]-P[0])/c,s=-(a[1][1]-P[1])/c,u=(a[2][0]-P[0])/c,v=-(a[2][1]-P[1])/c;f.beginPath(),f.moveTo(i,s),f.lineTo(n,o),f.lineTo(u,v),f.closePath(),f.stroke()}),f.restore()),f.canvas}
},{"./dom.js":"Xno5","./extent.js":"QDir","./math.js":"B96G","./proj.js":"Diht"}],"BiRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),r=require("../math.js"),i=require("../proj.js"),e=10,s=.25,o=function(){function o(r,s,o,n,a){this.sourceProj_=r,this.targetProj_=s;var h={},u=(0,i.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+"/"+t[1];return h[r]||(h[r]=u(t)),h[r]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,t.getWidth)(n)==(0,t.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,t.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,t.getWidth)(this.targetProj_.getExtent()):null;var d=(0,t.getTopLeft)(o),c=(0,t.getTopRight)(o),_=(0,t.getBottomRight)(o),l=(0,t.getBottomLeft)(o),f=this.transformInv_(d),g=this.transformInv_(c),W=this.transformInv_(_),v=this.transformInv_(l);if(this.addQuad_(d,c,_,l,f,g,W,v,e),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,r,i){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-m>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-m>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-m>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);var i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}}.bind(this))}h={}}return o.prototype.addTriangle_=function(t,r,i,e,s,o){this.triangles_.push({source:[e,s,o],target:[t,r,i]})},o.prototype.addQuad_=function(i,e,o,n,a,h,u,d,c){var _=(0,t.boundingExtent)([a,h,u,d]),l=this.sourceWorldWidth_?(0,t.getWidth)(_)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&l>.5&&l<1,W=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,t.boundingExtent)([i,e,o,n]);W=(0,t.getWidth)(v)/this.targetWorldWidth_>s||W}!g&&this.sourceProj_.isGlobal()&&l&&(W=l>s||W)}if(W||!this.maxSourceExtent_||(0,t.intersects)(_,this.maxSourceExtent_)){if(!(W||isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(d[0])&&isFinite(d[1]))){if(!(c>0))return;W=!0}if(c>0){if(!W){var m=[(i[0]+o[0])/2,(i[1]+o[1])/2],p=this.transformInv_(m),x=void 0;if(g)x=((0,r.modulo)(a[0],f)+(0,r.modulo)(u[0],f))/2-(0,r.modulo)(p[0],f);else x=(a[0]+u[0])/2-p[0];var j=(a[1]+u[1])/2-p[1];W=x*x+j*j>this.errorThresholdSquared_}if(W){if(Math.abs(i[0]-o[0])<=Math.abs(i[1]-o[1])){var E=[(e[0]+o[0])/2,(e[1]+o[1])/2],I=this.transformInv_(E),P=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(P);this.addQuad_(i,e,E,P,a,h,I,S,c-1),this.addQuad_(P,E,o,n,S,I,u,d,c-1)}else{var T=[(i[0]+e[0])/2,(i[1]+e[1])/2],b=this.transformInv_(T),F=[(o[0]+n[0])/2,(o[1]+n[1])/2],M=this.transformInv_(F);this.addQuad_(i,T,F,n,a,b,M,d,c-1),this.addQuad_(T,e,o,F,b,h,u,M,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(i,o,n,a,u,d),this.addTriangle_(i,e,o,a,h,u)}},o.prototype.calculateSourceExtent=function(){var r=(0,t.createEmpty)();return this.triangles_.forEach(function(i,e,s){var o=i.source;(0,t.extendCoordinate)(r,o[0]),(0,t.extendCoordinate)(r,o[1]),(0,t.extendCoordinate)(r,o[2])}),r},o.prototype.getTriangles=function(){return this.triangles_},o}(),n=o;exports.default=n;
},{"../extent.js":"QDir","../math.js":"B96G","../proj.js":"Diht"}],"WlOd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=l(require("../Tile.js")),r=l(require("../TileState.js")),i=require("../events.js"),s=l(require("../events/EventType.js")),o=require("../extent.js"),n=require("../math.js"),a=require("../reproj.js"),u=l(require("./Triangulation.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),d=function(t){function l(i,s,l,c,d,_,f,h,p,g,T){var E=t.call(this,d,r.default.IDLE)||this;E.renderEdges_=void 0!==T&&T,E.pixelRatio_=f,E.gutter_=h,E.canvas_=null,E.sourceTileGrid_=s,E.targetTileGrid_=c,E.wrappedTileCoord_=_||d,E.sourceTiles_=[],E.sourcesListenerKeys_=null,E.sourceZ_=0;var v=c.getTileCoordExtent(E.wrappedTileCoord_),y=E.targetTileGrid_.getExtent(),x=E.sourceTileGrid_.getExtent(),R=y?(0,o.getIntersection)(v,y):v;if(0===(0,o.getArea)(R))return E.state=r.default.EMPTY,E;var j=i.getExtent();j&&(x=x?(0,o.getIntersection)(x,j):j);var L=c.getResolution(E.wrappedTileCoord_[0]),m=(0,o.getCenter)(R),O=(0,a.calculateSourceResolution)(i,l,m,L);if(!isFinite(O)||O<=0)return E.state=r.default.EMPTY,E;var D=void 0!==g?g:e.ERROR_THRESHOLD;if(E.triangulation_=new u.default(i,l,R,x,O*D),0===E.triangulation_.getTriangles().length)return E.state=r.default.EMPTY,E;E.sourceZ_=s.getZForResolution(O);var G=E.triangulation_.calculateSourceExtent();if(x&&(i.canWrapX()?(G[1]=(0,n.clamp)(G[1],x[1],x[3]),G[3]=(0,n.clamp)(G[3],x[1],x[3])):G=(0,o.getIntersection)(G,x)),(0,o.getArea)(G)){for(var I=s.getTileRangeForExtentAndZ(G,E.sourceZ_),S=I.minX;S<=I.maxX;S++)for(var A=I.minY;A<=I.maxY;A++){var C=p(E.sourceZ_,S,A,f);C&&E.sourceTiles_.push(C)}0===E.sourceTiles_.length&&(E.state=r.default.EMPTY)}else E.state=r.default.EMPTY;return E}return c(l,t),l.prototype.disposeInternal=function(){this.state==r.default.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},l.prototype.getImage=function(){return this.canvas_},l.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,i,s){t&&t.getState()==r.default.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=r.default.ERROR;else{var t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),s="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],n=this.targetTileGrid_.getResolution(t),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,a.render)(s,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),n,l,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=r.default.LOADED}this.changed()},l.prototype.load=function(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,o,n){var a=t.getState();if(a==r.default.IDLE||a==r.default.LOADING){e++;var u=(0,i.listen)(t,s.default.CHANGE,function(s){var o=t.getState();o!=r.default.LOADED&&o!=r.default.ERROR&&o!=r.default.EMPTY||((0,i.unlistenByKey)(u),0===--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach(function(e,t,i){e.getState()==r.default.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},l.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(i.unlistenByKey),this.sourcesListenerKeys_=null},l}(t.default),_=d;exports.default=_;
},{"./common.js":"fF5X","../Tile.js":"IWZI","../TileState.js":"Xz9x","../events.js":"UqnM","../events/EventType.js":"C8cu","../extent.js":"QDir","../math.js":"B96G","../reproj.js":"U255","./Triangulation.js":"BiRY"}],"p1vZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFromTemplate=n,exports.createFromTemplates=o,exports.createFromTileUrlFunctions=a,exports.nullTileUrlFunction=i,exports.expandUrl=u;var r=require("./asserts.js"),e=require("./math.js"),t=require("./tilecoord.js");function n(e,t){var n=/\{z\}/g,o=/\{x\}/g,a=/\{y\}/g,i=/\{-y\}/g;return function(u,c,l){return u?e.replace(n,u[0].toString()).replace(o,u[1].toString()).replace(a,u[2].toString()).replace(i,function(){var e=u[0],n=t.getFullTileRange(e);return(0,r.assert)(n,55),(n.getHeight()-u[2]-1).toString()}):void 0}}function o(r,e){for(var t=r.length,o=new Array(t),i=0;i<t;++i)o[i]=n(r[i],e);return a(o)}function a(r){return 1===r.length?r[0]:function(n,o,a){if(n){var i=(0,t.hash)(n),u=(0,e.modulo)(i,r.length);return r[u](n,o,a)}}}function i(r,e,t){}function u(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var n=t[1].charCodeAt(0),o=t[2].charCodeAt(0),a=void 0;for(a=n;a<=o;++a)e.push(r.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r)){for(var i=parseInt(t[2],10),u=parseInt(t[1],10);u<=i;u++)e.push(r.replace(t[0],u.toString()));return e}return e.push(r),e}
},{"./asserts.js":"fLG6","./math.js":"B96G","./tilecoord.js":"faTr"}],"dpZ6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=require("../asserts.js"),i=h(require("../TileRange.js")),o=require("../array.js"),r=require("../extent.js"),n=require("../math.js"),s=require("../size.js"),l=require("../tilecoord.js");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function h(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=o?Object.getOwnPropertyDescriptor(t,r):null;n&&(n.get||n.set)?Object.defineProperty(i,r,n):i[r]=t[r]}return i.default=t,e&&e.set(t,i),i}var a=[0,0,0],g=function(){function u(n){var s;if(this.minZoom=void 0!==n.minZoom?n.minZoom:0,this.resolutions_=n.resolutions,(0,e.assert)((0,o.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!n.origins)for(var l=0,u=this.resolutions_.length-1;l<u;++l)if(s){if(this.resolutions_[l]/this.resolutions_[l+1]!==s){s=void 0;break}}else s=this.resolutions_[l]/this.resolutions_[l+1];this.zoomFactor_=s,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==n.origin?n.origin:null,this.origins_=null,void 0!==n.origins&&(this.origins_=n.origins,(0,e.assert)(this.origins_.length==this.resolutions_.length,20));var h=n.extent;void 0===h||this.origin_||this.origins_||(this.origin_=(0,r.getTopLeft)(h)),(0,e.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==n.tileSizes&&(this.tileSizes_=n.tileSizes,(0,e.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==n.tileSize?n.tileSize:this.tileSizes_?null:t.DEFAULT_TILE_SIZE,(0,e.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==h?h:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==n.sizes?this.fullTileRanges_=n.sizes.map(function(t,e){return new i.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):h&&this.calculateTileRanges_(h)}return u.prototype.forEachTileCoord=function(t,e,i){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,l=o.maxY;s<=l;++s)i([e,r,s])},u.prototype.forEachTileCoordParentTileRange=function(t,e,o,r){var n,s,l,u=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],l=t[2]):u=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),l=Math.floor(l/2),n=(0,i.createOrUpdate)(s,s,l,l,o)):n=this.getTileRangeForExtentAndZ(u,h,o),e(h,n))return!0;--h}return!1},u.prototype.getExtent=function(){return this.extent_},u.prototype.getMaxZoom=function(){return this.maxZoom},u.prototype.getMinZoom=function(){return this.minZoom},u.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},u.prototype.getResolution=function(t){return this.resolutions_[t]},u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.getTileCoordChildTileRange=function(t,e,o){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return(0,i.createOrUpdate)(r,r+1,n,n+1,e)}var s=this.getTileCoordExtent(t,o);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},u.prototype.getTileRangeExtent=function(t,e,i){var o=this.getOrigin(t),n=this.getResolution(t),l=(0,s.toSize)(this.getTileSize(t),this.tmpSize_),u=o[0]+e.minX*l[0]*n,h=o[0]+(e.maxX+1)*l[0]*n,a=o[1]+e.minY*l[1]*n,g=o[1]+(e.maxY+1)*l[1]*n;return(0,r.createOrUpdate)(u,a,h,g,i)},u.prototype.getTileRangeForExtentAndZ=function(t,e,o){var r=a;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var n=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),(0,i.createOrUpdate)(n,r[1],s,r[2],o)},u.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*i,e[1]-(t[2]+.5)*o[1]*i]},u.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),o=this.getResolution(t[0]),n=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_),l=i[0]+t[1]*n[0]*o,u=i[1]-(t[2]+1)*n[1]*o,h=l+n[0]*o,a=u+n[1]*o;return(0,r.createOrUpdate)(l,u,h,a,e)},u.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordForXYAndResolution_=function(t,e,i,o,r){var n=this.getZForResolution(i),u=i/this.getResolution(n),h=this.getOrigin(n),a=(0,s.toSize)(this.getTileSize(n),this.tmpSize_),g=o?.5:0,p=o?.5:0,f=Math.floor((t-h[0])/i+g),_=Math.floor((h[1]-e)/i+p),c=u*f/a[0],d=u*_/a[1];return o?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d)),(0,l.createOrUpdate)(n,c,d,r)},u.prototype.getTileCoordForXYAndZ_=function(t,e,i,o,r){var n=this.getOrigin(i),u=this.getResolution(i),h=(0,s.toSize)(this.getTileSize(i),this.tmpSize_),a=o?.5:0,g=o?.5:0,p=Math.floor((t-n[0])/u+a),f=Math.floor((n[1]-e)/u+g),_=p/h[0],c=f/h[1];return o?(_=Math.ceil(_)-1,c=Math.ceil(c)-1):(_=Math.floor(_),c=Math.floor(c)),(0,l.createOrUpdate)(i,_,c,r)},u.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},u.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},u.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},u.prototype.getZForResolution=function(t,e){var i=(0,o.linearFindNearest)(this.resolutions_,t,e||0);return(0,n.clamp)(i,this.minZoom,this.maxZoom)},u.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),o=this.minZoom;o<e;++o)i[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=i},u}(),p=g;exports.default=p;
},{"./common.js":"mOEX","../asserts.js":"fLG6","../TileRange.js":"snev","../array.js":"luEr","../extent.js":"QDir","../math.js":"B96G","../size.js":"TAHd","../tilecoord.js":"faTr"}],"ExRx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getForProjection=s,exports.wrapX=d,exports.createForExtent=l,exports.createXYZ=c,exports.createForProjection=x,exports.extentFromProjection=g;var e=require("./tilegrid/common.js"),t=require("./size.js"),r=require("./extent.js"),i=a(require("./extent/Corner.js")),o=require("./proj.js"),n=a(require("./proj/Units.js")),u=a(require("./tilegrid/TileGrid.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getDefaultTileGrid();return t||(t=x(e),e.setDefaultTileGrid(t)),t}function d(e,t,i){var o=t[0],n=e.getTileCoordCenter(t),u=g(i);if((0,r.containsCoordinate)(u,n))return t;var a=(0,r.getWidth)(u),s=Math.ceil((u[0]-n[0])/a);return n[0]+=a*s,e.getTileCoordForCoordAndZ(n,o)}function l(e,t,o,n){var a=void 0!==n?n:i.default.TOP_LEFT,s=f(e,t,o);return new u.default({extent:e,origin:(0,r.getCorner)(e,a),resolutions:s,tileSize:o})}function c(e){var t=e||{},r=t.extent||(0,o.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(r,t.maxZoom,t.tileSize)};return new u.default(i)}function f(i,o,n){for(var u=void 0!==o?o:e.DEFAULT_MAX_ZOOM,a=(0,r.getHeight)(i),s=(0,r.getWidth)(i),d=(0,t.toSize)(void 0!==n?n:e.DEFAULT_TILE_SIZE),l=Math.max(s/d[0],a/d[1]),c=u+1,f=new Array(c),x=0;x<c;++x)f[x]=l/Math.pow(2,x);return f}function x(e,t,r,i){return l(g(e),t,r,i)}function g(e){var t=(e=(0,o.get)(e)).getExtent();if(!t){var i=180*o.METERS_PER_UNIT[n.default.DEGREES]/e.getMetersPerUnit();t=(0,r.createOrUpdate)(-i,-i,i,i)}return t}
},{"./tilegrid/common.js":"mOEX","./size.js":"TAHd","./extent.js":"QDir","./extent/Corner.js":"urGY","./proj.js":"Diht","./proj/Units.js":"yZx6","./tilegrid/TileGrid.js":"dpZ6"}],"JECm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TileSourceEvent=void 0;var e=require("../util.js"),t=c(require("../TileCache.js")),i=c(require("../TileState.js")),r=c(require("../events/Event.js")),o=require("../proj.js"),n=require("../size.js"),u=c(require("./Source.js")),a=require("../tilecoord.js"),l=require("../tilegrid.js");function c(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p=function(r){function u(e){var i=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var o=e.cacheSize;if(void 0===o){var u=[256,256],a=e.tileGrid;a&&(0,n.toSize)(a.getTileSize(a.getMinZoom()),u);var l="undefined"!=typeof screen,c=l?screen.availWidth||screen.width:1920,s=l?screen.availHeight||screen.height:1080;o=4*Math.ceil(c/u[0])*Math.ceil(s/u[1])}return i.tileCache=new t.default(o),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return s(u,r),u.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},u.prototype.expireCache=function(e,t){var i=this.getTileCacheForProjection(e);i&&i.expireCache(t)},u.prototype.forEachLoadedTile=function(e,t,r,o){var n=this.getTileCacheForProjection(e);if(!n)return!1;for(var u,l,c,s=!0,p=r.minX;p<=r.maxX;++p)for(var h=r.minY;h<=r.maxY;++h)l=(0,a.getKeyZXY)(t,p,h),c=!1,n.containsKey(l)&&(c=(u=n.get(l)).getState()===i.default.LOADED)&&(c=!1!==o(u)),c||(s=!1);return s},u.prototype.getGutterForProjection=function(e){return 0},u.prototype.getKey=function(){return this.key_},u.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},u.prototype.getOpaque=function(e){return this.opaque_},u.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},u.prototype.getTile=function(t,i,r,o,n){return(0,e.abstract)()},u.prototype.getTileGrid=function(){return this.tileGrid},u.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:(0,l.getForProjection)(e)},u.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!(0,o.equivalent)(t,e)?null:this.tileCache},u.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},u.prototype.getTilePixelSize=function(e,t,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),u=(0,n.toSize)(r.getTileSize(e),this.tmpSize);return 1==o?u:(0,n.scale)(u,o,this.tmpSize)},u.prototype.getTileCoordForTileUrlFunction=function(e,t){var i=void 0!==t?t:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=(0,l.wrapX)(r,e,i)),(0,a.withinExtentAndZ)(e,r)?e:null},u.prototype.clear=function(){this.tileCache.clear()},u.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},u.prototype.useTile=function(e,t,i,r){},u}(u.default),h=function(e){function t(t,i){var r=e.call(this,t)||this;return r.tile=i,r}return s(t,e),t}(r.default);exports.TileSourceEvent=h;var f=p;exports.default=f;
},{"../util.js":"KniQ","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events/Event.js":"fKNg","../proj.js":"Diht","../size.js":"TAHd","./Source.js":"H38a","../tilecoord.js":"faTr","../tilegrid.js":"ExRx"}],"KXhD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};exports.default=e;
},{}],"uv9E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=s(require("../TileState.js")),i=require("../tileurlfunction.js"),n=u(require("./Tile.js")),r=s(require("./TileEventType.js")),o=require("../tilecoord.js");function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=t[r]}return i.default=t,e&&e.set(t,i),i}function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(l){function u(t){var e=l.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=!t.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,e.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(e):i.nullTileUrlFunction,e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return a(u,l),u.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},u.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},u.prototype.getUrls=function(){return this.urls},u.prototype.handleTileChange=function(i){var o,l=i.target,u=(0,t.getUid)(l),s=l.getState();s==e.default.LOADING?(this.tileLoadingKeys_[u]=!0,o=r.default.TILELOADSTART):u in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[u],o=s==e.default.ERROR?r.default.TILELOADERROR:s==e.default.LOADED||s==e.default.ABORT?r.default.TILELOADEND:void 0),null!=o&&this.dispatchEvent(new n.TileSourceEvent(o,l))},u.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},u.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},u.prototype.setUrl=function(t){var e=(0,i.expandUrl)(t);this.urls=e,this.setUrls(e)},u.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,i.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},u.prototype.useTile=function(t,e,i){var n=(0,o.getKeyZXY)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},u}(n.default),p=c;exports.default=p;
},{"../util.js":"KniQ","../TileState.js":"Xz9x","../tileurlfunction.js":"p1vZ","./Tile.js":"JECm","./TileEventType.js":"KXhD","../tilecoord.js":"faTr"}],"udAI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../reproj/common.js"),t=require("../util.js"),i=u(require("../ImageTile.js")),r=u(require("../TileCache.js")),o=u(require("../TileState.js")),n=u(require("../events/EventType.js")),l=require("../proj.js"),c=u(require("../reproj/Tile.js")),s=u(require("./UrlTile.js")),a=require("../tilecoord.js"),h=require("../tilegrid.js");function u(e){return e&&e.__esModule?e:{default:e}}var p=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),d=function(s){function u(e){var t=s.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return t.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,t.tileClass=void 0!==e.tileClass?e.tileClass:i.default,t.tileCacheForProjection={},t.tileGridForProjection={},t.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,t.renderReprojectionEdges_=!1,t}return p(u,s),u.prototype.canExpireCache=function(){if(!e.ENABLE_RASTER_REPROJECTION)return s.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},u.prototype.expireCache=function(t,i){if(e.ENABLE_RASTER_REPROJECTION){var r=this.getTileCacheForProjection(t);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var n=this.tileCacheForProjection[o];n.expireCache(n==r?i:{})}}else s.prototype.expireCache.call(this,t,i)},u.prototype.getGutterForProjection=function(t){return e.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,l.equivalent)(this.getProjection(),t)?0:this.getGutter()},u.prototype.getGutter=function(){return 0},u.prototype.getOpaque=function(t){return!(e.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,l.equivalent)(this.getProjection(),t))&&s.prototype.getOpaque.call(this,t)},u.prototype.getTileGridForProjection=function(i){if(!e.ENABLE_RASTER_REPROJECTION)return s.prototype.getTileGridForProjection.call(this,i);var r=this.getProjection();if(!this.tileGrid||r&&!(0,l.equivalent)(r,i)){var o=(0,t.getUid)(i);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=(0,h.getForProjection)(i)),this.tileGridForProjection[o]}return this.tileGrid},u.prototype.getTileCacheForProjection=function(i){if(!e.ENABLE_RASTER_REPROJECTION)return s.prototype.getTileCacheForProjection.call(this,i);var o=this.getProjection();if(!o||(0,l.equivalent)(o,i))return this.tileCache;var n=(0,t.getUid)(i);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new r.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},u.prototype.createTile_=function(e,t,i,r,l,c){var s=[e,t,i],a=this.getTileCoordForTileUrlFunction(s,l),h=a?this.tileUrlFunction(a,r,l):void 0,u=new this.tileClass(s,void 0!==h?o.default.IDLE:o.default.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=c,u.addEventListener(n.default.CHANGE,this.handleTileChange.bind(this)),u},u.prototype.getTile=function(t,i,r,o,n){var s=this.getProjection();if(e.ENABLE_RASTER_REPROJECTION&&s&&n&&!(0,l.equivalent)(s,n)){var h=this.getTileCacheForProjection(n),u=[t,i,r],p=void 0,d=(0,a.getKey)(u);h.containsKey(d)&&(p=h.get(d));var E=this.getKey();if(p&&p.key==E)return p;var j=this.getTileGridForProjection(s),f=this.getTileGridForProjection(n),g=this.getTileCoordForTileUrlFunction(u,n),T=new c.default(s,j,n,f,u,g,this.getTilePixelRatio(o),this.getGutter(),function(e,t,i,r){return this.getTileInternal(e,t,i,r,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return T.key=E,p?(T.interimTile=p,T.refreshInterimChain(),h.replace(d,T)):h.set(d,T),T}return this.getTileInternal(t,i,r,o,s||n)},u.prototype.getTileInternal=function(e,t,i,r,n){var l=null,c=(0,a.getKeyZXY)(e,t,i),s=this.getKey();if(this.tileCache.containsKey(c)){if((l=this.tileCache.get(c)).key!=s){var h=l;l=this.createTile_(e,t,i,r,n,s),h.getState()==o.default.IDLE?l.interimTile=h.interimTile:l.interimTile=h,l.refreshInterimChain(),this.tileCache.replace(c,l)}}else l=this.createTile_(e,t,i,r,n,s),this.tileCache.set(c,l);return l},u.prototype.setRenderReprojectionEdges=function(t){if(e.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var i in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},u.prototype.setTileGridForProjection=function(i,r){if(e.ENABLE_RASTER_REPROJECTION){var o=(0,l.get)(i);if(o){var n=(0,t.getUid)(o);n in this.tileGridForProjection||(this.tileGridForProjection[n]=r)}}},u}(s.default);function E(e,t){e.getImage().src=t}var j=d;exports.default=j;
},{"../reproj/common.js":"fF5X","../util.js":"KniQ","../ImageTile.js":"TOsW","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events/EventType.js":"C8cu","../proj.js":"Diht","../reproj/Tile.js":"WlOd","./UrlTile.js":"uv9E","../tilecoord.js":"faTr","../tilegrid.js":"ExRx"}],"knlU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./TileImage.js")),o=require("../tilegrid.js");function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),i=function(t){function e(e){var r=e||{},i=void 0!==r.projection?r.projection:"EPSG:3857",n=void 0!==r.tileGrid?r.tileGrid:(0,o.createXYZ)({extent:(0,o.extentFromProjection)(i),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return r(e,t),e}(t.default),n=i;exports.default=n;
},{"./TileImage.js":"udAI","../tilegrid.js":"ExRx"}],"Rmo4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ATTRIBUTION=void 0;var t=o(require("./XYZ.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){var t=function(o,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])})(o,r)};return function(o,r){function e(){this.constructor=o}t(o,r),o.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),e='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';exports.ATTRIBUTION=e;var n=function(t){function o(o){var r,n=o||{};r=void 0!==n.attributions?n.attributions:[e];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",a=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:a,wrapX:n.wrapX,attributionsCollapsible:!1})||this}return r(o,t),o}(t.default),i=n;exports.default=i;
},{"./XYZ.js":"knlU"}],"dmgW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Feature",{enumerable:!0,get:function(){return e.Feature}}),Object.defineProperty(exports,"Map",{enumerable:!0,get:function(){return e.Map}}),Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return e.View}}),Object.defineProperty(exports,"GeoJSON",{enumerable:!0,get:function(){return r.GeoJSON}}),Object.defineProperty(exports,"Point",{enumerable:!0,get:function(){return t.Point}}),Object.defineProperty(exports,"fromLonLat",{enumerable:!0,get:function(){return n.fromLonLat}}),Object.defineProperty(exports,"getPointResolution",{enumerable:!0,get:function(){return n.getPointResolution}}),Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return o.Circle}}),Object.defineProperty(exports,"Fill",{enumerable:!0,get:function(){return o.Fill}}),Object.defineProperty(exports,"RegularShape",{enumerable:!0,get:function(){return o.RegularShape}}),Object.defineProperty(exports,"Stroke",{enumerable:!0,get:function(){return o.Stroke}}),Object.defineProperty(exports,"Style",{enumerable:!0,get:function(){return o.Style}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return o.Text}}),Object.defineProperty(exports,"TileLayer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"VectorLayer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"ClusterSource",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"OSMSource",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"VectorSource",{enumerable:!0,get:function(){return f.default}});var e=require("ol"),r=require("ol/format"),t=require("ol/geom"),n=require("ol/proj"),o=require("ol/style"),u=p(require("ol/layer/Tile")),i=p(require("ol/layer/Vector")),l=p(require("ol/source/Cluster")),c=p(require("ol/source/OSM")),f=p(require("ol/source/Vector"));function p(e){return e&&e.__esModule?e:{default:e}}
},{"ol":"DRei","ol/format":"NUh6","ol/geom":"V3SP","ol/proj":"Diht","ol/style":"qeKX","ol/layer/Tile":"BUEc","ol/layer/Vector":"dflx","ol/source/Cluster":"sV2m","ol/source/OSM":"Rmo4","ol/source/Vector":"ZS12"}],"UzOB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.xhtml=void 0;var t="http://www.w3.org/1999/xhtml";exports.xhtml=t;var w={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};exports.default=w;
},{}],"OLJ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./namespaces"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=r.slice(0,s))&&(r=r.slice(s+1)),e.default.hasOwnProperty(t)?{space:e.default[t],local:r}:r}
},{"./namespaces":"UzOB"}],"EIjt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=n(require("./namespace")),t=require("./namespaces");function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t.xhtml&&n.documentElement.namespaceURI===t.xhtml?n.createElement(e):n.createElementNS(r,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(t){var n=(0,e.default)(t);return(n.local?u:r)(n)}
},{"./namespace":"OLJ5","./namespaces":"UzOB"}],"xs2I":[function(require,module,exports) {
"use strict";function e(){}function t(t){return null==t?e:function(){return this.querySelector(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"LRy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var e=require("./index"),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function _(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var _=this._groups,a=_.length,n=new Array(a),u=0;u<a;++u)for(var o,i,l=_[u],d=l.length,s=n[u]=new Array(d),f=0;f<d;++f)(o=l[f])&&(i=r.call(o,o.__data__,f,l))&&("__data__"in o&&(i.__data__=o.__data__),s[f]=i);return new e.Selection(n,this._parents)}
},{"./index":"jpDG","../selector":"xs2I"}],"mHY5":[function(require,module,exports) {
"use strict";function e(){return[]}function t(t){return null==t?e:function(){return this.querySelectorAll(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"ijGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./index"),t=r(require("../selectorAll"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var u=this._groups,l=u.length,n=[],o=[],s=0;s<l;++s)for(var a,f=u[s],i=f.length,_=0;_<i;++_)(a=f[_])&&(n.push(r.call(a,a.__data__,_,f)),o.push(a));return new e.Selection(n,o)}
},{"./index":"jpDG","../selectorAll":"mHY5"}],"PkZe":[function(require,module,exports) {
"use strict";function e(e){return function(){return this.matches(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hrVj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./index"),r=t(require("../matcher"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){"function"!=typeof t&&(t=(0,r.default)(t));for(var n=this._groups,u=n.length,a=new Array(u),o=0;o<u;++o)for(var i,l=n[o],s=l.length,f=a[o]=[],_=0;_<s;++_)(i=l[_])&&t.call(i,i.__data__,_,l)&&f.push(i);return new e.Selection(a,this._parents)}
},{"./index":"jpDG","../matcher":"PkZe"}],"NmjR":[function(require,module,exports) {
"use strict";function e(e){return new Array(e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"wXei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.EnterNode=o;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function n(){return new t.Selection(this._enter||this._groups.map(e.default),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};
},{"./sparse":"NmjR","./index":"jpDG"}],"H3qE":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"QmPF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./index"),r=require("./enter"),n=t(require("../constant"));function t(e){return e&&e.__esModule?e:{default:e}}var a="$";function o(e,n,t,a,o,_){for(var l,i=0,u=n.length,f=_.length;i<f;++i)(l=n[i])?(l.__data__=_[i],a[i]=l):t[i]=new r.EnterNode(e,_[i]);for(;i<u;++i)(l=n[i])&&(o[i]=l)}function _(e,n,t,o,_,l,i){var u,f,c,s={},d=n.length,h=l.length,w=new Array(d);for(u=0;u<d;++u)(f=n[u])&&(w[u]=c=a+i.call(f,f.__data__,u,n),c in s?_[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c=a+i.call(e,l[u],u,l)])?(o[u]=f,f.__data__=l[u],s[c]=null):t[u]=new r.EnterNode(e,l[u]);for(u=0;u<d;++u)(f=n[u])&&s[w[u]]===f&&(_[u]=f)}function l(r,t){if(!r)return v=new Array(this.size()),d=-1,this.each(function(e){v[++d]=e}),v;var a=t?_:o,l=this._parents,i=this._groups;"function"!=typeof r&&(r=(0,n.default)(r));for(var u=i.length,f=new Array(u),c=new Array(u),s=new Array(u),d=0;d<u;++d){var h=l[d],w=i[d],y=w.length,v=r.call(h,h&&h.__data__,d,l),g=v.length,A=c[d]=new Array(g),p=f[d]=new Array(g);a(h,w,A,p,s[d]=new Array(y),v,t);for(var x,q,E=0,M=0;E<g;++E)if(x=A[E]){for(E>=M&&(M=E+1);!(q=p[M])&&++M<g;);x._next=q||null}}return(f=new e.Selection(f,l))._enter=c,f._exit=s,f}
},{"./index":"jpDG","./enter":"wXei","../constant":"H3qE"}],"tchs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function u(){return new t.Selection(this._exit||this._groups.map(e.default),this._parents)}
},{"./sparse":"NmjR","./index":"jpDG"}],"oO6z":[function(require,module,exports) {
"use strict";function e(e,t,r){var n=this.enter(),o=this,u=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==r?u.remove():r(u),n&&o?n.merge(o).order():o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"i5nV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./index");function r(r){for(var t=this._groups,n=r._groups,o=t.length,s=n.length,a=Math.min(o,s),i=new Array(o),u=0;u<a;++u)for(var l,f=t[u],h=n[u],p=f.length,g=i[u]=new Array(p),_=0;_<p;++_)(l=f[_]||h[_])&&(g[_]=l);for(;u<o;++u)i[u]=t[u];return new e.Selection(i,this._parents)}
},{"./index":"jpDG"}],"RepQ":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o,n=e[t],s=n.length-1,i=n[s];--s>=0;)(o=n[s])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D8yW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index");function e(e){function n(r,t){return r&&t?e(r.__data__,t.__data__):!r-!t}e||(e=t);for(var a=this._groups,o=a.length,u=new Array(o),_=0;_<o;++_){for(var i,s=a[_],d=s.length,f=u[_]=new Array(d),c=0;c<d;++c)(i=s[c])&&(f[c]=i);f.sort(n)}return new r.Selection(u,this._parents).order()}function t(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}
},{"./index":"jpDG"}],"pbQ4":[function(require,module,exports) {
"use strict";function e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"kO0T":[function(require,module,exports) {
"use strict";function e(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xFUP":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var u=e[r],n=0,o=u.length;n<o;++n){var l=u[n];if(l)return l}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"w9fp":[function(require,module,exports) {
"use strict";function e(){var e=0;return this.each(function(){++e}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"UFOA":[function(require,module,exports) {
"use strict";function e(){return!this.node()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"q4XW":[function(require,module,exports) {
"use strict";function e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var s,a=t[r],l=0,u=a.length;l<u;++l)(s=a[l])&&e.call(s,s.__data__,l,a);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Tdf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=e(require("../namespace"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r(t,e){return function(){this.setAttribute(t,e)}}function i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l(e,l){var a=(0,t.default)(e);if(arguments.length<2){var s=this.node();return a.local?s.getAttributeNS(a.space,a.local):s.getAttribute(a)}return this.each((null==l?a.local?u:n:"function"==typeof l?a.local?c:o:a.local?i:r)(a,l))}
},{"../namespace":"OLJ5"}],"D1dR":[function(require,module,exports) {
"use strict";function e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"VXjm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.styleValue=l;var e=t(require("../window"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o(e,t,o){return arguments.length>1?this.each((null==t?r:"function"==typeof t?u:n)(e,t,null==o?"":o)):l(this.node(),e)}function l(t,r){return t.style.getPropertyValue(r)||(0,e.default)(t).getComputedStyle(t,null).getPropertyValue(r)}
},{"../window":"D1dR"}],"QOWh":[function(require,module,exports) {
"use strict";function t(t){return function(){delete this[t]}}function e(t,e){return function(){this[t]=e}}function n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function u(u,i){return arguments.length>1?this.each((null==i?t:"function"==typeof i?n:e)(u,i)):this.node()[u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;
},{}],"rtNW":[function(require,module,exports) {
"use strict";function t(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new e(t)}function e(n){this._node=n,this._names=t(n.getAttribute("class")||"")}function i(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.add(e[s])}function s(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.remove(e[s])}function r(t){return function(){i(this,t)}}function o(t){return function(){s(this,t)}}function u(t,n){return function(){(n.apply(this,arguments)?i:s)(this,t)}}function f(e,i){var s=t(e+"");if(arguments.length<2){for(var f=n(this.node()),c=-1,a=s.length;++c<a;)if(!f.contains(s[c]))return!1;return!0}return this.each(("function"==typeof i?u:i?r:o)(s,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f,e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};
},{}],"hAJ3":[function(require,module,exports) {
"use strict";function t(){this.textContent=""}function n(t){return function(){this.textContent=t}}function e(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function o(o){return arguments.length?this.each(null==o?t:("function"==typeof o?e:n)(o)):this.node().textContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"FiSM":[function(require,module,exports) {
"use strict";function n(){this.innerHTML=""}function t(n){return function(){this.innerHTML=n}}function e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function i(i){return arguments.length?this.each(null==i?n:("function"==typeof i?e:t)(i)):this.node().innerHTML}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;
},{}],"gvi7":[function(require,module,exports) {
"use strict";function e(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"gv51":[function(require,module,exports) {
"use strict";function e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"efv1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../creator"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r="function"==typeof t?t:(0,e.default)(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}
},{"../creator":"EIjt"}],"ILQF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../creator")),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function u(){return null}function n(r,n){var l="function"==typeof r?r:(0,e.default)(r),o=null==n?u:"function"==typeof n?n:(0,t.default)(n);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}
},{"../creator":"EIjt","../selector":"xs2I"}],"quBB":[function(require,module,exports) {
"use strict";function e(){var e=this.parentNode;e&&e.removeChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"UpcG":[function(require,module,exports) {
"use strict";function e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(n){return this.select(n?t:e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"fuQ8":[function(require,module,exports) {
"use strict";function e(e){return arguments.length?this.property("__data__",e):this.node().__data__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"j4rF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a,exports.customEvent=p,exports.event=void 0;var e={},t=null;if(exports.event=t,"undefined"!=typeof document){var n=document.documentElement;"onmouseenter"in n||(e={mouseenter:"mouseover",mouseleave:"mouseout"})}function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,n,r){return function(i){var o=t;exports.event=t=i;try{e.call(this,this.__data__,n,r)}finally{exports.event=t=o}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function s(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(t,n,o){var s=e.hasOwnProperty(t.type)?r:i;return function(e,r,i){var u,a=this.__on,p=s(n,r,i);if(a)for(var l=0,v=a.length;l<v;++l)if((u=a[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=p,u.capture=o),void(u.value=n);this.addEventListener(t.type,p,o),u={type:t.type,name:t.name,value:n,listener:p,capture:o},a?a.push(u):this.__on=[u]}}function a(e,t,n){var r,i,a=o(e+""),p=a.length;if(!(arguments.length<2)){for(l=t?u:s,null==n&&(n=!1),r=0;r<p;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var v,f=0,c=l.length;f<c;++f)for(r=0,v=l[f];r<p;++r)if((i=a[r]).type===v.type&&i.name===v.name)return v.value}function p(e,n,r,i){var o=t;e.sourceEvent=t,exports.event=t=e;try{return n.apply(r,i)}finally{exports.event=t=o}}
},{}],"enVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../window"));function e(t){return t&&t.__esModule?t:{default:t}}function n(e,n,u){var i=(0,t.default)(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,u):(r=i.document.createEvent("Event"),u?(r.initEvent(n,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function u(t,e){return function(){return n(this,t,e)}}function i(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function r(t,e){return this.each(("function"==typeof e?i:u)(t,e))}
},{"../window":"D1dR"}],"jpDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selection=B,exports.default=exports.root=void 0;var e=S(require("./select")),r=S(require("./selectAll")),t=S(require("./filter")),u=S(require("./data")),l=S(require("./enter")),a=S(require("./exit")),d=S(require("./join")),i=S(require("./merge")),o=S(require("./order")),f=S(require("./sort")),s=S(require("./call")),n=S(require("./nodes")),q=S(require("./node")),p=S(require("./size")),c=S(require("./empty")),m=S(require("./each")),x=S(require("./attr")),y=S(require("./style")),h=S(require("./property")),v=S(require("./classed")),_=S(require("./text")),g=S(require("./html")),j=S(require("./raise")),w=S(require("./lower")),z=S(require("./append")),A=S(require("./insert")),M=S(require("./remove")),b=S(require("./clone")),E=S(require("./datum")),O=S(require("./on")),P=S(require("./dispatch"));function S(e){return e&&e.__esModule?e:{default:e}}var k=[null];function B(e,r){this._groups=e,this._parents=r}function C(){return new B([[document.documentElement]],k)}exports.root=k,B.prototype=C.prototype={constructor:B,select:e.default,selectAll:r.default,filter:t.default,data:u.default,enter:l.default,exit:a.default,join:d.default,merge:i.default,order:o.default,sort:f.default,call:s.default,nodes:n.default,node:q.default,size:p.default,empty:c.default,each:m.default,attr:x.default,style:y.default,property:h.default,classed:v.default,text:_.default,html:g.default,raise:j.default,lower:w.default,append:z.default,insert:A.default,remove:M.default,clone:b.default,datum:E.default,on:O.default,dispatch:P.default};var D=C;exports.default=D;
},{"./select":"LRy5","./selectAll":"ijGs","./filter":"hrVj","./data":"QmPF","./enter":"wXei","./exit":"tchs","./join":"oO6z","./merge":"i5nV","./order":"RepQ","./sort":"D8yW","./call":"pbQ4","./nodes":"kO0T","./node":"xFUP","./size":"w9fp","./empty":"UFOA","./each":"q4XW","./attr":"Tdf9","./style":"VXjm","./property":"QOWh","./classed":"rtNW","./text":"hAJ3","./html":"FiSM","./raise":"gvi7","./lower":"gv51","./append":"efv1","./insert":"ILQF","./remove":"quBB","./clone":"UpcG","./datum":"fuQ8","./on":"j4rF","./dispatch":"enVu"}],"iTOx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([[document.querySelector(t)]],[document.documentElement]):new e.Selection([[t]],e.root)}
},{"./selection/index":"jpDG"}],"tmZM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./creator")),t=r(require("./select"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,t.default)((0,e.default)(r).call(document.documentElement))}
},{"./creator":"EIjt","./select":"iTOx"}],"JuPP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=0;function e(){return new r}function r(){this._="@"+(++t).toString(36)}r.prototype=e.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};
},{}],"mu9P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./selection/on");function r(){for(var r,t=e.event;r=t.sourceEvent;)t=r;return t}
},{"./selection/on":"j4rF"}],"ZIl1":[function(require,module,exports) {
"use strict";function e(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"lbxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./sourceEvent")),u=r(require("./point"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=(0,e.default)();return t.changedTouches&&(t=t.changedTouches[0]),(0,u.default)(r,t)}
},{"./sourceEvent":"mu9P","./point":"ZIl1"}],"toE0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([document.querySelectorAll(t)],[document.documentElement]):new e.Selection([null==t?[]:t],e.root)}
},{"./selection/index":"jpDG"}],"Mh7G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){arguments.length<3&&(n=u,u=(0,e.default)().changedTouches);for(var i,l=0,o=u?u.length:0;l<o;++l)if((i=u[l]).identifier===n)return(0,r.default)(t,i);return null}
},{"./sourceEvent":"mu9P","./point":"ZIl1"}],"RG1U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){null==u&&(u=(0,e.default)().touches);for(var n=0,o=u?u.length:0,l=new Array(o);n<o;++n)l[n]=(0,r.default)(t,u[n]);return l}
},{"./sourceEvent":"mu9P","./point":"ZIl1"}],"lm1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"creator",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"local",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"matcher",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"mouse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"namespace",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"namespaces",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"clientPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"select",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"selectAll",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"selection",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"selector",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"selectorAll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return d.styleValue}}),Object.defineProperty(exports,"touch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"touches",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"event",{enumerable:!0,get:function(){return x.event}}),Object.defineProperty(exports,"customEvent",{enumerable:!0,get:function(){return x.customEvent}});var e=P(require("./create")),t=P(require("./creator")),r=P(require("./local")),n=P(require("./matcher")),u=P(require("./mouse")),o=P(require("./namespace")),c=P(require("./namespaces")),i=P(require("./point")),l=P(require("./select")),f=P(require("./selectAll")),a=P(require("./selection/index")),s=P(require("./selector")),p=P(require("./selectorAll")),d=require("./selection/style"),b=P(require("./touch")),m=P(require("./touches")),y=P(require("./window")),x=require("./selection/on");function P(e){return e&&e.__esModule?e:{default:e}}
},{"./create":"tmZM","./creator":"EIjt","./local":"JuPP","./matcher":"PkZe","./mouse":"lbxf","./namespace":"OLJ5","./namespaces":"UzOB","./point":"ZIl1","./select":"iTOx","./selectAll":"toE0","./selection/index":"jpDG","./selector":"xs2I","./selectorAll":"mHY5","./selection/style":"VXjm","./touch":"Mh7G","./touches":"RG1U","./window":"D1dR","./selection/on":"j4rF"}],"SCWu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var n={},r={},t=34,e=10,o=13;function u(n){return new Function("d","return {"+n.map(function(n,r){return JSON.stringify(n)+": d["+r+'] || ""'}).join(",")+"}")}function i(n,r){var t=u(n);return function(e,o){return r(t(e),o,n)}}function a(n){var r=Object.create(null),t=[];return n.forEach(function(n){for(var e in n)e in r||t.push(r[e]=e)}),t}function c(n,r){var t=n+"",e=t.length;return e<r?new Array(r-e+1).join(0)+t:t}function f(n){return n<0?"-"+c(-n,6):n>9999?"+"+c(n,6):c(n,4)}function l(n){var r=n.getUTCHours(),t=n.getUTCMinutes(),e=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":f(n.getUTCFullYear(),4)+"-"+c(n.getUTCMonth()+1,2)+"-"+c(n.getUTCDate(),2)+(o?"T"+c(r,2)+":"+c(t,2)+":"+c(e,2)+"."+c(o,3)+"Z":e?"T"+c(r,2)+":"+c(t,2)+":"+c(e,2)+"Z":t||r?"T"+c(r,2)+":"+c(t,2)+"Z":"")}function s(c){var f=new RegExp('["'+c+"\n\r]"),s=c.charCodeAt(0);function d(u,i){var a,c=[],f=u.length,l=0,d=0,h=f<=0,p=!1;function C(){if(h)return r;if(p)return p=!1,n;var i,a,c=l;if(u.charCodeAt(c)===t){for(;l++<f&&u.charCodeAt(l)!==t||u.charCodeAt(++l)===t;);return(i=l)>=f?h=!0:(a=u.charCodeAt(l++))===e?p=!0:a===o&&(p=!0,u.charCodeAt(l)===e&&++l),u.slice(c+1,i-1).replace(/""/g,'"')}for(;l<f;){if((a=u.charCodeAt(i=l++))===e)p=!0;else if(a===o)p=!0,u.charCodeAt(l)===e&&++l;else if(a!==s)continue;return u.slice(c,i)}return h=!0,u.slice(c,f)}for(u.charCodeAt(f-1)===e&&--f,u.charCodeAt(f-1)===o&&--f;(a=C())!==r;){for(var g=[];a!==n&&a!==r;)g.push(a),a=C();i&&null==(g=i(g,d++))||c.push(g)}return c}function h(n,r){return n.map(function(n){return r.map(function(r){return C(n[r])}).join(c)})}function p(n){return n.map(C).join(c)}function C(n){return null==n?"":n instanceof Date?l(n):f.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,r){var t,e,o=d(n,function(n,o){if(t)return t(n,o-1);e=n,t=r?i(n,r):u(n)});return o.columns=e||[],o},parseRows:d,format:function(n,r){return null==r&&(r=a(n)),[r.map(C).join(c)].concat(h(n,r)).join("\n")},formatBody:function(n,r){return null==r&&(r=a(n)),h(n,r).join("\n")},formatRows:function(n){return n.map(p).join("\n")},formatRow:p,formatValue:C}}
},{}],"mU2J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.csvFormatValue=exports.csvFormatRow=exports.csvFormatRows=exports.csvFormatBody=exports.csvFormat=exports.csvParseRows=exports.csvParse=void 0;var r=o(require("./dsv.js"));function o(r){return r&&r.__esModule?r:{default:r}}var s=(0,r.default)(","),e=s.parse;exports.csvParse=e;var t=s.parseRows;exports.csvParseRows=t;var a=s.format;exports.csvFormat=a;var v=s.formatBody;exports.csvFormatBody=v;var p=s.formatRows;exports.csvFormatRows=p;var c=s.formatRow;exports.csvFormatRow=c;var m=s.formatValue;exports.csvFormatValue=m;
},{"./dsv.js":"SCWu"}],"zpVZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tsvFormatValue=exports.tsvFormatRow=exports.tsvFormatRows=exports.tsvFormatBody=exports.tsvFormat=exports.tsvParseRows=exports.tsvParse=void 0;var t=r(require("./dsv.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,t.default)("\t"),s=o.parse;exports.tsvParse=s;var e=o.parseRows;exports.tsvParseRows=e;var a=o.format;exports.tsvFormat=a;var v=o.formatBody;exports.tsvFormatBody=v;var p=o.formatRows;exports.tsvFormatRows=p;var m=o.formatRow;exports.tsvFormatRow=m;var x=o.formatValue;exports.tsvFormatValue=x;
},{"./dsv.js":"SCWu"}],"bjLa":[function(require,module,exports) {
"use strict";function e(e){for(var r in e){var a,s,d=e[r].trim();if(d)if("true"===d)d=!0;else if("false"===d)d=!1;else if("NaN"===d)d=NaN;else if(isNaN(a=+d)){if(!(s=d.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;t&&s[4]&&!s[7]&&(d=d.replace(/-/g,"/").replace(/T/," ")),d=new Date(d)}else d=a;else d=null;e[r]=d}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();
},{}],"mQVF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"dsvFormat",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"csvParse",{enumerable:!0,get:function(){return t.csvParse}}),Object.defineProperty(exports,"csvParseRows",{enumerable:!0,get:function(){return t.csvParseRows}}),Object.defineProperty(exports,"csvFormat",{enumerable:!0,get:function(){return t.csvFormat}}),Object.defineProperty(exports,"csvFormatBody",{enumerable:!0,get:function(){return t.csvFormatBody}}),Object.defineProperty(exports,"csvFormatRows",{enumerable:!0,get:function(){return t.csvFormatRows}}),Object.defineProperty(exports,"csvFormatRow",{enumerable:!0,get:function(){return t.csvFormatRow}}),Object.defineProperty(exports,"csvFormatValue",{enumerable:!0,get:function(){return t.csvFormatValue}}),Object.defineProperty(exports,"tsvParse",{enumerable:!0,get:function(){return r.tsvParse}}),Object.defineProperty(exports,"tsvParseRows",{enumerable:!0,get:function(){return r.tsvParseRows}}),Object.defineProperty(exports,"tsvFormat",{enumerable:!0,get:function(){return r.tsvFormat}}),Object.defineProperty(exports,"tsvFormatBody",{enumerable:!0,get:function(){return r.tsvFormatBody}}),Object.defineProperty(exports,"tsvFormatRows",{enumerable:!0,get:function(){return r.tsvFormatRows}}),Object.defineProperty(exports,"tsvFormatRow",{enumerable:!0,get:function(){return r.tsvFormatRow}}),Object.defineProperty(exports,"tsvFormatValue",{enumerable:!0,get:function(){return r.tsvFormatValue}}),Object.defineProperty(exports,"autoType",{enumerable:!0,get:function(){return o.default}});var e=n(require("./dsv.js")),t=require("./csv.js"),r=require("./tsv.js"),o=n(require("./autoType.js"));function n(e){return e&&e.__esModule?e:{default:e}}
},{"./dsv.js":"SCWu","./csv.js":"mU2J","./tsv.js":"zpVZ","./autoType.js":"bjLa"}],"YYWn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("d3-selection");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("d3-dsv");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});
},{"d3-selection":"lm1C","d3-dsv":"mQVF"}],"Up3p":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e){"function"==typeof t&&t.amd?t(e):e()}(function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"!==n(t.console)){t.console={};for(var e,r,i=t.console,o=function(){},a=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)i[e]||(i[e]={});for(;r=s.pop();)i[r]||(i[r]=o)}var h,l,u,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,n,r,i,o,a=0,s=0,h="",l=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[s++]=f.charAt(e)+f.charAt(n)+f.charAt(r)+f.charAt(i),a<t.length;);h=l.join("");var u=t.length%3;return(u?h.slice(0,u-3):h)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var e,n,r,i,o,a,s=0,h=0,l=[];if(!t)return t;for(t+="";e=(a=f.indexOf(t.charAt(s++))<<18|f.indexOf(t.charAt(s++))<<12|(i=f.indexOf(t.charAt(s++)))<<6|(o=f.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,l[h++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r),s<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),c=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==n(t)&&("function"!=typeof t||null===t))throw new TypeError;var e,r,i=[];for(e in t)h.call(t,e)&&i.push(e);if(l)for(r=0;r<c;r++)h.call(t,u[r])&&i.push(u[r]);return i})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")());var r,i,o,a,s,h,l,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y,J,X,K,Z,Q,$,tt,et,nt,rt,it,ot,at,st,ht,lt,ut,ct=function(e){function r(t){if("object"!==n(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,e,n){if(n=n||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[e,!!n],i},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],0===Object.keys(r[e]).length&&delete r[e],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in r[n]){var s=r[n][a];try{s[0].apply(t,i)}catch(n){e.console&&console.error("jsPDF PubSub Error",n.message,n)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function i(t,o,a,s){var h={},l=[],u=1;"object"===n(t)&&(t=(h=t).orientation,o=h.unit||o,a=h.format||a,s=h.compress||h.compressPdf||s,l=h.filters||(!0===s?["FlateEncode"]:l),u="number"==typeof h.userUnit?Math.abs(h.userUnit):1),o=o||"mm",t=(""+(t||"P")).toLowerCase();var c=h.putOnlyUsedFonts||!0,f={},p={internal:{},__private__:{}};p.__private__.PubSub=r;var d="1.3",g=p.__private__.getPdfVersion=function(){return d},m=(p.__private__.setPdfVersion=function(t){d=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),y=(p.__private__.getPageFormats=function(){return m},p.__private__.getPageFormat=function(t){return m[t]});"string"==typeof a&&(a=y(a)),a=a||y("a4");var v,w=p.f2=p.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},b=p.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},x="00000000000000000000000000000000",N=p.__private__.getFileId=function(){return x},L=p.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x=t};p.setFileId=function(t){return L(t),this},p.getFileId=function(){return N()};var A=p.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=[n,O(r),"'",O(i),"'"].join("");return["D:",t.getFullYear(),O(t.getMonth()+1),O(t.getDate()),O(t.getHours()),O(t.getMinutes()),O(t.getSeconds()),o].join("")},S=p.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,n,r,i,o,a,0)},_=p.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),"object"===n(t)&&"[object Date]"===Object.prototype.toString.call(t))e=A(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return v=e},F=p.__private__.getCreationDate=function(t){var e=v;return"jsDate"===t&&(e=S(v)),e};p.setCreationDate=function(t){return _(t),this},p.getCreationDate=function(t){return F(t)};var P,k,I,C,B,j,E,M,O=p.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},q=!1,T=[],R=[],D=0,U=(p.__private__.setCustomOutputDestination=function(t){k=t},p.__private__.resetCustomOutputDestination=function(t){k=void 0},p.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===k?q?T[P]:R:k).push(t),q||(D+=t.length+1),e}),z=p.__private__.write=function(t){return U(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},H=p.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},W=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],V=(p.__private__.getStandardFonts=function(t){return W},h.fontSize||16),G=(p.__private__.setFontSize=p.setFontSize=function(t){return V=t,this},p.__private__.getFontSize=p.getFontSize=function(){return V}),Y=h.R2L||!1,J=(p.__private__.setR2L=p.setR2L=function(t){return Y=t,this},p.__private__.getR2L=p.getR2L=function(t){return Y},p.__private__.setZoomMode=function(t){if(/^\d*\.?\d*\%$/.test(t))I=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');I=t}else I=parseInt(t,10)}),X=(p.__private__.getZoomMode=function(){return I},p.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');C=t}),K=(p.__private__.getPageMode=function(){return C},p.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');B=t}),Z=(p.__private__.getLayoutMode=function(){return B},p.__private__.setDisplayMode=p.setDisplayMode=function(t,e,n){return J(t),K(e),X(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),Q=(p.__private__.getDocumentProperty=function(t){if(-1===Object.keys(Z).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Z[t]},p.__private__.getDocumentProperties=function(t){return Z},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(t){for(var e in Z)Z.hasOwnProperty(e)&&t[e]&&(Z[e]=t[e]);return this},p.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(Z).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Z[t]=e},0),$=[],tt={},et={},nt=0,rt=[],it=[],ot=new r(p),at=h.hotfixes||[],st=p.__private__.newObject=function(){var t=ht();return lt(t,!0),t},ht=p.__private__.newObjectDeferred=function(){return $[++Q]=function(){return D},Q},lt=function(t,e){return e="boolean"==typeof e&&e,$[t]=D,e&&U(t+" 0 obj"),t},ut=p.__private__.newAdditionalObject=function(){var t={objId:ht(),content:""};return it.push(t),t},ct=ht(),ft=ht(),pt=p.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},dt=p.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var r=t.ch1,i=t.ch2,o=t.ch3,a=t.ch4,s=(t.precision,"draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof r&&"#"!==r.charAt(0)){var h=new RGBColor(r);if(h.ok)r=h.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,i=l>>8&255,o=255&l}if(void 0===i||void 0===a&&r===i&&i===o)if("string"==typeof r)e=r+" "+s[0];else switch(t.precision){case 2:e=w(r/255)+" "+s[0];break;case 3:default:e=b(r/255)+" "+s[0]}else if(void 0===a||"object"===n(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.000","1.000","1.000",s[1]].join(" ");if("string"==typeof r)e=[r,i,o,s[1]].join(" ");else switch(t.precision){case 2:e=[w(r/255),w(i/255),w(o/255),s[1]].join(" ");break;default:case 3:e=[b(r/255),b(i/255),b(o/255),s[1]].join(" ")}}else if("string"==typeof r)e=[r,i,o,a,s[2]].join(" ");else switch(t.precision){case 2:e=[w(r/255),w(i/255),w(o/255),w(a/255),s[2]].join(" ");break;case 3:default:e=[b(r/255),b(i/255),b(o/255),b(a/255),s[2]].join(" ")}return e},gt=p.__private__.getFilters=function(){return l},mt=p.__private__.putStream=function(t){var e,n=(t=t||{}).data||"",r=t.filters||gt(),o=t.alreadyAppliedFilters||[],a=t.addLength1||!1,s=n.length;!0===r&&(r=["FlateEncode"]);var h=t.additionalKeyValues||[],l=(e=void 0!==i.API.processDataByFilters?i.API.processDataByFilters(n,r):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(o)?o.join(" "):o.toString());0!==e.data.length&&(h.push({key:"Length",value:e.data.length}),!0===a&&h.push({key:"Length1",value:s})),0!=l.length&&(l.split("/").length-1==1?h.push({key:"Filter",value:l}):h.push({key:"Filter",value:"["+l+"]"})),U("<<");for(var u=0;u<h.length;u++)U("/"+h[u].key+" "+h[u].value);U(">>"),0!==e.data.length&&(U("stream"),U(e.data),U("endstream"))},yt=p.__private__.putPage=function(t){t.mediaBox;var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;lt(r,!0),rt[P].mediaBox.topRightX,rt[P].mediaBox.bottomLeftX,rt[P].mediaBox.topRightY,rt[P].mediaBox.bottomLeftY,U("<</Type /Page"),U("/Parent "+t.rootDictionaryObjId+" 0 R"),U("/Resources "+t.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(w(t.mediaBox.bottomLeftX))+" "+parseFloat(w(t.mediaBox.bottomLeftY))+" "+w(t.mediaBox.topRightX)+" "+w(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&U("/CropBox ["+w(t.cropBox.bottomLeftX)+" "+w(t.cropBox.bottomLeftY)+" "+w(t.cropBox.topRightX)+" "+w(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&U("/BleedBox ["+w(t.bleedBox.bottomLeftX)+" "+w(t.bleedBox.bottomLeftY)+" "+w(t.bleedBox.topRightX)+" "+w(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&U("/TrimBox ["+w(t.trimBox.bottomLeftX)+" "+w(t.trimBox.bottomLeftY)+" "+w(t.trimBox.topRightX)+" "+w(t.trimBox.topRightY)+"]"),null!==t.artBox&&U("/ArtBox ["+w(t.artBox.bottomLeftX)+" "+w(t.artBox.bottomLeftY)+" "+w(t.artBox.topRightX)+" "+w(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&U("/UserUnit "+t.userUnit),ot.publish("putPage",{objId:r,pageContext:rt[e],pageNumber:e,page:n}),U("/Contents "+i+" 0 R"),U(">>"),U("endobj");var o=n.join("\n");return lt(i,!0),mt({data:o,filters:gt()}),U("endobj"),r},vt=p.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=nt;t++)rt[t].objId=ht(),rt[t].contentsObjId=ht();for(t=1;t<=nt;t++)n.push(yt({number:t,data:T[t],objId:rt[t].objId,contentsObjId:rt[t].contentsObjId,mediaBox:rt[t].mediaBox,cropBox:rt[t].cropBox,bleedBox:rt[t].bleedBox,trimBox:rt[t].trimBox,artBox:rt[t].artBox,userUnit:rt[t].userUnit,rootDictionaryObjId:ct,resourceDictionaryObjId:ft}));lt(ct,!0),U("<</Type /Pages");var r="/Kids [";for(e=0;e<nt;e++)r+=n[e]+" 0 R ";U(r+"]"),U("/Count "+nt),U(">>"),U("endobj"),ot.publish("postPutPages")},wt=function(t,e,n){et.hasOwnProperty(e)||(et[e]={}),et[e][n]=t},bt=function(t,e,n,r,i){i=i||!1;var o="F"+(Object.keys(tt).length+1).toString(10),a={id:o,postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i,metadata:{}};return ot.publish("addFont",{font:a,instance:this}),void 0!==o&&(tt[o]=a,wt(o,e,n)),o},xt=p.__private__.pdfEscape=p.pdfEscape=function(t,e){return function(t,e){var n,r,i,o,a,s,h,l,u;if(i=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&tt[j].metadata&&tt[j].metadata[i]&&tt[j].metadata[i].encoding&&(o=tt[j].metadata[i].encoding,!a&&tt[j].encoding&&(a=tt[j].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(h=!1,s=[],n=0,r=t.length;n<r;n++)(l=a[t.charCodeAt(n)])?s.push(String.fromCharCode(l)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(h=!0);t=s.join("")}for(n=t.length;void 0===h&&0!==n;)t.charCodeAt(n-1)>>8&&(h=!0),n--;if(!h)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(l=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(l-(u<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nt=p.__private__.beginPage=function(t,e){var n,r="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(n=y(t.toLowerCase()))&&(t=n[0],e=n[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=a[0],e=a[1]),r){switch(r.substr(0,1)){case"l":t<e&&(r="s");break;case"p":e<t&&(r="s")}"s"===r&&(n=t,t=e,e=n)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),a=[t,e],q=!0,T[++nt]=[],rt[nt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},At(nt)},Lt=function(){Nt.apply(this,arguments),Wt(Ht),U(Qt),0!==ie&&U(ie+" J"),0!==ae&&U(ae+" j"),ot.publish("addPage",{pageNumber:nt})},At=function(t){0<t&&t<=nt&&(P=t)},St=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return T.length-1},_t=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:tt[j].fontName,e=void 0!==e?e:tt[j].fontStyle,r=t.toLowerCase(),void 0!==et[r]&&void 0!==et[r][e]?i=et[r][e]:void 0!==et[t]&&void 0!==et[t][e]?i=et[t][e]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=et.times[e])&&(i=et.times.normal),i},Pt=p.__private__.putInfo=function(){for(var t in st(),U("<<"),U("/Producer (jsPDF "+i.version+")"),Z)Z.hasOwnProperty(t)&&Z[t]&&U("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+xt(Z[t])+")");U("/CreationDate ("+v+")"),U(">>"),U("endobj")},kt=p.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||ct;switch(st(),U("<<"),U("/Type /Catalog"),U("/Pages "+e+" 0 R"),I||(I="fullwidth"),I){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+I;"%"===n.substr(n.length-1)&&(I=parseInt(I)/100),"number"==typeof I&&U("/OpenAction [3 0 R /XYZ null null "+w(I)+"]")}switch(B||(B="continuous"),B){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}C&&U("/PageMode /"+C),ot.publish("putCatalog"),U(">>"),U("endobj")},It=p.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(Q+1)),U("/Root "+Q+" 0 R"),U("/Info "+(Q-1)+" 0 R"),U("/ID [ <"+x+"> <"+x+"> ]"),U(">>")},Ct=p.__private__.putHeader=function(){U("%PDF-"+d),U("%ºß¬à")},Bt=p.__private__.putXRef=function(){var t=1,e="0000000000";for(U("xref"),U("0 "+(Q+1)),U("0000000000 65535 f "),t=1;t<=Q;t++)"function"==typeof $[t]?U((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?U((e+$[t]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},jt=p.__private__.buildDocument=function(){q=!1,D=Q=0,R=[],$=[],it=[],ct=ht(),ft=ht(),ot.publish("buildDocument"),Ct(),vt(),function(){ot.publish("putAdditionalObjects");for(var t=0;t<it.length;t++){var e=it[t];lt(e.objId,!0),U(e.content),U("endobj")}ot.publish("postPutAdditionalObjects")}(),function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===c||!0===c&&f.hasOwnProperty(t))&&(e=tt[t],ot.publish("putFont",{font:e,out:U,newObject:st,putStream:mt}),!0!==e.isAlreadyPutted&&(e.objectNumber=st(),U("<<"),U("/Type /Font"),U("/BaseFont /"+e.postScriptName),U("/Subtype /Type1"),"string"==typeof e.encoding&&U("/Encoding /"+e.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj")));var e}(),ot.publish("putResources"),lt(ft,!0),U("<<"),function(){for(var t in U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),U("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===c||!0===c&&f.hasOwnProperty(t))&&U("/"+t+" "+tt[t].objectNumber+" 0 R");U(">>"),U("/XObject <<"),ot.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj"),ot.publish("postPutResources"),Pt(),kt();var t=D;return Bt(),It(),U("startxref"),U(""+t),U("%%EOF"),q=!0,R.join("\n")},Et=p.__private__.getBlob=function(t){return new Blob([H(t)],{type:"application/pdf"})},Mt=p.output=p.__private__.output=((M=function(t,n){n=n||{};var r=jt();switch("string"==typeof n?n={filename:n}:n.filename=n.filename||"generated.pdf",t){case void 0:return r;case"save":p.save(n.filename);break;case"arraybuffer":return H(r);case"blob":return Et(r);case"bloburi":case"bloburl":if(void 0!==e.URL&&"function"==typeof e.URL.createObjectURL)return e.URL&&e.URL.createObjectURL(Et(r))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+n.filename+";base64,"+btoa(r);case"dataurlnewwindow":var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',o=e.open();if(null!==o&&o.document.write(i),o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return e.document.location.href="data:application/pdf;filename="+n.filename+";base64,"+btoa(r);default:return null}}).foo=function(){try{return M.apply(this,arguments)}catch(t){var n=t.stack||"";~n.indexOf(" at ")&&(n=n.split(" at ")[1]);var r="Error in function "+n.split("\n")[0].split("<")[0]+": "+t.message;if(!e.console)throw new Error(r);e.console.error(r,t),e.alert&&alert(r)}},(M.foo.bar=M).foo),Ot=function(t){return!0===Array.isArray(at)&&-1<at.indexOf(t)};switch(o){case"pt":E=1;break;case"mm":E=72/25.4;break;case"cm":E=72/2.54;break;case"in":E=72;break;case"px":E=1==Ot("px_scaling")?.75:96/72;break;case"pc":case"em":E=12;break;case"ex":E=6;break;default:throw new Error("Invalid unit: "+o)}_(),L();var qt=p.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[t].objId,pageNumber:t,pageContext:rt[t]}},Tt=p.__private__.getPageInfoByObjId=function(t){for(var e in rt)if(rt[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return qt(e)},Rt=p.__private__.getCurrentPageInfo=function(){return{objId:rt[P].objId,pageNumber:P,pageContext:rt[P]}};p.addPage=function(){return Lt.apply(this,arguments),this},p.setPage=function(){return At.apply(this,arguments),this},p.insertPage=function(t){return this.addPage(),this.movePage(P,t),this},p.movePage=function(t,e){if(e<t){for(var n=T[t],r=rt[t],i=t;e<i;i--)T[i]=T[i-1],rt[i]=rt[i-1];T[e]=n,rt[e]=r,this.setPage(e)}else if(t<e){for(n=T[t],r=rt[t],i=t;i<e;i++)T[i]=T[i+1],rt[i]=rt[i+1];T[e]=n,rt[e]=r,this.setPage(e)}return this},p.deletePage=function(){return function(t){0<t&&t<=nt&&(T.splice(t,1),--nt<P&&(P=nt),this.setPage(P))}.apply(this,arguments),this},p.__private__.text=p.text=function(t,e,r,i){var o;"number"!=typeof t||"number"!=typeof e||"string"!=typeof r&&!Array.isArray(r)||(o=r,r=e,e=t,t=o);var a=arguments[3],s=arguments[4],h=arguments[5];if("object"===n(a)&&null!==a||("string"==typeof s&&(h=s,s=null),"string"==typeof a&&(h=a,a=null),"number"==typeof a&&(s=a,a=null),i={flags:a,angle:s,align:h}),(a=a||{}).noBOM=a.noBOM||!0,a.autoencode=a.autoencode||!0,isNaN(e)||isNaN(r)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return p;var l,u="",c="number"==typeof i.lineHeightFactor?i.lineHeightFactor:zt,p=i.scope||this;function d(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&1===e.length?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function g(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,o=t.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"===r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var m=!1,y=!0;if("string"==typeof t)m=!0;else if(Array.isArray(t)){for(var v,x=t.concat(),N=[],L=x.length;L--;)("string"!=typeof(v=x.shift())||Array.isArray(v)&&"string"!=typeof v[0])&&(y=!1);m=y}if(!1===m)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');var A=tt[j].encoding;"WinAnsiEncoding"!==A&&"StandardEncoding"!==A||(t=g(t,function(t,e,n){return[(r=t,r=r.split("\t").join(Array(i.TabLen||9).join(" ")),xt(r,a)),e,n];var r})),"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var S=V/p.internal.scaleFactor,_=S*(zt-1);switch(i.baseline){case"bottom":r-=_;break;case"top":r+=S-_;break;case"hanging":r+=S-2*_;break;case"middle":r+=S/2-_}0<(z=i.maxWidth||0)&&("string"==typeof t?t=p.splitTextToSize(t,z):"[object Array]"===Object.prototype.toString.call(t)&&(t=p.splitTextToSize(t.join(" "),z)));var F={text:t,x:e,y:r,options:i,mutex:{pdfEscape:xt,activeFontKey:j,fonts:tt,activeFontSize:V}};ot.publish("preProcessText",F),t=F.text,s=(i=F.options).angle;var P=p.internal.scaleFactor,k=[];if(s){s*=Math.PI/180;var I=Math.cos(s),C=Math.sin(s);k=[w(I),w(C),w(-1*C),w(I)]}void 0!==(D=i.charSpace)&&(u+=b(D*P)+" Tc\n"),i.lang;var B=-1,E=void 0!==i.renderingMode?i.renderingMode:i.stroke,M=p.internal.getCurrentPageInfo().pageContext;switch(E){case 0:case!1:case"fill":B=0;break;case 1:case!0:case"stroke":B=1;break;case 2:case"fillThenStroke":B=2;break;case 3:case"invisible":B=3;break;case 4:case"fillAndAddForClipping":B=4;break;case 5:case"strokeAndAddPathForClipping":B=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":B=6;break;case 7:case"addToPathForClipping":B=7}var O=void 0!==M.usedRenderingMode?M.usedRenderingMode:-1;-1!==B?u+=B+" Tr\n":-1!==O&&(u+="0 Tr\n"),-1!==B&&(M.usedRenderingMode=B),h=i.align||"left";var q=V*c,T=p.internal.pageSize.getWidth(),R=(P=p.internal.scaleFactor,tt[j]),D=i.charSpace||ne,z=i.maxWidth||0,H=(a={},[]);if("[object Array]"===Object.prototype.toString.call(t)){var W,G;N=d(t),"left"!==h&&(G=N.map(function(t){return p.getStringUnitWidth(t,{font:R,charSpace:D,fontSize:V})*V/P}));Math.max.apply(Math,G);var J,X=0;if("right"===h){e-=G[0],t=[];var K=0;for(L=N.length;K<L;K++)G[K],W=0===K?(J=Jt(e),Xt(r)):(J=(X-G[K])*P,-q),t.push([N[K],J,W]),X=G[K]}else if("center"===h)for(e-=G[0]/2,t=[],K=0,L=N.length;K<L;K++)G[K],W=0===K?(J=Jt(e),Xt(r)):(J=(X-G[K])/2*P,-q),t.push([N[K],J,W]),X=G[K];else if("left"===h)for(t=[],K=0,L=N.length;K<L;K++)W=0===K?Xt(r):-q,J=0===K?Jt(e):0,t.push(N[K]);else{if("justify"!==h)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],z=0!==z?z:T,K=0,L=N.length;K<L;K++)W=0===K?Xt(r):-q,J=0===K?Jt(e):0,K<L-1&&H.push(((z-G[K])/(N[K].split(" ").length-1)*P).toFixed(2)),t.push([N[K],J,W])}}!0===("boolean"==typeof i.R2L?i.R2L:Y)&&(t=g(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),F={text:t,x:e,y:r,options:i,mutex:{pdfEscape:xt,activeFontKey:j,fonts:tt,activeFontSize:V}},ot.publish("postProcessText",F),t=F.text,l=F.mutex.isHex,N=d(t),t=[];var Z,Q,$,et=0,nt=(L=N.length,"");for(K=0;K<L;K++)nt="",Array.isArray(N[K])?(Z=parseFloat(N[K][1]),Q=parseFloat(N[K][2]),$=(l?"<":"(")+N[K][0]+(l?">":")"),et=1):(Z=Jt(e),Q=Xt(r),$=(l?"<":"(")+N[K]+(l?">":")")),void 0!==H&&void 0!==H[K]&&(nt=H[K]+" Tw\n"),0!==k.length&&0===K?t.push(nt+k.join(" ")+" "+Z.toFixed(2)+" "+Q.toFixed(2)+" Tm\n"+$):1===et||0===et&&0===K?t.push(nt+Z.toFixed(2)+" "+Q.toFixed(2)+" Td\n"+$):t.push(nt+$);t=0===et?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var rt="BT\n/"+j+" "+V+" Tf\n"+(V*c).toFixed(2)+" TL\n"+te+"\n";return rt+=u,rt+=t,U(rt+="ET"),f[j]=!0,p},p.__private__.lstext=p.lstext=function(t,e,n,r){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,n,{charSpace:r})},p.__private__.clip=p.clip=function(t){U("evenodd"===t?"W*":"W"),U("n")},p.__private__.clip_fixed=p.clip_fixed=function(t){console.log("clip_fixed is deprecated"),p.clip(t)};var Dt=p.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},Ut=p.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};p.__private__.line=p.line=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-t,r-e]],t,e)},p.__private__.lines=p.lines=function(t,e,n,r,i,o){var a,s,h,l,u,c,f,p,d,g,m,y;if("number"==typeof t&&(y=n,n=e,e=t,t=y),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Dt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(U(b(Jt(e))+" "+b(Xt(n))+" m "),a=r[0],s=r[1],l=t.length,g=e,m=n,h=0;h<l;h++)2===(u=t[h]).length?(g=u[0]*a+g,m=u[1]*s+m,U(b(Jt(g))+" "+b(Xt(m))+" l")):(c=u[0]*a+g,f=u[1]*s+m,p=u[2]*a+g,d=u[3]*s+m,g=u[4]*a+g,m=u[5]*s+m,U(b(Jt(c))+" "+b(Xt(f))+" "+b(Jt(p))+" "+b(Xt(d))+" "+b(Jt(g))+" "+b(Xt(m))+" c"));return o&&U(" h"),null!==i&&U(Ut(i)),this},p.__private__.rect=p.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Dt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return U([w(Jt(t)),w(Xt(e)),w(n*E),w(-r*E),"re"].join(" ")),null!==i&&U(Ut(i)),this},p.__private__.triangle=p.triangle=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Dt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},p.__private__.roundedRect=p.roundedRect=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Dt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],t+i,e,[1,1],a),this},p.__private__.ellipse=p.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Dt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return U([w(Jt(t+n)),w(Xt(e)),"m",w(Jt(t+n)),w(Xt(e-a)),w(Jt(t+o)),w(Xt(e-r)),w(Jt(t)),w(Xt(e-r)),"c"].join(" ")),U([w(Jt(t-o)),w(Xt(e-r)),w(Jt(t-n)),w(Xt(e-a)),w(Jt(t-n)),w(Xt(e)),"c"].join(" ")),U([w(Jt(t-n)),w(Xt(e+a)),w(Jt(t-o)),w(Xt(e+r)),w(Jt(t)),w(Xt(e+r)),"c"].join(" ")),U([w(Jt(t+o)),w(Xt(e+r)),w(Jt(t+n)),w(Xt(e+a)),w(Jt(t+n)),w(Xt(e)),"c"].join(" ")),null!==i&&U(Ut(i)),this},p.__private__.circle=p.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Dt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},p.setFont=function(t,e){return j=_t(t,e,{disableWarning:!1}),this},p.setFontStyle=p.setFontType=function(t){return j=_t(void 0,t),this},p.__private__.getFontList=p.getFontList=function(){var t,e,n,r={};for(t in et)if(et.hasOwnProperty(t))for(e in r[t]=n=[],et[t])et[t].hasOwnProperty(e)&&n.push(e);return r},p.addFont=function(t,e,n,r){bt.call(this,t,e,n,r=r||"Identity-H")};var zt,Ht=h.lineWidth||.200025,Wt=p.__private__.setLineWidth=p.setLineWidth=function(t){return U((t*E).toFixed(2)+" w"),this},Vt=(p.__private__.setLineDash=i.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return(t*E).toFixed(3)}).join(" "),e=parseFloat((e*E).toFixed(3)),U("["+t+"] "+e+" d"),this},p.__private__.getLineHeight=p.getLineHeight=function(){return V*zt}),Gt=(Vt=p.__private__.getLineHeight=p.getLineHeight=function(){return V*zt},p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(zt=t),this}),Yt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return zt};Gt(h.lineHeight);var Jt=p.__private__.getHorizontalCoordinate=function(t){return t*E},Xt=p.__private__.getVerticalCoordinate=function(t){return rt[P].mediaBox.topRightY-rt[P].mediaBox.bottomLeftY-t*E},Kt=p.__private__.getHorizontalCoordinateString=function(t){return w(t*E)},Zt=p.__private__.getVerticalCoordinateString=function(t){return w(rt[P].mediaBox.topRightY-rt[P].mediaBox.bottomLeftY-t*E)},Qt=h.strokeColor||"0 G",$t=(p.__private__.getStrokeColor=p.getDrawColor=function(){return pt(Qt)},p.__private__.setStrokeColor=p.setDrawColor=function(t,e,n,r){return Qt=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),U(Qt),this},h.fillColor||"0 g"),te=(p.__private__.getFillColor=p.getFillColor=function(){return pt($t)},p.__private__.setFillColor=p.setFillColor=function(t,e,n,r){return $t=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),U($t),this},h.textColor||"0 g"),ee=p.__private__.getTextColor=p.getTextColor=function(){return pt(te)},ne=(p.__private__.setTextColor=p.setTextColor=function(t,e,n,r){return te=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this},h.charSpace||0),re=p.__private__.getCharSpace=p.getCharSpace=function(){return ne},ie=(p.__private__.setCharSpace=p.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ne=t,this},0);p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U((ie=e)+" J"),this};var oe,ae=0;for(var se in p.__private__.setLineJoin=p.setLineJoin=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U((ae=e)+" j"),this},p.__private__.setMiterLimit=p.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return oe=parseFloat(w(t*E)),U(oe+" M"),this},p.save=function(t,n){if(t=t||"generated.pdf",(n=n||{}).returnPromise=n.returnPromise||!1,!1!==n.returnPromise)return new Promise(function(n,r){try{var i=Ft(Et(jt()),t);"function"==typeof Ft.unload&&e.setTimeout&&setTimeout(Ft.unload,911),n(i)}catch(n){r(n.message)}});Ft(Et(jt()),t),"function"==typeof Ft.unload&&e.setTimeout&&setTimeout(Ft.unload,911)},i.API)i.API.hasOwnProperty(se)&&("events"===se&&i.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(ot,i.API.events):p[se]=i.API[se]);return p.internal={pdfEscape:xt,getStyle:Ut,getFont:function(){return tt[_t.apply(p,arguments)]},getFontSize:G,getCharSpace:re,getTextColor:ee,getLineHeight:Vt,getLineHeightFactor:Yt,write:z,getHorizontalCoordinate:Jt,getVerticalCoordinate:Xt,getCoordinateString:Kt,getVerticalCoordinateString:Zt,collections:{},newObject:st,newAdditionalObject:ut,newObjectDeferred:ht,newObjectDeferredBegin:lt,getFilters:gt,putStream:mt,events:ot,scaleFactor:E,pageSize:{getWidth:function(){return(rt[P].mediaBox.topRightX-rt[P].mediaBox.bottomLeftX)/E},setWidth:function(t){rt[P].mediaBox.topRightX=t*E+rt[P].mediaBox.bottomLeftX},getHeight:function(){return(rt[P].mediaBox.topRightY-rt[P].mediaBox.bottomLeftY)/E},setHeight:function(t){rt[P].mediaBox.topRightY=t*E+rt[P].mediaBox.bottomLeftY}},output:Mt,getNumberOfPages:St,pages:T,out:U,f2:w,f3:b,getPageInfo:qt,getPageInfoByObjId:Tt,getCurrentPageInfo:Rt,getPDFVersion:g,hasHotfix:Ot},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return(rt[P].mediaBox.topRightX-rt[P].mediaBox.bottomLeftX)/E},set:function(t){rt[P].mediaBox.topRightX=t*E+rt[P].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return(rt[P].mediaBox.topRightY-rt[P].mediaBox.bottomLeftY)/E},set:function(t){rt[P].mediaBox.topRightY=t*E+rt[P].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=W.length;e<n;e++){var r=bt(t[e][0],t[e][1],t[e][2],W[e][3],!0);f[r]=!0;var i=t[e][0].split("-");wt(r,i[0],i[1]||"")}ot.publish("addFonts",{fonts:tt,dictionary:et})}(W),j="F1",Lt(a,t),ot.publish("initialized"),p}return i.API={events:[]},i.version="1.5.3","function"==typeof t&&t.amd?t("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?(module.exports=i,module.exports.jsPDF=i):e.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(t,e){var r,i=1,o=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},a=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},s=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},h=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};t.__acroform__={};var l=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},u=function(t){return t*i},c=function(t){return t/i},f=function(t){var e=new E,n=J.internal.getHeight(t)||0,r=J.internal.getWidth(t)||0;return e.BBox=[0,0,Number(s(r)),Number(s(n))],e},p=t.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},d=t.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=t.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},m=t.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},y=t.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(t,e-1)},v=t.__acroform__.clearBitForPdf=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return d(t,e-1)},w=t.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,r=t[0],i=t[1],o=t[2],a=t[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=n(i+a)||0,h.upperRight_X=e(r+o)||0,h.upperRight_Y=n(i)||0,[Number(s(h.lowerLeft_X)),Number(s(h.lowerLeft_Y)),Number(s(h.upperRight_X)),Number(s(h.upperRight_Y))]},b=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t.V||t.DV,i=x(t,n),o=r.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.__private__.encodeColorString(t.color)),e.push("/"+o+" "+s(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=new f(t);return a.stream=e.join("\n"),a}},x=function(t,e){var n=t.maxFontSize||12,i=(t.fontName,{text:"",fontSize:""}),a=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),h=(r.__private__.encodeColorString(t.color),n),l=J.internal.getHeight(t)||0;l=l<0?-l:l;var u=J.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(e,n,r){if(e+1<a.length){var i=n+" "+a[e+1];return N(i,t,r).width<=u-4}return!1};h++;t:for(;;){e="";var f=N("3",t,--h).height,p=t.multiline?l-h:(l-f)/2,d=-2,g=p+=2,m=0,y=0,v=0;if(h<=0){e="(...) Tj\n",e+="% Width of Text: "+N(e,t,h=12).width+", FieldWidth:"+u+"\n";break}v=N(a[0]+" ",t,h).width;var w="",b=0;for(var x in a)if(a.hasOwnProperty(x)){w=" "==(w+=a[x]+" ").substr(w.length-1)?w.substr(0,w.length-1):w;var L=parseInt(x);v=N(w+" ",t,h).width;var A=c(L,w,h),S=x>=a.length-1;if(A&&!S){w+=" ";continue}if(A||S){if(S)y=L;else if(t.multiline&&l<(f+2)*(b+2)+2)continue t}else{if(!t.multiline)continue t;if(l<(f+2)*(b+2)+2)continue t;y=L}for(var _="",F=m;F<=y;F++)_+=a[F]+" ";switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,v=N(_,t,h).width,t.textAlign){case"right":d=u-v-2;break;case"center":d=(u-v)/2;break;case"left":default:d=2}e+=s(d)+" "+s(g)+" Td\n",e+="("+o(_)+") Tj\n",e+=-s(d)+" 0 Td\n",g=-(h+2),v=0,m=y+1,b++,w=""}break}return i.text=e,i.fontSize=h,i},N=function(t,e,n){var i=r.internal.getFont(e.fontName,e.fontStyle),o=r.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},L={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},A=function(){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.objId=void 0,n.hasAnnotation&&S.call(r,n)}},S=function(t){var e={type:"reference",object:t};void 0===r.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&r.internal.getPageInfo(t.page).pageContext.annotations.push(e)},_=function(){if(void 0===r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},F=function(){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0},P=function(t){var e=!t;for(var i in t||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(i)){var o=t[i],a=[],s=o.Rect;if(o.Rect&&(o.Rect=w.call(this,o.Rect)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=J.createDefaultAppearanceStream(o),"object"===n(o)&&"function"==typeof o.getKeyValueListForStream&&(a=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=b.call(this,o);a.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var l="";for(var u in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(u)){var c=o.appearanceStreamContent[u];if(l+="/"+u+" ",l+="<<",1<=Object.keys(c).length||Array.isArray(c))for(var i in c){var f;c.hasOwnProperty(i)&&("function"==typeof(f=c[i])&&(f=f.call(this,o)),l+="/"+i+" "+f+" ",0<=r.internal.acroformPlugin.xForms.indexOf(f)||r.internal.acroformPlugin.xForms.push(f))}else"function"==typeof(f=c)&&(f=f.call(this,o)),l+="/"+i+" "+f,0<=r.internal.acroformPlugin.xForms.indexOf(f)||r.internal.acroformPlugin.xForms.push(f);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}r.internal.putStream({additionalKeyValues:a}),r.internal.out("endobj")}e&&k.call(this,r.internal.acroformPlugin.xForms)},k=function(t){for(var e in t)if(t.hasOwnProperty(e)){var i=e,o=t[e];r.internal.newObjectDeferredBegin(o&&o.objId,!0),"object"===n(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[i]}},I=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(r=this,O.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(L)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new M,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",F),r.internal.events.subscribe("buildDocument",A),r.internal.events.subscribe("putCatalog",_),r.internal.events.subscribe("postPutPages",P),r.internal.acroformPlugin.isInitialized=!0}},C=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var e="[",r=0;r<t.length;r++)switch(0!==r&&(e+=" "),n(t[r])){case"boolean":case"number":case"object":e+=t[r].toString();break;case"string":"/"!==t[r].substr(0,1)?e+="("+o(t[r].toString())+")":e+=t[r].toString()}return e+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B=function(t){return(t=t||"").toString(),"("+o(t)+")"},j=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=r.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};j.prototype.toString=function(){return this.objId+" 0 R"},j.prototype.putStream=function(){var t=this.getKeyValueListForStream();r.internal.putStream({data:this.stream,additionalKeyValues:t}),r.internal.out("endobj")},j.prototype.getKeyValueListForStream=function(){return function(t){var e=[],n=Object.getOwnPropertyNames(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var r in n)if(!1===Object.getOwnPropertyDescriptor(t,n[r]).configurable){var i=n[r],o=t[i];o&&(Array.isArray(o)?e.push({key:i,value:C(o)}):o instanceof j?e.push({key:i,value:o.objId+" 0 R"}):"function"!=typeof o&&e.push({key:i,value:o}))}return e}(this)};var E=function(){j.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};l(E,j);var M=function(){j.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<e.length?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t)return"("+t+")"},set:function(e){t=e}})};l(M,j);var O=function t(){j.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(e,3))},set:function(t){!0===Boolean(t)?this.F=y(e,3):this.F=v(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:c(r[0])},set:function(t){r[0]=u(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:c(r[1])},set:function(t){r[1]=u(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:c(r[2])},set:function(t){r[2]=u(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:c(r[3])},set:function(t){r[3]=u(t)}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof W)return;s="FieldObject"+t.FieldNum++}return"("+o(s)+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c(f)},set:function(t){f=u(t)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c(p)},set:function(t){p=u(t)}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(t){d=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof W||this instanceof G))return B(g)},set:function(t){t=t.toString(),g=t}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof U==0?B(w):w},set:function(t){t=t.toString(),w=this instanceof U==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(w.substr(1,w.length-1)):w},set:function(t){t=t.toString(),w=this instanceof U==1?"/"+t:t}});var b=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof U==0?B(b):b},set:function(t){t=t.toString(),b=this instanceof U==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof U==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return N},set:function(t){t=Boolean(t),N=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(x)return x},set:function(t){x=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,1):this.Ff=v(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,2):this.Ff=v(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,3):this.Ff=v(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==L)return L},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');L=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(L){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};l(O,j);var q=function(){O.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return C(e)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,18):this.Ff=v(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=y(this.Ff,19):this.Ff=v(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=y(this.Ff,20),e.sort()):this.Ff=v(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,22):this.Ff=v(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,23):this.Ff=v(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,27):this.Ff=v(this.Ff,27)}}),this.hasAppearanceStream=!1};l(q,O);var T=function(){q.call(this),this.fontName="helvetica",this.combo=!1};l(T,q);var R=function(){T.call(this),this.combo=!0};l(R,T);var D=function(){R.call(this),this.edit=!0};l(D,R);var U=function(){O.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,15):this.Ff=v(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,16):this.Ff=v(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,17):this.Ff=v(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,26):this.Ff=v(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(e).length){var t,n=[];for(t in n.push("<<"),e)n.push("/"+t+" ("+e[t]+")");return n.push(">>"),n.join("\n")}},set:function(t){"object"===n(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};l(U,O);var z=function(){U.call(this),this.pushButton=!0};l(z,U);var H=function(){U.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};l(H,U);var W=function(){var t,e;O.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),i)e.push("/"+t+" ("+i[t]+")");return e.push(">>"),e.join("\n")},set:function(t){"object"===n(t)&&(i=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=J.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};l(W,O),H.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},H.prototype.createOption=function(t){this.Kids.length;var e=new W;return e.Parent=this,e.optionName=t,this.Kids.push(e),X.call(this,e),e};var V=function(){U.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=J.CheckBox.createAppearanceStream()};l(V,U);var G=function(){O.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,13):this.Ff=v(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,21):this.Ff=v(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,23):this.Ff=v(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,24):this.Ff=v(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,25):this.Ff=v(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,26):this.Ff=v(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};l(G,O);var Y=function(){G.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,14):this.Ff=v(this.Ff,14)}}),this.password=!0};l(Y,G);var J={CheckBox:{createAppearanceStream:function(){return{N:{On:J.CheckBox.YesNormal},D:{On:J.CheckBox.YesPushDown,Off:J.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=f(t),n=[],i=r.internal.getFont(t.fontName,t.fontStyle).id,o=r.__private__.encodeColorString(t.color),a=x(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+s(a.fontSize)+" Tf "+o),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=f(t),n=r.internal.getFont(t.fontName,t.fontStyle).id,i=r.__private__.encodeColorString(t.color),o=[],a=J.internal.getHeight(t),h=J.internal.getWidth(t),l=x(t,t.caption);return o.push("1 g"),o.push("0 0 "+s(h)+" "+s(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+s(h-1)+" "+s(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+s(l.fontSize)+" Tf "+i),o.push(l.text),o.push("ET"),o.push("Q"),e.stream=o.join("\n"),e},OffPushDown:function(t){var e=f(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:J.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=J.RadioButton.Circle.YesNormal,e.D[t]=J.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=f(t),n=[],r=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=J.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+h(J.internal.getWidth(t)/2)+" "+h(J.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=f(t),n=[],r=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*J.internal.Bezier_C).toFixed(5)),a=Number((r*J.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+h(J.internal.getWidth(t)/2)+" "+h(J.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+h(J.internal.getWidth(t)/2)+" "+h(J.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=f(t),n=[],r=J.internal.getWidth(t)<=J.internal.getHeight(t)?J.internal.getWidth(t)/4:J.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*J.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+h(J.internal.getWidth(t)/2)+" "+h(J.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:J.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=J.RadioButton.Cross.YesNormal,e.D[t]=J.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=f(t),n=[],r=J.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+s(J.internal.getWidth(t)-2)+" "+s(J.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(s(r.x1.x)+" "+s(r.x1.y)+" m"),n.push(s(r.x2.x)+" "+s(r.x2.y)+" l"),n.push(s(r.x4.x)+" "+s(r.x4.y)+" m"),n.push(s(r.x3.x)+" "+s(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=f(t),n=J.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+s(J.internal.getWidth(t)-2)+" "+s(J.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(s(n.x1.x)+" "+s(n.x1.y)+" m"),r.push(s(n.x2.x)+" "+s(n.x2.y)+" l"),r.push(s(n.x4.x)+" "+s(n.x4.y)+" m"),r.push(s(n.x3.x)+" "+s(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=f(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(J.internal.getWidth(t))+" "+s(J.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=r.internal.getFont(t.fontName,t.fontStyle).id,n=r.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};J.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=J.internal.getWidth(t),n=J.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},J.internal.getWidth=function(t){var e=0;return"object"===n(t)&&(e=u(t.Rect[2])),e},J.internal.getHeight=function(t){var e=0;return"object"===n(t)&&(e=u(t.Rect[3])),e};var X=t.addField=function(t){if(I.call(this),!(t instanceof O))throw new Error("Invalid argument passed to jsPDF.addField.");return function(t){r.internal.acroformPlugin.printedOut&&(r.internal.acroformPlugin.printedOut=!1,r.internal.acroformPlugin.acroFormDictionaryRoot=null),r.internal.acroformPlugin.acroFormDictionaryRoot||I.call(r),r.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=r.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(t){if(t instanceof U==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return X.call(this,t)},t.addTextField=function(t){if(t instanceof G==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return X.call(this,t)},t.addChoiceField=function(t){if(t instanceof q==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return X.call(this,t)},"object"==n(e)&&void 0===e.ChoiceField&&void 0===e.ListBox&&void 0===e.ComboBox&&void 0===e.EditBox&&void 0===e.Button&&void 0===e.PushButton&&void 0===e.RadioButton&&void 0===e.CheckBox&&void 0===e.TextField&&void 0===e.PasswordField?(e.ChoiceField=q,e.ListBox=T,e.ComboBox=R,e.EditBox=D,e.Button=U,e.PushButton=z,e.RadioButton=H,e.CheckBox=V,e.TextField=G,e.PasswordField=Y,e.AcroForm={Appearance:J}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),t.AcroFormChoiceField=q,t.AcroFormListBox=T,t.AcroFormComboBox=R,t.AcroFormEditBox=D,t.AcroFormButton=U,t.AcroFormPushButton=z,t.AcroFormRadioButton=H,t.AcroFormCheckBox=V,t.AcroFormTextField=G,t.AcroFormPasswordField=Y,t.AcroFormAppearance=J,t.AcroForm={ChoiceField:q,ListBox:T,ComboBox:R,EditBox:D,Button:U,PushButton:z,RadioButton:H,CheckBox:V,TextField:G,PasswordField:Y,Appearance:J}})((window.tmp=ct).API,"undefined"!=typeof window&&window||void 0!==e&&e),function(t){var e="addImage_",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.getImageFileTypeByImageData=function(e,n){var i,o;n=n||"UNKNOWN";var a,s,h,l="UNKNOWN";for(h in t.isArrayBufferView(e)&&(e=t.arrayBufferToBinaryString(e)),r)for(a=r[h],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){l=h;break}}return"UNKNOWN"===l&&"UNKNOWN"!==n&&(console.warn('FileType of Image not recognized. Processing image as "'+n+'".'),l=n),l},o=function t(e){for(var n=this.internal.newObject(),r=this.internal.write,i=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.n=n;var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.w}),a.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?n+2:n+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&a.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var s="",h=0,l=e.trns.length;h<l;h++)s+=e.trns[h]+" "+e.trns[h]+" ";a.push({key:"Mask",value:"["+s+"]"})}"smask"in e&&a.push({key:"SMask",value:n+1+" 0 R"});var u=void 0!==e.f?["/"+e.f]:void 0;if(i({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u}),r("endobj"),"smask"in e){var c="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,f={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:c,data:e.smask};"f"in e&&(f.f=e.f),t.call(this,f)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),i({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),r("endobj"))},a=function(){var t=this.internal.collections[e+"images"];for(var n in t)o.call(this,t[n])},s=function(){var t,n=this.internal.collections[e+"images"],r=this.internal.write;for(var i in n)r("/I"+(t=n[i]).i,t.n,"0","R")},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},l=function(t){return"object"===n(t)&&1===t.nodeType},u=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return unescape(r);var i=t.loadFile(r);if(void 0!==i)return btoa(i)}if("CANVAS"===e.nodeName){var o=e;return e.toDataURL("image/jpeg",1)}(o=document.createElement("canvas")).width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var a=o.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";return a.drawImage(e,0,0,o.width,o.height),o.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},c=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(t){var e,n=0;if(0===(t=t||"").length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},t.isString=function(t){return"string"==typeof t},t.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},t.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},t.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},t.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},t.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},t.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},t.arrayBufferToBase64=function(t){for(var e,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),o=i.byteLength,a=o%3,s=o-a,h=0;h<s;h+=3)n+=r[(16515072&(e=i[h]<<16|i[h+1]<<8|i[h+2]))>>18]+r[(258048&e)>>12]+r[(4032&e)>>6]+r[63&e];return 1==a?n+=r[(252&(e=i[s]))>>2]+r[(3&e)<<4]+"==":2==a&&(n+=r[(64512&(e=i[s]<<8|i[s+1]))>>10]+r[(1008&e)>>4]+r[(15&e)<<2]+"="),n},t.createImageInfo=function(t,e,n,r,i,o,a,s,h,l,u,c,f){var p={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(p.f=o),h&&(p.dp=h),l&&(p.trns=l),u&&(p.pal=u),c&&(p.smask=c),f&&(p.p=f),p},t.addImage=function(r,i,o,f,p,d,g,m,y){var v="";if("string"!=typeof i){var w=d;d=p,p=f,f=o,o=i,i=w}if("object"===n(r)&&!l(r)&&"imageData"in r){var b=r;r=b.imageData,i=b.format||i||"UNKNOWN",o=b.x||o||0,f=b.y||f||0,p=b.w||p,d=b.h||d,g=b.alias||g,m=b.compression||m,y=b.rotation||b.angle||y}var x=this.internal.getFilters();if(void 0===m&&-1!==x.indexOf("FlateEncode")&&(m="SLOW"),"string"==typeof r&&(r=unescape(r)),isNaN(o)||isNaN(f))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var N,L,A,S,_,F,P,k=function(){var t=this.internal.collections[e+"images"];return t||(this.internal.collections[e+"images"]=t={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s)),t}.call(this);if(!((N=c(r,k))||(l(r)&&(r=u(r,i)),(null==(P=g)||0===P.length)&&(g="string"==typeof(F=r)?t.sHashCode(F):t.isArrayBufferView(F)?t.sHashCode(t.arrayBufferToBinaryString(F)):null),N=c(g,k)))){if(this.isString(r)&&(""!==(v=this.convertStringToImageData(r))?r=v:void 0!==(v=t.loadFile(r))&&(r=v)),i=this.getImageFileTypeByImageData(r,i),!h(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(r instanceof Uint8Array||(L=r,r=this.binaryStringToUint8Array(r))),!(N=this["process"+i.toUpperCase()](r,(_=0,(S=k)&&(_=Object.keys?Object.keys(S).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(S)),_),g,((A=m)&&"string"==typeof A&&(A=A.toUpperCase()),A in t.image_compression?A:t.image_compression.NONE),L)))throw new Error("An unknown error occurred whilst processing the image")}return function(t,e,n,r,i,o,a,s){var h=function(t,e,n){return t||e||(e=t=-96),t<0&&(t=-1*n.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]}.call(this,n,r,i),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(n=h[0],r=h[1],a[o]=i,s){s*=Math.PI/180;var c=Math.cos(s),f=Math.sin(s),p=function(t){return t.toFixed(4)},d=[p(c),p(f),p(-1*f),p(c),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,l(t),u(e+r),"cm"].join(" ")),this.internal.write(d.join(" ")),this.internal.write([l(n),"0","0",l(r),"0","0","cm"].join(" "))):this.internal.write([l(n),"0","0",l(r),l(t),u(e+r),"cm"].join(" ")),this.internal.write("/I"+i.i+" Do"),this.internal.write("Q")}.call(this,o,f,p,d,N,N.i,k,y),this},t.convertStringToImageData=function(e){var n,r="";if(this.isString(e)){var i;n=null!==(i=this.extractImageFromDataUrl(e))?i.data:e;try{r=atob(n)}catch(e){throw t.validateStringAsBase64(n)?new Error("atob-Error in jsPDF.convertStringToImageData "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return r};var f=function(t,e){return t.subarray(e,e+5)};t.processJPEG=function(t,e,n,r,o,a){var s,h=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(s=function(t){var e;if("JPEG"!==i(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,o=t.length;r<o;){if(r+=n,255!==t.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(r+1)||193===t.charCodeAt(r+1)||194===t.charCodeAt(r+1)||195===t.charCodeAt(r+1)||196===t.charCodeAt(r+1)||197===t.charCodeAt(r+1)||198===t.charCodeAt(r+1)||199===t.charCodeAt(r+1))return e=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),[256*t.charCodeAt(r+7)+t.charCodeAt(r+8),e,t.charCodeAt(r+9)];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(s=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,n=t.length,r=(t[4]<<8)+t[5],i=4;i<n;){if(r=((e=f(t,i+=r))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<r)return{width:((e=f(t,i+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};i+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=o||this.arrayBufferToBinaryString(t)),void 0===a)switch(s.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;default:case 3:a=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,s.width,s.height,a,8,h,e,n)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)},t.getImageProperties=function(e){var n,r,i="";if(l(e)&&(e=u(e)),this.isString(e)&&(""!==(i=this.convertStringToImageData(e))?e=i:void 0!==(i=t.loadFile(e))&&(e=i)),r=this.getImageFileTypeByImageData(e),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(e=this.binaryStringToUint8Array(e))),!(n=this["process"+r.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:r,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(ct.API),r=ct.API,ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),n=t.pageContext.annotations,r=function(t){if(void 0!==t&&""!=t)return!0},i=!1,o=0;o<n.length&&!i;o++)switch((h=n[o]).type){case"link":if(r(h.options.url)||r(h.options.pageNumber)){i=!0;break}case"reference":case"text":case"freetext":i=!0}if(0!=i){this.internal.write("/Annots ["),this.internal.pageSize.height;var a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;for(o=0;o<n.length;o++){var h;switch((h=n[o]).type){case"reference":this.internal.write(" "+h.object.objId+" 0 R ");break;case"text":var l=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),c=h.title||"Note";m="<</Type /Annot /Subtype /Text "+(p="/Rect ["+a(h.bounds.x)+" "+s(h.bounds.y+h.bounds.h)+" "+a(h.bounds.x+h.bounds.w)+" "+s(h.bounds.y)+"] ")+"/Contents ("+h.contents+")",m+=" /Popup "+u.objId+" 0 R",m+=" /P "+e.objId+" 0 R",m+=" /T ("+c+") >>",l.content=m;var f=l.objId+" 0 R";m="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+a(h.bounds.x+30)+" "+s(h.bounds.y+h.bounds.h)+" "+a(h.bounds.x+h.bounds.w+30)+" "+s(h.bounds.y)+"] ")+" /Parent "+f,h.open&&(m+=" /Open true"),m+=" >>",u.content=m,this.internal.write(l.objId,"0 R",u.objId,"0 R");break;case"freetext":var p="/Rect ["+a(h.bounds.x)+" "+s(h.bounds.y)+" "+a(h.bounds.x+h.bounds.w)+" "+s(h.bounds.y+h.bounds.h)+"] ",d=h.color||"#000000";m="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+h.contents+")",m+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+d+")",m+=" /Border [0 0 0]",m+=" >>",this.internal.write(m);break;case"link":if(h.options.name){var g=this.annotations._nameMap[h.options.name];h.options.pageNumber=g.page,h.options.top=g.y}else h.options.top||(h.options.top=0);p="/Rect ["+a(h.x)+" "+s(h.y)+" "+a(h.x+h.w)+" "+s(h.y+h.h)+"] ";var m="";if(h.options.url)m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+h.options.url+") >>";else if(h.options.pageNumber)switch(m="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(h.options.pageNumber).objId+" 0 R",h.options.magFactor=h.options.magFactor||"XYZ",h.options.magFactor){case"Fit":m+=" /Fit]";break;case"FitH":m+=" /FitH "+h.options.top+"]";break;case"FitV":h.options.left=h.options.left||0,m+=" /FitV "+h.options.left+"]";break;case"XYZ":default:var y=s(h.options.top);h.options.left=h.options.left||0,void 0===h.options.zoom&&(h.options.zoom=0),m+=" /XYZ "+h.options.left+" "+y+" "+h.options.zoom+"]"}""!=m&&(m+=" >>",this.internal.write(m))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},r.link=function(t,e,n,r,i){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:n,h:r,options:i,type:"link"})},r.textWithLink=function(t,e,n,r){var i=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*o,this.link(e,n-o,i,o,r),i},r.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&o(t)&&e[t.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&0<=i.indexOf(t.charCodeAt(0))},l=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&o(t)&&1<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&o(t)&&2<=e[t.charCodeAt(0)].length}),u=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&o(t)&&3<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&o(t)&&4==e[t.charCodeAt(0)].length}),c=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i=0,o="",a=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(a++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i=-1!==(i=f(t.charAt(e),t.charAt(e-a),t.charAt(e+1)))?i:0,o+=String.fromCharCode(r),r=n,a=0),e===t.length-1&&(r=n,o+=t.charAt(e-(a-1)),e-=a-1,a=0)):(r=n,o+=t.charAt(e-a),e-=a,a=0);return o},f=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===o(t)?-1:!l(t)||!a(e)&&!a(n)||!a(n)&&s(e)||s(t)&&!a(e)||s(t)&&h(e)||s(t)&&s(e)?0:u(t)&&a(e)&&!s(e)&&a(n)&&l(n)?3:s(t)||!a(n)?1:2:-1}),p=t.__arabicParser__.processArabic=t.processArabic=function(t){var n=0,r=0,i=0,o="",s="",h="",l=(t=t||"").split("\\s+"),u=[];for(n=0;n<l.length;n+=1){for(u.push(""),r=0;r<l[n].length;r+=1)o=l[n][r],s=l[n][r-1],h=l[n][r+1],a(o)?(i=f(o,s,h),u[n]+=-1!==i?String.fromCharCode(e[o.charCodeAt(0)][i]):o):u[n]+=o;u[n]=c(u[n])}return u.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?r.push([p(e[i][0]),e[i][1],e[i][2]]):r.push([p(e[i])]);t.text=r}else t.text=p(e)}])}(ct.API),ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},i=ct.API,(o=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},o.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new o,this.canvas.pdf=this}]),a=ct.API,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,u=function(t,e,n,r,i){h={x:t,y:e,w:n,h:r,ln:i}},c=function(){return h},f={left:0,top:0,bottom:0},a.setHeaderFunction=function(t){s=t},a.getTextDimensions=function(t,e){var n=this.table_font_size||this.internal.getFontSize(),r=(this.internal.getFont().fontStyle,(e=e||{}).scaleFactor||this.internal.scaleFactor),i=0,o=0,a=0;if("string"==typeof t)0!=(i=this.getStringUnitWidth(t)*n)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var s=0;s<t.length;s++)i<(a=this.getStringUnitWidth(t[s])*n)&&(i=a);0!==i&&(o=t.length)}return{w:i/=r,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/r,0)}},a.cellAddPage=function(){var t=this.margins||f;this.addPage(),u(t.left,t.top,void 0,void 0),l+=1},a.cellInitialize=function(){h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1},a.cell=function(t,e,n,r,i,o,a){var s=c(),h=!1;if(void 0!==s.ln)if(s.ln===o)t=s.x+s.w,e=s.y;else{var l=this.margins||f;s.y+s.h+r+13>=this.internal.pageSize.getHeight()-l.bottom&&(this.cellAddPage(),h=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=c().y+c().h,h&&(e=23)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===a){i instanceof Array||(i=[i]);for(var p=0;p<i.length;p++){var d=i[p],g=this.getStringUnitWidth(d)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(d,t+n-g-3,e+this.internal.getLineHeight()*(p+1))}}else this.text(i,t+3,e+this.internal.getLineHeight());return u(t,e,n,r,o),this},a.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;n<r;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):o<i&&(o=i);return o},a.table=function(t,e,n,r,i){if(!n)throw"No data for PDF table";var o,s,u,c,p,d,g,m,y,v,w=[],b=[],x={},N={},L=[],A=[],S=!1,_=!0,F=12,P=f;if(P.width=this.internal.pageSize.getWidth(),i&&(!0===i.autoSize&&(S=!0),!1===i.printHeaders&&(_=!1),i.fontSize&&(F=i.fontSize),i.css&&void 0!==i.css["font-size"]&&(F=16*i.css["font-size"]),i.margins&&(P=i.margins)),this.lnMod=0,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,this.printHeaders=_,this.margins=P,this.setFontSize(F),this.table_font_size=F,null==r)w=Object.keys(n[0]);else if(r[0]&&"string"!=typeof r[0])for(s=0,u=r.length;s<u;s+=1)o=r[s],w.push(o.name),b.push(o.prompt),N[o.name]=o.width*(19.049976/25.4);else w=r;if(S)for(v=function(t){return t[o]},s=0,u=w.length;s<u;s+=1){for(x[o=w[s]]=n.map(v),L.push(this.getTextDimensions(b[s]||o,{scaleFactor:1}).w),g=0,c=(d=x[o]).length;g<c;g+=1)p=d[g],L.push(this.getTextDimensions(p,{scaleFactor:1}).w);N[o]=a.arrayMax(L),L=[]}if(_){var k=this.calculateLineHeight(w,N,b.length?b:w);for(s=0,u=w.length;s<u;s+=1)o=w[s],A.push([t,e,N[o],k,String(b.length?b[s]:o)]);this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}for(s=0,u=n.length;s<u;s+=1)for(m=n[s],k=this.calculateLineHeight(w,N,m),g=0,y=w.length;g<y;g+=1)o=w[g],this.cell(t,e,N[o],k,m[o],s+2,o.align);return this.lastCellPos=h,this.table_x=t,this.table_y=e,this},a.calculateLineHeight=function(t,e,n){for(var r,i=0,o=0;o<t.length;o++){n[r=t[o]]=this.splitTextToSize(String(n[r]),e[r]-3);var a=this.internal.getLineHeight()*n[r].length+3;i<a&&(i=a)}return i},a.setTableHeaderRow=function(t){this.tableHeaderRow=t},a.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,i,o;if(this.printingHeaderRow=!0,void 0!==s){var a=s(this,l);u(a[0],a[1],a[2],a[3],-1)}this.setFontStyle("bold");var h=[];for(i=0,o=this.tableHeaderRow.length;i<o;i+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[i],e&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,h.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));0<h.length&&this.setTableHeaderRow(h),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(t,e){var r,i,o,a,s,h=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new M,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new j,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new j,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new l(this),r=this.internal.f2,this.internal.f3,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate}]);var l=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=Boolean(t)}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var s=[];Object.defineProperty(this,"pageBreaks",{get:function(){return s},set:function(t){s=t}});var l=new h;Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof h&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=u(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=u(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],o=e[5],a=e[6];i="px"===o?Math.floor(parseFloat(i)):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i);var s="";("bold"===r||700<=parseInt(r,10)||"bold"===n)&&(s="bold"),"italic"===n&&(s+="italic"),0===s.length&&(s="normal");for(var h="",l=a.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},c=0;c<l.length;c++){if(void 0!==this.pdf.internal.getFont(l[c],s,{noFallback:!0,disableWarning:!0})){h=l[c];break}if("bolditalic"===s&&void 0!==this.pdf.internal.getFont(l[c],"bold",{noFallback:!0,disableWarning:!0}))h=l[c],s="bold";else if(void 0!==this.pdf.internal.getFont(l[c],"normal",{noFallback:!0,disableWarning:!0})){h=l[c],s="normal";break}}if(""===h)for(c=0;c<l.length;c++)if(u[l[c]]){h=u[l[c]];break}h=""===h?"Times":h,this.pdf.setFont(h,s)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};l.prototype.fill=function(){m.call(this,"fill",!1)},l.prototype.stroke=function(){m.call(this,"stroke",!1)},l.prototype.beginPath=function(){this.path=[{type:"begin"}]},l.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new j(t,e)},l.prototype.closePath=function(){var t=new j(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===n(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new j(this.path[e+1].x,this.path[e+1].y),this.path.push({type:"lt",x:t.x,y:t.y});break}"object"===n(this.path[e+2])&&"number"==typeof this.path[e+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[e+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new j(t.x,t.y)},l.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new j(n.x,n.y)},l.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),m.call(this,null,!0)},l.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new j(n,r)),o=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new j(i.x,i.y)},l.prototype.bezierCurveTo=function(t,e,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new j(i,o)),s=this.ctx.transform.applyToPoint(new j(t,e)),h=this.ctx.transform.applyToPoint(new j(n,r));this.path.push({type:"bct",x1:s.x,y1:s.y,x2:h.x,y2:h.y,x:a.x,y:a.y}),this.ctx.lastPoint=new j(a.x,a.y)},l.prototype.arc=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new j(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new j(0,n)),h=this.ctx.transform.applyToPoint(new j(0,0));n=Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},l.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},l.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},l.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!c.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},l.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},l.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},l.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},l.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},l.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))i=r=n=e=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},c=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};l.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!c.call(this)){n=v.call(this,n);var i=k(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;L.call(this,{text:t,x:e,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},l.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r,n=v.call(this,n);var i=k(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;L.call(this,{text:t,x:e,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},l.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},l.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new M(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new M(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},l.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new M(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.transform=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new M(t,e,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},l.prototype.setTransform=function(t,e,n,r,i,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new M(t,e,n,r,i,o)},l.prototype.drawImage=function(t,e,n,r,i,o,a,s,h){var l=this.pdf.getImageProperties(t),u=1,c=1,f=1,d=1;void 0!==r&&void 0!==s&&(f=s/r,d=h/i,u=l.width/r*s/r,c=l.height/i*h/i),void 0===o&&(o=e,a=n,n=e=0),void 0!==r&&void 0===s&&(s=r,h=i),void 0===r&&void 0===s&&(s=l.width,h=l.height);var m=this.ctx.transform.decompose(),v=k(m.rotate.shx);m.scale.sx,m.scale.sy;for(var w,b=new M,x=((b=(b=(b=b.multiply(m.translate)).multiply(m.skew)).multiply(m.scale)).applyToPoint(new j(s,h)),b.applyToRectangle(new E(o-e*f,a-n*d,r*u,i*c))),N=p.call(this,x),L=[],A=0;A<N.length;A+=1)-1===L.indexOf(N[A])&&L.push(N[A]);if(L.sort(),this.autoPaging)for(var S=L[0],_=L[L.length-1],F=S;F<_+1;F++){if(this.pdf.setPage(F),0!==this.ctx.clip_path.length){var P=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(w,this.posX,-1*this.pdf.internal.pageSize.height*(F-1)+this.posY),y.call(this,"fill",!0),this.path=P}var I=JSON.parse(JSON.stringify(x));I=g([I],this.posX,-1*this.pdf.internal.pageSize.height*(F-1)+this.posY)[0],this.pdf.addImage(t,"jpg",I.x,I.y,I.w,I.h,null,null,v)}else this.pdf.addImage(t,"jpg",x.x,x.y,x.w,x.h,null,null,v)};var p=function(t,e,n){var r=[];switch(e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+this.posY)/n)+1);break;case"arc":r.push(Math.floor((t.y+this.posY-t.radius)/n)+1),r.push(Math.floor((t.y+this.posY+t.radius)/n)+1);break;case"qct":var i=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor(i.y/n)+1),r.push(Math.floor((i.y+i.h)/n)+1);break;case"bct":var o=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor(o.y/n)+1),r.push(Math.floor((o.y+o.h)/n)+1);break;case"rect":r.push(Math.floor((t.y+this.posY)/n)+1),r.push(Math.floor((t.y+t.h+this.posY)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)d.call(this);return r},d=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},g=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=n}return t},m=function(t,e){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,h=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),c=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var m=p.call(this,u[f]),v=0;v<m.length;v+=1)-1===c.indexOf(m[v])&&c.push(m[v]);for(f=0;f<c.length;f++)for(;this.pdf.internal.getNumberOfPages()<c[f];)d.call(this);if(c.sort(),this.autoPaging){var w=c[0],b=c[c.length-1];for(f=w;f<b+1;f++){if(this.pdf.setPage(f),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=s,this.lineJoin=h,0!==this.ctx.clip_path.length){var x=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(n,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),y.call(this,t,!0),this.path=x}r=JSON.parse(JSON.stringify(l)),this.path=g(r,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),!1!==e&&0!==f||y.call(this,t,e)}}else y.call(this,t,e);this.path=l},y=function(t,e){if(("stroke"!==t||e||!f.call(this))&&("stroke"===t||e||!c.call(this))){var n=[];this.ctx.globalAlpha,this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var r,i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:a,deltas:[],abs:[]});break;case"lt":var s=n.length;if(!isNaN(i[o-1].x)){var h=[a.x-i[o-1].x,a.y-i[o-1].y];if(0<s)for(;0<=s;s--)if(!0!==n[s-1].close&&!0!==n[s-1].begin){n[s-1].deltas.push(h),n[s-1].abs.push(a);break}}break;case"bct":h=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y],n[n.length-1].deltas.push(h);break;case"qct":var l=i[o-1].x+2/3*(a.x1-i[o-1].x),u=i[o-1].y+2/3*(a.y1-i[o-1].y),p=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),g=a.x,m=a.y;h=[l-i[o-1].x,u-i[o-1].y,p-i[o-1].x,d-i[o-1].y,g-i[o-1].x,m-i[o-1].y],n[n.length-1].deltas.push(h);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(a)}}for(r=e?null:"stroke"===t?"stroke":"fill",o=0;o<n.length;o++){if(n[o].arc)for(var y=n[o].abs,v=0;v<y.length;v++){var N=y[v];if(void 0!==N.startAngle){var L=k(N.startAngle),_=k(N.endAngle),F=N.x,P=N.y;w.call(this,F,P,N.radius,L,_,N.counterclockwise,r,e)}else A.call(this,N.x,N.y)}n[o].arc||!0===n[o].close||!0===n[o].begin||(F=n[o].start.x,P=n[o].start.y,S.call(this,n[o].deltas,F,P,null,null))}r&&b.call(this,r),e&&x.call(this)}},v=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}};l.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},l.prototype.createPattern=function(){return this.createLinearGradient()},l.prototype.createRadialGradient=function(){return this.createLinearGradient()};var w=function(t,e,n,r,i,o,a,s){this.pdf.internal.scaleFactor;for(var h=I(r),l=I(i),u=F.call(this,n,h,l,o),c=0;c<u.length;c++){var f=u[c];0===c&&N.call(this,f.x1+t,f.y1+e),_.call(this,t,e,f.x2,f.y2,f.x3,f.y3,f.x4,f.y4)}s?x.call(this):b.call(this,a)},b=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},x=function(){this.pdf.clip()},N=function(t,e){this.pdf.internal.out(i(t)+" "+o(e)+" m")},L=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n=this.ctx.transform.applyToPoint(new j(t.x,t.y)),r=this.ctx.transform.decompose(),i=new M;i=(i=(i=i.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new E(t.x,t.y,a.w,a.h)),h=i.applyToRectangle(new E(t.x,t.y-a.h,a.w,a.h)),l=p.call(this,h),u=[],c=0;c<l.length;c+=1)-1===u.indexOf(l[c])&&u.push(l[c]);if(u.sort(),!0===this.autoPaging)for(var f=u[0],d=u[u.length-1],m=f;m<d+1;m++){if(this.pdf.setPage(m),0!==this.ctx.clip_path.length){var v=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(o,this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY),y.call(this,"fill",!0),this.path=v}var w=JSON.parse(JSON.stringify(s));if(w=g([w],this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY)[0],.01<=t.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,w.x,w.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)}else.01<=t.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*t.scale)),this.pdf.text(t.text,n.x+this.posX,n.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)},A=function(t,e,n,r){n=n||0,r=r||0,this.pdf.internal.out(i(t+n)+" "+o(e+r)+" l")},S=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},_=function(t,e,n,i,o,h,l,u){this.pdf.internal.out([r(a(n+t)),r(s(i+e)),r(a(o+t)),r(s(h+e)),r(a(l+t)),r(s(u+e)),"c"].join(" "))},F=function(t,e,n,r){var i=2*Math.PI,o=e;(o<i||i<o)&&(o%=i);var a=n;(a<i||i<a)&&(a%=i);for(var s=[],h=Math.PI/2,l=r?-1:1,u=e,c=Math.min(i,Math.abs(a-o));1e-5<c;){var f=u+l*Math.min(c,h);s.push(P.call(this,t,u,f)),c-=Math.abs(f-u),u=f}return s},P=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),a=i,s=-o,h=a*a+s*s,l=h+a*i+s*o,u=4/3*(Math.sqrt(2*h*l)-l)/(a*o-s*i),c=a-u*s,f=s+u*a,p=c,d=-f,g=r+e,m=Math.cos(g),y=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:c*m-f*y,y2:c*y+f*m,x3:p*m-d*y,y3:p*y+d*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},k=function(t){return 180*t/Math.PI},I=function(t){return t*Math.PI/180},C=function(t,e,n,r,i,o){var a=t+.5*(n-t),s=e+.5*(r-e),h=i+.5*(n-i),l=o+.5*(r-o),u=Math.min(t,i,a,h),c=Math.max(t,i,a,h),f=Math.min(e,o,s,l),p=Math.max(e,o,s,l);return new E(u,f,c-u,p-f)},B=function(t,e,n,r,i,o,a,s){for(var h,l,u,c,f,p,d,g,m,y,v,w,b,x=n-t,N=r-e,L=i-n,A=o-r,S=a-i,_=s-o,F=0;F<41;F++)g=(p=(l=t+(h=F/40)*x)+h*((c=n+h*L)-l))+h*(c+h*(i+h*S-c)-p),m=(d=(u=e+h*N)+h*((f=r+h*A)-u))+h*(f+h*(o+h*_-f)-d),b=0==F?(w=y=g,v=m):(y=Math.min(y,g),v=Math.min(v,m),w=Math.max(w,g),Math.max(b,m));return new E(Math.round(y),Math.round(v),Math.round(w-y),Math.round(b-v))},j=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},E=function(t,e,n,r){j.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},M=function(t,e,n,r,i,o){var a=[];return Object.defineProperty(this,"sx",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(n)?0:n,this.sy=isNaN(r)?1:r,this.tx=isNaN(i)?0:i,this.ty=isNaN(o)?0:o,this};M.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,o=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new M(e,n,r,i,o,a)},M.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*n+(e/=a)*r;n-=t*s,r-=e*s;var h=Math.sqrt(n*n+r*r);return s/=h,t*(r/=h)<e*(n/=h)&&(t=-t,e=-e,s=-s,a=-a),{scale:new M(a,0,0,h,0,0),translate:new M(1,0,0,1,i,o),rotate:new M(t,e,-e,t,0,0),skew:new M(1,0,s,1,0,0)}},M.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new j(e,n)},M.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new j(t.x+t.w,t.y+t.h));return new E(e.x,e.y,n.x-e.x,n.y-e.y)},M.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new M(t,e,n,r,i,o)}}(ct.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")()),p=ct.API,d=function(t){var e,n,r,i,o,a,s,h,l,u;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;r<i;r+=4)0!==(o=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(u=o%85))/85)-(l=o%85))/85)-(h=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,h+33,l+33,u+33)):n.push(122);return function(t,n){for(var r=e.length;0<r;r--)t.pop()}(n),String.fromCharCode.apply(String,n)+"~>"},g=function(t){var e,n,r,i,o,a=String,s="length",h="charCodeAt",l="slice",u="replace";for(t[l](-2),t=t[l](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],i=0,o=(t+=e="uuuuu"[l](t[s]%5||5))[s];i<o;i+=5)n=52200625*(t[h](i)-33)+614125*(t[h](i+1)-33)+7225*(t[h](i+2)-33)+85*(t[h](i+3)-33)+(t[h](i+4)-33),r.push(255&n>>24,255&n>>16,255&n>>8,255&n);return function(t,n){for(var r=e[s];0<r;r--)t.pop()}(r),a.fromCharCode.apply(a,r)},m=function(t){for(var e="",n=0;n<t.length;n+=1)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e+">"},y=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},v=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var n,r,i=[],o=t.length;o--;)i[o]=t.charCodeAt(o);return n=p.adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),(i=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),i.set(t,2),i.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),t.length+2),String.fromCharCode.apply(null,i)},p.processDataByFilters=function(t,e){var n=0,r=t||"",i=[];for("string"==typeof(e=e||[])&&(e=[e]),n=0;n<e.length;n+=1)switch(e[n]){case"ASCII85Decode":case"/ASCII85Decode":r=g(r),i.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":r=d(r),i.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":r=y(r),i.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":r=m(r),i.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":r=v(r),i.push("/FlateDecode");break;default:throw'The filter: "'+e[n]+'" is not implemented'}return{data:r,reverseChain:i.reverse().join(" ")}},(w=ct.API).loadFile=function(t,e,n){var r;e=e||!0,n=n||function(){};try{r=function(t,e,n){var r=new XMLHttpRequest,i=[],o=0,a=function(t){var e=t.length,n=String.fromCharCode;for(o=0;o<e;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){return a(this.responseText)}),r.send(null),200===r.status)return e?a(r.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){r=void 0}return r},w.loadImageFile=w.loadFile,b=ct.API,x="undefined"!=typeof window&&window||void 0!==e&&e,N=function(t){var e=n(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},L=function(t,e){var n=document.createElement(t);if(e.className&&(n.className=e.className),e.innerHTML){n.innerHTML=e.innerHTML;for(var r=n.getElementsByTagName("script"),i=r.length;0<i--;null)r[i].parentNode.removeChild(r[i])}for(var o in e.style)n.style[o]=e.style[o];return n},(((A=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=A).convert=function(t,e){return t.__proto__=e||A.prototype,t},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},A.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(N(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:L("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},A.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=L("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=L("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(L("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},A.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},A.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},A.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==x.html2canvas;return t||console.error("html2canvas not loaded."),t},A.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(t){if("object"!==N(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in A.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},A.prototype.get=function(t,e){return this.then(function(){var n=t in A.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},A.prototype.setMargin=function(t){return this.then(function(){switch(N(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},A.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},A.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},A.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},A.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:A.convert(Object.assign({},r),Promise.prototype),o=n.call(i,t,e);return A.convert(o,r.__proto__)},A.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},A.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},A.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return A.convert(e,this)},A.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},A.prototype.error=function(t){return this.then(function(){throw new Error(t)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,ct.getPageSize=function(t,e,r){if("object"===n(t)){var i=t;t=i.orientation,e=i.unit||e,r=i.format||r}e=e||"mm",r=r||"a4",t=(""+(t||"P")).toLowerCase();var o=(""+r).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":var s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+e}if(a.hasOwnProperty(o))var h=a[o][1]/s,l=a[o][0]/s;else try{h=r[1],l=r[0]}catch(t){throw new Error("Invalid format: "+r)}if("p"===t||"portrait"===t){if(t="p",h<l){var u=l;l=h,h=u}}else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l<h&&(u=l,l=h,h=u)}return{width:l,height:h,unit:e,k:s}},b.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.jsPDF;var n=new A(e);return e.worker?n:n.from(t).doCallback()},ct.API.addJS=function(t){return F=t,this.internal.events.subscribe("postPutResources",function(t){S=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+F+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==S&&void 0!==_&&this.internal.out("/Names <</JavaScript "+S+" 0 R>>")}),this},(P=ct.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=t.outline.render().split(/\r\n/),r=0;r<n.length;r++){var i=n[r],o=e.exec(i);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,h=[];for(r=0;r<s;r++){var l=t.internal.newObject();h.push(l);var u=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var c=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<h.length;r++)t.internal.write("(page_"+(r+1)+")"+h[r]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+c+" 0 R"),t.internal.write(">>","endobj")}}]),P.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),P.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){this.ctx.pdf.internal.getCoordinateString;for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),0<r&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),0<i.children.length&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(0<o&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(r=0;r<e.children.length;r++)i=e.children[r],this.renderItems(i)},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}]),k=ct.API,I=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},C=function(t,e,n,r){var i=5,o=q;switch(r){case k.image_compression.FAST:i=3,o=O;break;case k.image_compression.MEDIUM:i=6,o=T;break;case k.image_compression.SLOW:i=9,o=R}t=E(t,e,n,o);var a=new Uint8Array(B(i)),s=j(t),h=new Deflater(i),l=h.append(t),u=h.flush(),c=a.length+l.length+u.length,f=new Uint8Array(c+4);return f.set(a),f.set(l,a.length),f.set(u,a.length+l.length),f[c++]=s>>>24&255,f[c++]=s>>>16&255,f[c++]=s>>>8&255,f[c++]=255&s,k.arrayBufferToBinaryString(f)},B=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,[n,255&(r+=31-r%31)]},j=function(t,e){for(var n,r=1,i=0,o=t.length,a=0;0<o;){for(o-=n=e<o?e:o;i+=r+=t[a++],--n;);r%=65521,i%=65521}return(i<<16|r)>>>0},E=function(t,e,n,r){for(var i,o,a,s=t.length/e,h=new Uint8Array(t.length+s),l=U(),u=0;u<s;u++){if(a=u*e,i=t.subarray(a,a+e),r)h.set(r(i,n,o),a+u);else{for(var c=0,f=l.length,p=[];c<f;c++)p[c]=l[c](i,n,o);var d=z(p.concat());h.set(p[d],a+u)}o=i}return h},M=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},O=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;o<a;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},q=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;o<a;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},T=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},R=function(t,e,n){var r,i,o,a,s=[],h=0,l=t.length;for(s[0]=4;h<l;h++)r=t[h-e]||0,i=n&&n[h]||0,o=n&&n[h-e]||0,a=D(r,i,o),s[h+1]=t[h]-a+256&255;return s},D=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},U=function(){return[M,O,q,T,R]},z=function(t){for(var e,n,r,i=0,o=t.length;i<o;)((e=H(t[i].slice(1)))<n||!n)&&(n=e,r=i),i++;return r},H=function(t){for(var e=0,n=t.length,r=0;e<n;)r+=Math.abs(t[e++]);return r},k.processPNG=function(t,e,n,r,i){var o,a,s,h,l,u,c=this.color_spaces.DEVICE_RGB,f=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof jt)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,p=o.bits,c=o.colorSpace,h=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var d,g=(_=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*o.colors),y=new Uint8Array(g),v=o.pixelBitlength-o.bits,w=0,b=0;w<g;w++){for(x=_[w],d=0;d<v;)m[b++]=x>>>d&255,d+=o.bits;y[w]=x>>>d&255}if(16===o.bits){g=(_=new Uint32Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),y=new Uint8Array(g*(32/o.pixelBitlength));for(var x,N=1<o.colors,L=b=w=0;w<g;)x=_[w++],m[b++]=x>>>0&255,N&&(m[b++]=x>>>16&255,x=_[w++],m[b++]=x>>>0&255),y[L++]=x>>>16&255;p=8}r!==k.image_compression.NONE&&I()?(t=C(m,o.width*o.colors,o.colors,r),u=C(y,o.width,1,r)):(t=m,u=y,f=null)}if(3===o.colorType&&(c=this.color_spaces.INDEXED,l=o.palette,o.transparency.indexed)){var A=o.transparency.indexed,S=0;for(w=0,g=A.length;w<g;++w)S+=A[w];if((S/=255)==g-1&&-1!==A.indexOf(0))s=[A.indexOf(0)];else if(S!==g){var _=o.decodePixels();for(y=new Uint8Array(_.length),w=0,g=_.length;w<g;w++)y[w]=A[_[w]];u=C(y,o.width,1)}}var F=function(t){var e;switch(r){case k.image_compression.FAST:e=11;break;case k.image_compression.MEDIUM:e=13;break;case k.image_compression.SLOW:e=14;break;default:e=12}return e}();return a=f===this.decode.FLATE_DECODE?"/Predictor "+F+" /Colors "+h+" /BitsPerComponent "+p+" /Columns "+o.width:"/Colors "+h+" /BitsPerComponent "+p+" /Columns "+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(t,o.width,o.height,c,p,f,e,n,a,s,l,u,F)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(W=ct.API).processGIF89A=function(t,e,n,r,i){var o=new Pt(t),a=o.width,s=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var l={data:h,width:a,height:s},u=new It(100).encode(l,100);return W.processJPEG.call(this,u,e,n,r)},W.processGIF87A=W.processGIF89A,(V=ct.API).processBMP=function(t,e,n,r,i){var o=new Ct(t,!1),a=o.width,s=o.height,h={data:o.getData(),width:a,height:s},l=new It(100).encode(h,100);return V.processJPEG.call(this,l,e,n,r)},ct.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},G=ct.API,Y=G.getCharWidthsArray=function(t,e){var n,r,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,l=h.fof?h.fof:1,u=e.kerning?e.kerning:o.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=0,p=h[0]||l,d=[];for(n=0,r=t.length;n<r;n++)i=t.charCodeAt(n),"function"==typeof o.metadata.widthOfString?d.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):d.push((h[i]||p)/l+(u[i]&&u[i][f]||0)/c),f=i;return d},J=G.getArraySum=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},X=G.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:J(Y.apply(this,arguments))},K=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var h=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(h,o)),s=0,h=o),s+=e[o],o++;return h!==o&&i.push(t.slice(h,o)),i},Z=function(t,e,n){n||(n={});var r,i,o,a,s,h,l=[],u=[l],c=n.textIndent||0,f=0,p=0,d=t.split(" "),g=Y.apply(this,[" ",n])[0];if(h=-1===n.lineIndent?d[0].length+2:n.lineIndent||0){var m=Array(h).join(" "),y=[];d.map(function(t){1<(t=t.split(/\s*\n/)).length?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),d=y,h=X.apply(this,[m,n])}for(o=0,a=d.length;o<a;o++){var v=0;if(r=d[o],h&&"\n"==r[0]&&(r=r.substr(1),v=1),i=Y.apply(this,[r,n]),e<c+f+(p=J(i))||v){if(e<p){for(s=K.apply(this,[r,i,e-(c+f),e]),l.push(s.shift()),l=[s.pop()];s.length;)u.push([s.shift()]);p=J(i.slice(r.length-(l[0]?l[0].length:0)))}else l=[r];u.push(l),c=p+h,f=g}else l.push(r),c+=f+p,f=g}if(h)var w=function(t,e){return(e?m:"")+t.join(" ")};else w=function(t){return t.join(" ")};return u.map(w)},G.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return e.metadata[n]?{widths:e.metadata[n].widths||{0:1},kerning:e.metadata[n].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,h,l=[];for(s=0,h=r.length;s<h;s++)l=l.concat(Z.apply(this,[r[s],a,o]));return l},Q=ct.API,tt={codePages:["WinAnsiEncoding"],WinAnsiEncoding:($=function(t){for(var e="klmnopqrstuvwxyz",n={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r];var i,o,a,s,h,l={},u=1,c=l,f=[],p="",d="",g=t.length-1;for(r=1;r!=g;)h=t[r],r+=1,"'"==h?o=o?(s=o.join(""),i):[]:o?o.push(h):"{"==h?(f.push([c,s]),c={},s=i):"}"==h?((a=f.pop())[0][a[1]]=c,s=i,c=a[0]):"-"==h?u=-1:s===i?n.hasOwnProperty(h)?(p+=n[h],s=parseInt(p,16)*u,u=1,p=""):p+=h:n.hasOwnProperty(h)?(d+=n[h],c[s]=parseInt(d,16)*u,u=1,s=i,d=""):d+=h;return l})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},et={Unicode:{Courier:tt,"Courier-Bold":tt,"Courier-BoldOblique":tt,"Courier-Oblique":tt,Helvetica:tt,"Helvetica-Bold":tt,"Helvetica-BoldOblique":tt,"Helvetica-Oblique":tt,"Times-Roman":tt,"Times-Bold":tt,"Times-BoldItalic":tt,"Times-Italic":tt}},nt={Unicode:{"Courier-Oblique":$("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":$("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":$("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:$("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":$("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":$("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:$("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:$("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":$("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:$("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":$("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":$("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":$("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":$("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},Q.events.push(["addFont",function(t){var e,n,r,i=t.font,o="Unicode";(e=nt[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).widths=e.widths,n.kerning=e.kerning),(r=et[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).encoding=r).codePages&&r.codePages.length&&(i.encoding=r.codePages[0])}]),rt=ct,"undefined"!=typeof self&&self||void 0!==e&&e||"undefined"!=typeof window&&window||Function("return this")(),rt.API.events.push(["addFont",function(t){var e=t.font,n=t.instance;if(void 0!==n&&n.existsFileInVFS(e.postScriptName)){var r=n.getFileFromVFS(e.postScriptName);if("string"!=typeof r)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=rt.API.TTFFont.open(e.postScriptName,e.fontName,r,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),(it=ct.API).addSvg=function(t,e,n,r,i){if(void 0===e||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function o(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;i<o;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var a,s,h,l,u,c,f,p,d=(a=t,(h=((s=(p=(l=document).createElement("iframe"),u=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(f=(c=l).createElement("style")).type="text/css",f.styleSheet?f.styleSheet.cssText=u:f.appendChild(c.createTextNode(u)),c.getElementsByTagName("head")[0].appendChild(f),p.name="childframe",p.setAttribute("width",0),p.setAttribute("height",0),p.setAttribute("frameborder","0"),p.setAttribute("scrolling","no"),p.setAttribute("seamless","seamless"),p.setAttribute("class","jsPDF_sillysvg_iframe"),l.body.appendChild(p),p)).contentWindow||s.contentDocument).document).write(a),h.close(),h.getElementsByTagName("svg")[0]),g=[1,1],m=parseFloat(d.getAttribute("width")),y=parseFloat(d.getAttribute("height"));m&&y&&(r&&i?g=[r/m,i/y]:r?g=[r/m,r/m]:i&&(g=[i/y,i/y]));var v,w,b,x,N=d.childNodes;for(v=0,w=N.length;v<w;v++)(b=N[v]).tagName&&"PATH"===b.tagName.toUpperCase()&&((x=o(b.getAttribute("d").split(" ")))[0]=x[0]*g[0]+e,x[1]=x[1]*g[1]+n,this.lines.call(this,x[2],x[0],x[1],g));return this},it.addSVG=it.addSvg,it.addSvgAsImage=function(t,e,n,r,i,o,a,s){if(isNaN(e)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=i;var l=h.getContext("2d");return l.fillStyle="#fff",l.fillRect(0,0,h.width,h.height),canvg(h,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(h.toDataURL("image/jpeg",1),e,n,r,i,a,s),this},ct.API.putTotalPages=function(t){var e,n;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),h=[],l=0,u=0,c=0,f=!0;function p(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var d=s.length;for(c=0;c<d;c+=1)r[s[c]].value=r[s[c]].defaultValue,r[s[c]].explicitSet=!1}if("object"===n(t))for(i in t)if(o=t[i],p(s,i)&&void 0!==o){if("boolean"===r[i].type&&"boolean"==typeof o)r[i].value=o;else if("name"===r[i].type&&p(r[i].valueSet,o))r[i].value=o;else if("integer"===r[i].type&&Number.isInteger(o))r[i].value=o;else if("array"===r[i].type){for(l=0;l<o.length;l+=1)if(f=!0,1===o[l].length&&"number"==typeof o[l][0])h.push(String(o[l]-1));else if(1<o[l].length){for(u=0;u<o[l].length;u+=1)"number"!=typeof o[l][u]&&(f=!1);!0===f&&h.push([o[l][0]-1,o[l][1]-1].join(" "))}r[i].value="["+h.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in r)!0===r[t].explicitSet&&("name"===r[t].type?e.push("/"+t+" /"+r[t].value):e.push("/"+t+" "+r[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},ot=ct.API,ht=st=at="",ot.addMetadata=function(t,e){return st=e||"http://jspdf.default.namespaceuri/",at=t,this.internal.events.subscribe("postPutResources",function(){if(at){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+st+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(at)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+e.length+o.length;ht=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")}else ht=""}),this.internal.events.subscribe("putCatalog",function(){ht&&this.internal.write("/Metadata "+ht+" 0 R")}),this},function(t,e){var n=t.API,r=n.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=t.length;a<s;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},i=function(t){var e,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<s;a++)e=n[a],100<=r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">");return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(e){!function(e,n,r,o){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var a=e.metadata.Unicode.widths,s=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),h="",l=0;l<s.length;l++)h+=String.fromCharCode(s[l]);var u=r();o({data:h,addLength1:!0}),n("endobj");var c=r();o({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var f=r();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+e.fontName),n("/FontFile2 "+u+" 0 R"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/Flags "+e.metadata.flags),n("/StemV "+e.metadata.stemV),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n(">>"),n("endobj");var p=r();n("<<"),n("/Type /Font"),n("/BaseFont /"+e.fontName),n("/FontDescriptor "+f+" 0 R"),n("/W "+t.API.PDFObject.convert(a)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+e.encoding+")"),n(">>"),n(">>"),n("endobj"),e.objectNumber=r(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+c+" 0 R"),n("/BaseFont /"+e.fontName),n("/Encoding /"+e.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]),n.events.push(["putFont",function(e){!function(e,n,r,o){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){e.metadata.Unicode.widths;for(var a=e.metadata.rawData,s="",h=0;h<a.length;h++)s+=String.fromCharCode(a[h]);var l=r();o({data:s,addLength1:!0}),n("endobj");var u=r();o({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var c=r();for(n("<<"),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n("/StemV "+e.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+l+" 0 R"),n("/Flags 96"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/FontName /"+e.fontName),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n(">>"),n("endobj"),e.objectNumber=r(),h=0;h<e.metadata.hmtx.widths.length;h++)e.metadata.hmtx.widths[h]=parseInt(e.metadata.hmtx.widths[h]*(1e3/e.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+c+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),n("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]);var o=function(t){var e,n,i=t.text||"",o=t.x,a=t.y,s=t.options||{},h=t.mutex||{},l=h.pdfEscape,u=h.activeFontKey,c=h.fonts,f=(h.activeFontSize,""),p=0,d="",g=c[n=u].encoding;if("Identity-H"!==c[n].encoding)return{text:i,x:o,y:a,options:s,mutex:h};for(d=i,n=u,"[object Array]"===Object.prototype.toString.call(i)&&(d=i[0]),p=0;p<d.length;p+=1)c[n].metadata.hasOwnProperty("cmap")&&(e=c[n].metadata.cmap.unicode.codeMap[d[p].charCodeAt(0)]),e?f+=d[p]:d[p].charCodeAt(0)<256&&c[n].metadata.hasOwnProperty("Unicode")?f+=d[p]:f+="";var m="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===g?m=function(t){for(var e="",n=0;n<t.length;n++)e+=""+t.charCodeAt(n).toString(16);return e}(l(f,n)):"Identity-H"===g&&(m=r(f,c[n])),h.isHex=!0,{text:m,x:o,y:a,options:s,mutex:h}};n.events.push(["postProcessText",function(t){var e=t.text||"",n=t.x,r=t.y,i=t.options,a=t.mutex,s=(i.lang,[]),h={text:e,x:n,y:r,options:i,mutex:a};if("[object Array]"===Object.prototype.toString.call(e)){var l=0;for(l=0;l<e.length;l+=1)"[object Array]"===Object.prototype.toString.call(e[l])&&3===e[l].length?s.push([o(Object.assign({},h,{text:e[l][0]})).text,e[l][1],e[l][2]]):s.push(o(Object.assign({},h,{text:e[l]})).text);t.text=s}else t.text=o(Object.assign({},h,{text:e})).text}])}(ct,"undefined"!=typeof self&&self||void 0!==e&&e||"undefined"!=typeof window&&window||Function("return this")()),lt=ct.API,ut=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},lt.existsFileInVFS=function(t){return!!ut(this.internal)&&void 0!==this.internal.vFS[t]},lt.addFileToVFS=function(t,e){return ut(this.internal),this.internal.vFS[t]=e,this},lt.getFileFromVFS=function(t){return ut(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},ct.API.addHTML=function(t,e,n,r,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,i=n),"function"==typeof r&&(i=r,r=null),"function"!=typeof i&&(i=function(){});var o=this.internal,a=o.scaleFactor,s=o.pageSize.getWidth(),h=o.pageSize.getHeight();if((r=r||{}).onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var o=r.dim||{},l=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},r.margin),u=o.h||Math.min(h,t.height/a),c=o.w||Math.min(s,t.width/a)-e,f=r.format||"JPEG",p=r.imageCompression||"SLOW";if(t.height>h-l.top-l.bottom&&r.pagesplit){var d=function(t,e,n,i,o){var a=document.createElement("canvas");a.height=o,a.width=i;var s=a.getContext("2d");return s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,s.fillStyle=r.backgroundColor||"#ffffff",s.fillRect(0,0,i,o),s.drawImage(t,e,n,i,o,0,0,i,o),a},g=function(){for(var r,o,u=0,g=0,m={},y=!1;;){var v;if(g=0,m.top=0!==u?l.top:n,m.left=0!==u?l.left:e,y=(s-l.left-l.right)*a<t.width,"content"===l.useFor?0===u?(r=Math.min((s-l.left)*a,t.width),o=Math.min((h-l.top)*a,t.height-u)):(r=Math.min(s*a,t.width),o=Math.min(h*a,t.height-u),m.top=0):(r=Math.min((s-l.left-l.right)*a,t.width),o=Math.min((h-l.bottom-l.top)*a,t.height-u)),y)for(;;){"content"===l.useFor&&(0===g?r=Math.min((s-l.left)*a,t.width):(r=Math.min(s*a,t.width-g),m.left=0));var w=[v=d(t,g,u,r,o),m.left,m.top,v.width/a,v.height/a,f,null,p];if(this.addImage.apply(this,w),(g+=r)>=t.width)break;this.addPage()}else w=[v=d(t,0,u,r,o),m.left,m.top,v.width/a,v.height/a,f,null,p],this.addImage.apply(this,w);if((u+=o)>=t.height)break;this.addPage()}i(c,u,null,w)}.bind(this);if("CANVAS"===t.nodeName){var m=new Image;m.onload=g,m.src=t.toDataURL("image/png"),t=m}else g()}else{var y=Math.random().toString(35),v=[t,e,n,c,u,f,y,p];this.addImage.apply(this,v),i(c,u,y,v)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"==typeof rasterizeHTML)return null;var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[l](t,void 0,r).then(function(t){r.onrendered(t.image)},function(t){i(null,t)})},function(t){var e,r,i,o,a,s,h,l,u,c,f,p,d,g,m,y,v,w,b,x;e=function(){return function(e){return t.prototype=e,new t};function t(){}}(),c=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,a=i=!1;!i&&n!==r;)(e=t[n]=t[n].trimLeft())&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)"\u2028"!=t[n]&&(e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e),n++;return t},p=function(t){var e,n,r;for(e=void 0,n=(r=t.split(",")).shift();!e&&n;)e=i[n.trim().toLowerCase()],n=r.shift();return e},d=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),Array.isArray(e)&&3===e.length?g[t]=parseFloat(e[1])/16:g[t]=1)},u=function(t){var e,n,r,i,u;return u=t,i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(u,null):u.currentStyle?u.currentStyle:u.style,n=void 0,(e={})["font-family"]=p((r=function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),i[t]})("font-family"))||"times",e["font-style"]=o[r("font-style")]||"normal",e["text-align"]=a[r("text-align")]||"left","bold"===(n=s[r("font-weight")]||"normal")&&("normal"===e["font-style"]?e["font-style"]=n:e["font-style"]=n+e["font-style"]),e["font-size"]=d(r("font-size"))||1,e["line-height"]=d(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&d(r("margin-top"))||0,e["margin-bottom"]=n&&d(r("margin-bottom"))||0,e["padding-top"]=n&&d(r("padding-top"))||0,e["padding-bottom"]=n&&d(r("padding-bottom"))||0,e["margin-left"]=n&&d(r("margin-left"))||0,e["margin-right"]=n&&d(r("margin-right"))||0,e["padding-left"]=n&&d(r("padding-left"))||0,e["padding-right"]=n&&d(r("padding-right"))||0,e["page-break-before"]=r("page-break-before")||"auto",e.float=h[r("cssFloat")]||"none",e.clear=l[r("clear")]||"none",e.color=r("color"),e},m=function(t,e,n){var r,i,o,a,s;if(o=!1,a=i=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;for(s="string"==typeof t.className?t.className.split(" "):[],i=0;i<s.length;i++)if(r=n["."+s[i]],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},x=function(t,e){var n,r,i,o,a,s,h,l,u;for(n=[],r=[],i=0,u=t.rows[0].cells.length,h=t.clientWidth;i<u;)l=t.rows[0].cells[i],r[i]={name:l.textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/h*e.pdf.internal.pageSize.getWidth()},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return{rows:n,headers:r}};var N={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},L=1;r=function(t,i,o){var a,s,h,l,c,f,p,d;for(s=t.childNodes,a=void 0,(c="block"===(h=u(t)).display)&&(i.setBlockBoundary(),i.setBlockStyle(h)),l=0,f=s.length;l<f;){if("object"===n(a=s[l])){if(i.executeWatchFunctions(a),1===a.nodeType&&"HEADER"===a.nodeName){var g=a,v=i.pdf.margins_doc.top;i.pdf.internal.events.subscribe("addPage",function(t){i.y=v,r(g,i,o),i.pdf.margins_doc.top=i.y+10,i.y+=10},!1)}if(8===a.nodeType&&"#comment"===a.nodeName)~a.textContent.indexOf("ADD_PAGE")&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top);else if(1!==a.nodeType||N[a.nodeName])if(3===a.nodeType){var w=a.nodeValue;if(a.nodeValue&&"LI"===a.parentNode.nodeName)if("OL"===a.parentNode.parentNode.nodeName)w=L+++". "+w;else{var b=h["font-size"],A=(3-.75*b)*i.pdf.internal.scaleFactor,S=.75*b*i.pdf.internal.scaleFactor,_=1.74*b/i.pdf.internal.scaleFactor;d=function(t,e){this.pdf.circle(t+A,e+S,_,"FD")}}16&a.ownerDocument.body.compareDocumentPosition(a)&&i.addText(w,h)}else"string"==typeof a&&i.addText(a,h);else{var F;if("IMG"===a.nodeName){var P=a.getAttribute("src");F=y[i.pdf.sHashCode(P)||P]}if(F){i.pdf.internal.pageSize.getHeight()-i.pdf.margins_doc.bottom<i.y+a.height&&i.y>i.pdf.margins_doc.top&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top,i.executeWatchFunctions(a));var k=u(a),I=i.x,C=12/i.pdf.internal.scaleFactor,B=(k["margin-left"]+k["padding-left"])*C,j=(k["margin-right"]+k["padding-right"])*C,E=(k["margin-top"]+k["padding-top"])*C,M=(k["margin-bottom"]+k["padding-bottom"])*C;void 0!==k.float&&"right"===k.float?I+=i.settings.width-a.width-j:I+=B,i.pdf.addImage(F,I,i.y+E,a.width,a.height),F=void 0,"right"===k.float||"left"===k.float?(i.watchFunctions.push(function(t,e,n,r){return i.y>=e?(i.x+=t,i.settings.width+=n,!0):!!(r&&1===r.nodeType&&!N[r.nodeName]&&i.x+r.width>i.pdf.margins_doc.left+i.pdf.margins_doc.width)&&(i.x+=t,i.y=e,i.settings.width+=n,!0)}.bind(this,"left"===k.float?-a.width-B-j:0,i.y+a.height+E+M,a.width)),i.watchFunctions.push(function(t,e,n){return!(i.y<t&&e===i.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===u(n).clear&&(i.y=t,!0)}.bind(this,i.y+a.height,i.pdf.internal.getNumberOfPages())),i.settings.width-=a.width+B+j,"left"===k.float&&(i.x+=a.width+B+j)):i.y+=a.height+E+M}else if("TABLE"===a.nodeName)p=x(a,i),i.y+=10,i.pdf.table(i.x,i.y,p.rows,p.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:i.pdf.margins_doc,css:u(a)}),i.y=i.pdf.lastCellPos.y+i.pdf.lastCellPos.h+20;else if("OL"===a.nodeName||"UL"===a.nodeName)L=1,m(a,i,o)||r(a,i,o),i.y+=10;else if("LI"===a.nodeName){var O=i.x;i.x+=20/i.pdf.internal.scaleFactor,i.y+=3,m(a,i,o)||r(a,i,o),i.x=O}else"BR"===a.nodeName?(i.y+=h["font-size"]*i.pdf.internal.scaleFactor,i.addText("\u2028",e(h))):m(a,i,o)||r(a,i,o)}}l++}if(o.outY=i.y,c)return i.setBlockBoundary(d)},y={},v=function(t,e,n,r){var i,o=t.getElementsByTagName("img"),a=o.length,s=0;function h(){e.pdf.internal.events.publish("imagesLoaded"),r(i)}function l(t,n,r){if(t){var o=new Image;i=++s,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=n||o.width||0,o.height=r||o.height||0),o.width+o.height)){var i=e.pdf.sHashCode(t)||t;y[i]=y[i]||o}--s||h()},o.src=t}}for(;a--;)l(o[a].getAttribute("src"),o[a].width,o[a].height);return s||h()},w=function(t,e,n){var i=t.getElementsByTagName("footer");if(0<i.length){i=i[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},r(i,e,n);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var h=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var h=i.getElementsByTagName("span"),l=0;l<h.length;++l)-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(h[l].innerHTML=o),-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(h[l].innerHTML="###jsPDFVarTotalPages###");r(i,e,n),e.pdf.margins_doc.bottom+=s,e.y=a},l=i.getElementsByTagName("span"),u=0;u<l.length;++u)-1<(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",h,!1),h(),N.FOOTER=1}},b=function(t,e,n,i,o,a){if(!e)return!1;var s,h,l,u;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(s=e.replace(/<\/?script[^>]*?>/gi,""),u="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",l.innerHTML='<iframe style="height:1px;width:1px" name="'+u+'" />',document.body.appendChild(l),(h=window.frames[u]).document.open(),h.document.writeln(s),h.document.close(),e=h.document.body);var c,p=new f(t,n,i,o);return v.call(this,e,p,o.elementHandlers,function(t){w(e,p,o.elementHandlers),r(e,p,o.elementHandlers),p.pdf.internal.events.publish("htmlRenderingFinished"),c=p.dispose(),"function"==typeof a?a(c):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),c||{x:p.x,y:p.y}},(f=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},f.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},f.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(0<this.watchFunctions.length){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},f.prototype.splitFragmentsIntoLines=function(t,n){var r,i,o,a,s,h,l,u,c,f,p,d,g,m;for(f=this.pdf.internal.scaleFactor,a={},h=l=u=m=s=o=c=i=void 0,d=[p=[]],r=0,g=this.settings.width;t.length;)if(s=t.shift(),m=n.shift(),s)if((o=a[(i=m["font-family"])+(c=m["font-style"])])||(o=this.pdf.internal.getFont(i,c).metadata.Unicode,a[i+c]=o),u={widths:o.widths,kerning:o.kerning,fontSize:12*m["font-size"],textIndent:r},l=this.pdf.getStringUnitWidth(s,u)*u.fontSize/f,"\u2028"==s)p=[],d.push(p);else if(g<r+l){for(h=this.pdf.splitTextToSize(s,g,u),p.push([h.shift(),m]);h.length;)p=[[h.shift(),m]],d.push(p);r=this.pdf.getStringUnitWidth(p[0][0],u)*u.fontSize/f}else p.push([s,m]),r+=l;if(void 0!==m["text-align"]&&("center"===m["text-align"]||"right"===m["text-align"]||"justify"===m["text-align"]))for(var y=0;y<d.length;++y){var v=this.pdf.getStringUnitWidth(d[y][0][0],u)*u.fontSize/f;0<y&&(d[y][0][1]=e(d[y][0][1]));var w=g-v;if("right"===m["text-align"])d[y][0][1]["margin-left"]=w;else if("center"===m["text-align"])d[y][0][1]["margin-left"]=w/2;else if("justify"===m["text-align"]){var b=d[y][0][0].split(" ").length-1;d[y][0][1]["word-spacing"]=w/b,y===d.length-1&&(d[y][0][1]["word-spacing"]=0)}}return d},f.prototype.RenderTextFragment=function(t,e){var n,r;r=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),r=Math.max(r,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var i=this.getPdfColor(e.color);i!==this.lastTextColor&&(this.pdf.internal.write(i),this.lastTextColor=i),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},f.prototype.getPdfColor=function(t){var e,n,r,i=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),r=t.substring(5,7),r=parseInt(r,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===n&&0===r||void 0===n?s(e/255)+" g":[s(e/255),s(n/255),s(r/255),"rg"].join(" ")},f.prototype.f3=function(t){return t.toFixed(3)},f.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,h,l,u,f,p,d;if(r=c(this.paragraph.text),p=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join("").trim()){s=this.splitFragmentsIntoLines(r,p),h=a=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,f=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,f=((e["margin-top"]||0)+(e["padding-top"]||0))*n),l=this.pdf.internal.write,o=i=void 0,this.y+=f,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;s.length;){for(i=h=0,o=(a=s.shift()).length;i!==o;)a[i][0].trim()&&(h=Math.max(h,a[i][1]["line-height"],a[i][1]["font-size"]),d=7*a[i][1]["font-size"]),i++;var m=0,y=0;for(void 0!==a[0][1]["margin-left"]&&0<a[0][1]["margin-left"]&&(m=(y=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-g,g=y),l(m+Math.max(e["margin-left"]||0,0)*n,(-12*h).toFixed(2),"Td"),i=0,o=a.length;i!==o;)a[i][0]&&this.RenderTextFragment(a[i][0],a[i][1]),i++;if(this.y+=h*n,this.executeWatchFunctions(a[0][1])&&0<s.length){var v=[],w=[];s.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(v.push(t[e][0]+" "),w.push(t[e][1])),++e}),s=this.splitFragmentsIntoLines(c(v),w),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-d/2),l("ET","Q"),this.y+=u}},f.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},f.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},f.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},i={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},s={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},h={none:"none",right:"right",left:"left"},l={none:"none",both:"both"},g={normal:1},t.fromHTML=function(t,e,n,r,i,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),b(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(ct.API),ct.API,("undefined"!=typeof window&&window||void 0!==e&&e).html2pdf=function(t,e,n){var r=e.canvas;if(r){var i,o;if((r.pdf=e).annotations={_nameMap:[],createAnnotation:function(t,n){var r,i=e.context2d._wrapX(n.left),o=e.context2d._wrapY(n.top),a=(e.context2d._page(n.top),t.indexOf("#"));r=0<=a?{name:t.substring(a+1)}:{url:t},e.link(i,o,n.right-n.left,n.bottom-n.top,r)},setName:function(t,n){var r=e.context2d._wrapX(n.left),i=e.context2d._wrapY(n.top),o=e.context2d._page(n.top);this._nameMap[t]={page:o,x:r,y:i}}},r.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var a,s,h=document.createElement("iframe");document.body.appendChild(h),null!=(a=h.contentDocument)&&null!=a||(a=h.contentWindow.document),a.open(),a.write(t),a.close(),i=a.body,s=a.body||{},t=a.documentElement||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else s=(i=t).body||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var l={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:r,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:o=e.internal.pageSize.getHeight(),scrollY:o};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(i,l).then(function(t){n&&(h&&h.parentElement.removeChild(h),n(e))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var n=t.Blob,r=URL.createObjectURL,i=URL.revokeObjectURL,o=t.Symbol&&t.Symbol.toStringTag,a=!1,s=!1,h=!!t.ArrayBuffer,l=e&&e.prototype.append&&e.prototype.getBlob;try{a=2===new Blob(["ä"]).size,s=2===new Blob([new Uint8Array([1,2])]).size}catch(a){}function u(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function c(t,n){n=n||{};var r=new e;return u(t).forEach(function(t){r.append(t)}),n.type?r.getBlob(n.type):r.getBlob()}function f(t,e){return new n(u(t),e||{})}if(t.Blob&&(c.prototype=Blob.prototype,f.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(a){}function p(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&n&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),n.call(this,t)});try{new File([],"")}catch(e){try{var r=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=r}catch(e){r=function(t,e,n){var r=new Blob(t,n),i=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return r.name=e,r.lastModifiedDate=i,r.lastModified=+i,r.toString=function(){return"[object File]"},o&&(r[o]="File"),r},t.File=r}}}a?(p(),t.Blob=s?t.Blob:f):l?(p(),t.Blob=c):function(){function e(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function n(t){var e,n,r,i,o,a;for(e="",r=t.length,n=0;n<r;)switch((i=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(i);break;case 12:case 13:o=t[n++],e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[n++],a=t[n++],e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return e}function o(t){for(var e=new Array(t.byteLength),n=new Uint8Array(t),r=e.length;r--;)e[r]=n[r];return e}function a(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<t.length;r+=3){var i=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,h=s?t[r+2]:0,l=i>>2,u=(3&i)<<4|a>>4,c=(15&a)<<2|h>>6,f=63&h;s||(f=64,o||(c=64)),n.push(e[l],e[u],e[c],e[f])}return n.join("")}var s=Object.create||function(t){function e(){}return e.prototype=t,new e};if(h)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&-1<l.indexOf(Object.prototype.toString.call(t))};function c(t,n){for(var r=0,i=(t=t||[]).length;r<i;r++){var a=t[r];a instanceof c?t[r]=a._buffer:"string"==typeof a?t[r]=e(a):h&&(ArrayBuffer.prototype.isPrototypeOf(a)||u(a))?t[r]=o(a):h&&(s=a)&&DataView.prototype.isPrototypeOf(s)?t[r]=o(a.buffer):t[r]=e(String(a))}var s;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=n&&n.type||""}function f(t,e,n){var r=c.call(this,t,n=n||{})||this;return r.name=e,r.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(c.prototype.slice=function(t,e,n){return new c([this._buffer.slice(t||0,e||this._buffer.length)],{type:n})},c.prototype.toString=function(){return"[object Blob]"},(f.prototype=s(c.prototype)).constructor=f,Object.setPrototypeOf)Object.setPrototypeOf(f,c);else try{f.__proto__=c}catch(s){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var n=this["on"+e.type];"function"==typeof n&&n(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function d(t,e,n){if(!(e instanceof c))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=p.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}f.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(t){d(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+a(t._buffer)},p.prototype.readAsText=function(t){d(this,t,"readAsText"),this.result=n(t._buffer)},p.prototype.readAsArrayBuffer=function(t){d(this,t,"readAsText"),this.result=t._buffer.slice()},p.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof c?"data:"+t.type+";base64,"+a(t._buffer):r.call(URL,t)},URL.revokeObjectURL=function(t){i&&i.call(URL,t)};var g=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;g&&(XMLHttpRequest.prototype.send=function(t){t instanceof c?(this.setRequestHeader("Content-Type",t.type),g.call(this,n(t._buffer))):g.call(this,t)}),t.FileReader=p,t.File=f,t.Blob=c}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")());var ft,pt,dt,gt,mt,yt,vt,wt,bt,xt,Nt,Lt,At,St,_t,Ft=Ft||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,h=function(t){s(function(){throw t},0)},l=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(e,c,f){f||(e=u(e));var p,d=this,g="application/octet-stream"===e.type,m=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,t)}catch(t){h(t)}}}(d,"writestart progress write writeend".split(" "))};if(d.readyState=d.INIT,i)return p=n().createObjectURL(e),void s(function(){var t,e;r.href=p,r.download=c,t=r,e=new MouseEvent("click"),t.dispatchEvent(e),m(),l(p),d.readyState=d.DONE},0);!function(){if((a||g&&o)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,d.readyState=d.DONE,m()},r.readAsDataURL(e),d.readyState=d.INIT}p||(p=n().createObjectURL(e)),g?t.location.href=p:t.open(p,"_blank")||(t.location.href=p),d.readyState=d.DONE,m(),l(p)}()},f=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(t,e,n){return new c(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Pt(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,a=1<<1+(7&i);t[e++],t[e++];var s=null;o&&(s=e,e+=3*a);var h=!0,l=[],u=0,c=null,f=0,p=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;0!==(A=t[e++]);)e+=A;break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var d=t[e++];u=t[e++]|t[e++]<<8,c=t[e++],0==(1&d)&&(c=null),f=d>>2&7,e++;break;case 254:for(;0!==(A=t[e++]);)e+=A;break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++],b=w>>6&1,x=s,N=!1;w>>7&&(N=!0,x=e,e+=3*(1<<1+(7&w)));var L=e;for(e++;;){var A;if(0===(A=t[e++]))break;e+=A}l.push({x:g,y:m,width:y,height:v,has_local_palette:N,palette_offset:x,data_offset:L,data_length:e-L,transparent_index:c,interlaced:!!b,delay:u,disposal:f});break;case 59:h=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=l.length)throw"Frame index out of range.";return l[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,a=new Uint8Array(o);kt(t,i.data_offset,a,o);var s=i.palette_offset,h=i.transparent_index;null===h&&(h=256);var l=i.width,u=n-l,c=l,f=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),d=f,g=4*u;!0===i.interlaced&&(g+=4*(l+u)*7);for(var m=8,y=0,v=a.length;y<v;++y){var w=a[y];if(0===c&&(c=l,p<=(d+=g)&&(g=u+4*(l+u)*(m-1),d=f+(l+u)*(m<<1),m>>=1)),w===h)d+=4;else{var b=t[s+3*w],x=t[s+3*w+1],N=t[s+3*w+2];r[d++]=N,r[d++]=x,r[d++]=b,r[d++]=255}--c}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,a=new Uint8Array(o);kt(t,i.data_offset,a,o);var s=i.palette_offset,h=i.transparent_index;null===h&&(h=256);var l=i.width,u=n-l,c=l,f=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),d=f,g=4*u;!0===i.interlaced&&(g+=4*(l+u)*7);for(var m=8,y=0,v=a.length;y<v;++y){var w=a[y];if(0===c&&(c=l,p<=(d+=g)&&(g=u+4*(l+u)*(m-1),d=f+(l+u)*(m<<1),m>>=1)),w===h)d+=4;else{var b=t[s+3*w],x=t[s+3*w+1],N=t[s+3*w+2];r[d++]=b,r[d++]=x,r[d++]=N,r[d++]=255}--c}}}function kt(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,h=i+1,l=(1<<h)-1,u=0,c=0,f=0,p=t[e++],d=new Int32Array(4096),g=null;;){for(;u<16&&0!==p;)c|=t[e++]<<u,u+=8,1===p?p=t[e++]:--p;if(u<h)break;var m=c&l;if(c>>=h,u-=h,m!==o){if(m===a)break;for(var y=m<s?m:g,v=0,w=y;o<w;)w=d[w]>>8,++v;var b=w;if(r<f+v+(y!==m?1:0))return void console.log("Warning, gif stream longer than expected.");n[f++]=b;var x=f+=v;for(y!==m&&(n[f++]=b),w=y;v--;)w=d[w],n[--x]=255&w,w>>=8;null!==g&&s<4096&&(d[s++]=g<<8|b,l+1<=s&&h<12&&(++h,l=l<<1|1)),g=m}else s=a+1,l=(1<<(h=i+1))-1,g=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}try{exports.GifWriter=function(t,e,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(e<=0||n<=0||65535<e||65535<n)throw"Width/Height invalid.";function s(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var h=0,l=0;if(null!==a){for(var u=s(a);u>>=1;)++h;if(u=1<<h,--h,void 0!==r.background){if(u<=(l=r.background))throw"Background index out of range.";if(0===l)throw"Background index explicitly passed as 0."}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=(null!==a?128:0)|h,t[i++]=l,t[i++]=0,null!==a)for(var c=0,f=a.length;c<f;++c){var p=a[c];t[i++]=p>>16&255,t[i++]=p>>8&255,t[i++]=255&p}if(null!==o){if(o<0||65535<o)throw"Loop count invalid.";t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var d=!1;this.addFrame=function(e,n,r,o,h,l){if(!0===d&&(--i,d=!1),l=void 0===l?{}:l,e<0||n<0||65535<e||65535<n)throw"x/y invalid.";if(r<=0||o<=0||65535<r||65535<o)throw"Width/Height invalid.";if(h.length<r*o)throw"Not enough pixels for the frame size.";var u=!0,c=l.palette;if(null==c&&(u=!1,c=a),null==c)throw"Must supply either a local or global palette.";for(var f=s(c),p=0;f>>=1;)++p;f=1<<p;var g=void 0===l.delay?0:l.delay,m=void 0===l.disposal?0:l.disposal;if(m<0||3<m)throw"Disposal out of range.";var y=!1,v=0;if(void 0!==l.transparent&&null!==l.transparent&&(y=!0,(v=l.transparent)<0||f<=v))throw"Transparent color index.";if((0!==m||y||0!==g)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=m<<2|(!0===y?1:0),t[i++]=255&g,t[i++]=g>>8&255,t[i++]=v,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===u?128|p-1:0,!0===u)for(var w=0,b=c.length;w<b;++w){var x=c[w];t[i++]=x>>16&255,t[i++]=x>>8&255,t[i++]=255&x}i=function(t,e,n,r){t[e++]=n;var i=e++,o=1<<n,a=o-1,s=o+1,h=s+1,l=n+1,u=0,c=0;function f(n){for(;n<=u;)t[e++]=255&c,c>>=8,u-=8,e===i+256&&(t[i]=255,i=e++)}function p(t){c|=t<<u,u+=l,f(8)}var d=r[0]&a,g={};p(o);for(var m=1,y=r.length;m<y;++m){var v=r[m]&a,w=d<<8|v,b=g[w];if(void 0===b){for(c|=d<<u,u+=l;8<=u;)t[e++]=255&c,c>>=8,u-=8,e===i+256&&(t[i]=255,i=e++);4096===h?(p(o),h=s+1,l=n+1,g={}):(1<<l<=h&&++l,g[w]=h++),d=v}else d=b}return p(d),p(s),f(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,p<2?2:p,h)},this.end=function(){return!1===d&&(t[i++]=59,d=!0),i}},exports.GifReader=Pt}catch(r){}function It(t){var e,n,r,i,o,a=Math.floor,s=new Array(64),h=new Array(64),l=new Array(64),u=new Array(64),c=new Array(65535),f=new Array(65535),p=new Array(64),d=new Array(64),g=[],m=0,y=7,v=new Array(64),w=new Array(64),b=new Array(64),x=new Array(256),N=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function j(t){for(var e=t[0],n=t[1]-1;0<=n;)e&1<<n&&(m|=1<<y),n--,--y<0&&(255==m?(E(255),E(0)):E(m),y=7,m=0)}function E(t){g.push(t)}function M(t){E(t>>8&255),E(255&t)}function O(t,e,n,r,i){for(var o,a=i[0],s=i[240],h=function(t,e){var n,r,i,o,a,s,h,l,u,c,f=0;for(u=0;u<8;++u){n=t[f],r=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],h=t[f+6];var d=n+(l=t[f+7]),g=n-l,m=r+h,y=r-h,v=i+s,w=i-s,b=o+a,x=o-a,N=d+b,L=d-b,A=m+v,S=m-v;t[f]=N+A,t[f+4]=N-A;var _=.707106781*(S+L);t[f+2]=L+_,t[f+6]=L-_;var F=.382683433*((N=x+w)-(S=y+g)),P=.5411961*N+F,k=1.306562965*S+F,I=.707106781*(A=w+y),C=g+I,B=g-I;t[f+5]=B+P,t[f+3]=B-P,t[f+1]=C+k,t[f+7]=C-k,f+=8}for(u=f=0;u<8;++u){n=t[f],r=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],h=t[f+48];var j=n+(l=t[f+56]),E=n-l,M=r+h,O=r-h,q=i+s,T=i-s,R=o+a,D=o-a,U=j+R,z=j-R,H=M+q,W=M-q;t[f]=U+H,t[f+32]=U-H;var V=.707106781*(W+z);t[f+16]=z+V,t[f+48]=z-V;var G=.382683433*((U=D+T)-(W=O+E)),Y=.5411961*U+G,J=1.306562965*W+G,X=.707106781*(H=T+O),K=E+X,Z=E-X;t[f+40]=Z+Y,t[f+24]=Z-Y,t[f+8]=K+J,t[f+56]=K-J,f++}for(u=0;u<64;++u)c=t[u]*e[u],p[u]=0<c?c+.5|0:c-.5|0;return p}(t,e),l=0;l<64;++l)d[L[l]]=h[l];var u=d[0]-n;n=d[0],0==u?j(r[0]):(j(r[f[o=32767+u]]),j(c[o]));for(var g=63;0<g&&0==d[g];g--);if(0==g)return j(a),n;for(var m,y=1;y<=g;){for(var v=y;0==d[y]&&y<=g;++y);var w=y-v;if(16<=w){m=w>>4;for(var b=1;b<=m;++b)j(s);w&=15}o=32767+d[y],j(i[(w<<4)+f[o]]),j(c[o]),y++}return 63!=g&&j(a),n}function q(t){t<=0&&(t=1),100<t&&(t=100),o!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((e[n]*t+50)/100);r<1?r=1:255<r&&(r=255),s[L[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var c=a((i[o]*t+50)/100);c<1?c=1:255<c&&(c=255),h[L[o]]=c}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,d=0;d<8;d++)for(var g=0;g<8;g++)l[p]=1/(s[L[p]]*f[d]*f[g]*8),u[p]=1/(h[L[p]]*f[d]*f[g]*8),p++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t)}this.encode=function(t,o){var a,c;(new Date).getTime(),o&&q(o),g=new Array,m=0,y=7,M(65496),M(65504),M(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),M(1),M(1),E(0),E(0),function(){M(65499),M(132),E(0);for(var t=0;t<64;t++)E(s[t]);E(1);for(var e=0;e<64;e++)E(h[e])}(),a=t.width,c=t.height,M(65472),M(17),E(8),M(c),M(a),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1),function(){M(65476),M(418),E(0);for(var t=0;t<16;t++)E(A[t+1]);for(var e=0;e<=11;e++)E(S[e]);E(16);for(var n=0;n<16;n++)E(_[n+1]);for(var r=0;r<=161;r++)E(F[r]);E(1);for(var i=0;i<16;i++)E(P[i+1]);for(var o=0;o<=11;o++)E(k[o]);E(17);for(var a=0;a<16;a++)E(I[a+1]);for(var s=0;s<=161;s++)E(C[s])}(),M(65498),M(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var f=0,p=0,d=0;m=0,y=7,this.encode.displayName="_encode_";for(var x,L,B,T,R,D,U,z,H,W=t.data,V=t.width,G=t.height,Y=4*V,J=0;J<G;){for(x=0;x<Y;){for(D=R=Y*J+x,U=-1,H=z=0;H<64;H++)D=R+(z=H>>3)*Y+(U=4*(7&H)),G<=J+z&&(D-=Y*(J+1+z-G)),Y<=x+U&&(D-=x+U-Y+4),L=W[D++],B=W[D++],T=W[D++],v[H]=(N[L]+N[B+256>>0]+N[T+512>>0]>>16)-128,w[H]=(N[L+768>>0]+N[B+1024>>0]+N[T+1280>>0]>>16)-128,b[H]=(N[L+1280>>0]+N[B+1536>>0]+N[T+1792>>0]>>16)-128;f=O(v,l,f,e,r),p=O(w,u,p,n,i),d=O(b,u,d,n,i),x+=32}J+=8}if(0<=y){var X=[];X[1]=y+1,X[0]=(1<<y+1)-1,j(X)}return M(65497),new Uint8Array(g)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=B(A,S),n=B(P,k),r=B(_,F),i=B(I,C),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)f[32767+r]=n,c[32767+r]=[],c[32767+r][1]=n,c[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)f[32767+i]=n,c[32767+i]=[],c[32767+i][1]=n,c[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)N[t]=19595*t,N[t+256>>0]=38470*t,N[t+512>>0]=7471*t+32768,N[t+768>>0]=-11059*t,N[t+1024>>0]=-21709*t,N[t+1280>>0]=32768*t+8421375,N[t+1536>>0]=-27439*t,N[t+1792>>0]=-5329*t}(),q(t),(new Date).getTime()}function Ct(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Pt,ct.API.adler32cs=(yt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,vt=null,wt=function(){if(!yt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(vt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==vt&&t instanceof vt}}(),bt=null!==vt?function(t){return new vt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},xt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+(255&e.charCodeAt(i)))%65521))%65521;return(r<<16|n)>>>0},Nt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+e[i])%65521))%65521;return(r<<16|n)>>>0},At=(Lt={}).Adler32=(((mt=(gt=function(t){if(!(this instanceof gt))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=gt).from=((ft=function(t){if(!(this instanceof gt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=xt(1,t.toString())}).prototype=mt,ft),gt.fromUtf8=((pt=function(t){if(!(this instanceof gt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=bt(t.toString());this.checksum=xt(1,e)}).prototype=mt,pt),yt&&(gt.fromBuffer=((dt=function(t){if(!(this instanceof gt))throw new TypeError("Constructor cannot called be as a function.");if(!wt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Nt(1,e)}).prototype=mt,dt)),mt.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=xt(this.checksum,t)},mt.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=bt(t.toString());return this.checksum=xt(this.checksum,e)},yt&&(mt.updateBuffer=function(t){if(!wt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Nt(this.checksum,e)}),mt.clone=function(){return new At(this.checksum)},gt),Lt.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return xt(1,t.toString())},Lt.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=bt(t.toString());return xt(1,e)},yt&&(Lt.fromBuffer=function(t){if(!wt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return Nt(1,e)}),Lt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,o,a,s,h,l=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,y=0;this.__bidiEngine__={};var v=function(t){var e=t.charCodeAt(),n=e>>8,r=p[n];return void 0!==r?l[256*r+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},w=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=v(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,a,s){var h,l,u,c,f=e[s];switch(f){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(f="AN");break;case"AL":m=!0,f="R";break;case"WS":f="N";break;case"CS":s<1||s+1>=e.length||"EN"!==(h=a[s-1])&&"AN"!==h||"EN"!==(l=e[s+1])&&"AN"!==l?f="N":m&&(l="AN"),f=l===h?l:"N";break;case"ES":f="EN"===(h=0<s?a[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(0<s&&"EN"===a[s-1]){f="EN";break}if(m){f="N";break}for(u=s+1,c=e.length;u<c&&"ET"===e[u];)u++;f=u<c&&"EN"===e[u]?"EN":"N";break;case"NSM":if(i&&!o){for(c=e.length,u=s+1;u<c&&"NSM"===e[u];)u++;if(u<c){var p=t[s],d=1425<=p&&p<=2303||64286===p;if(h=e[u],d&&("R"===h||"AL"===h)){f="R";break}}}f=s<1||"B"===(h=e[s-1])?"N":a[s-1];break;case"B":n=!(m=!1),f=y;break;case"S":r=!0,f="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":f="N"}return f},x=function(t,e,n){var r=t.split("");return n&&N(r,n,{hiLevel:y}),r.reverse(),e&&e.reverse(),r.join("")},N=function(t,e,i){var o,a,s,h,l,p=-1,d=t.length,g=0,w=[],x=y?c:u,N=[];for(r=n=m=!1,a=0;a<d;a++)N[a]=v(t[a]);for(s=0;s<d;s++){if(l=g,w[s]=b(t,N,w,s),o=240&(g=x[l][f[w[s]]]),g&=15,e[s]=h=x[g][5],0<o)if(16===o){for(a=p;a<s;a++)e[a]=1;p=-1}else p=-1;if(x[g][6])-1===p&&(p=s);else if(-1<p){for(a=p;a<s;a++)e[a]=h;p=-1}"B"===N[s]&&(e[s]=0),i.hiLevel|=h}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=y;for(var i=r-1;0<=i&&"WS"===t[i];i--)e[i]=y}}(N,e,d)},L=function(t,e,r,i,o){if(!(o.hiLevel<t)){if(1===t&&1===y&&!n)return e.reverse(),void(r&&r.reverse());for(var a,s,h,l,u=e.length,c=0;c<u;){if(i[c]>=t){for(h=c+1;h<u&&i[h]>=t;)h++;for(l=c,s=h-1;l<s;l++,s--)a=e[l],e[l]=e[s],e[s]=a,r&&(a=r[l],r[l]=r[s],r[s]=a);c=h}c++}}},A=function(t,e,n){var r=t.split(""),i={hiLevel:y};return n||(n=[]),N(r,n,i),function(t,e,n){if(0!==n.hiLevel&&h)for(var r,i=0;i<t.length;i++)1===e[i]&&0<=(r=d.indexOf(t[i]))&&(t[i]=d[r+1])}(r,n,i),L(2,r,e,n,i),L(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===o&&(o=w(t)),void 0===s&&(s=w(t))}(t,e),i||!a||s)if(i&&a&&o^s)y=o?1:0,t=x(t,e,n);else if(!i&&a&&s)y=o?1:0,t=A(t,e,n),t=x(t,e);else if(!i||o||a||s){if(i&&!a&&o^s)t=x(t,e),t=o?(y=0,A(t,e,n)):(y=1,t=A(t,e,n),x(t,e));else if(i&&o&&!a&&s)y=1,t=A(t,e,n),t=x(t,e);else if(!i&&!a&&o^s){var r=h;o?(y=1,t=A(t,e,n),y=0,h=!1,t=A(t,e,n),h=r):(y=0,t=A(t,e,n),t=x(t,e),h=!(y=1),t=A(t,e,n),h=r,t=x(t,e))}}else y=0,t=A(t,e,n);else y=o?1:0,t=A(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,a=t.isOutputVisual,o=t.isInputRtl,s=t.isOutputRtl,h=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),i=(t.mutex,r.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var o=0;for(i=[],o=0;o<e.length;o+=1)"[object Array]"===Object.prototype.toString.call(e[o])?i.push([n.doBidiReorder(e[o][0]),e[o][1],e[o][2]]):i.push([n.doBidiReorder(e[o])]);t.text=i}else t.text=n.doBidiReorder(e)}])}(ct),window.tmp=It,Ct.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ct.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log("bit decode error:"+t)}},Ct.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var h=this.palette[o>>7-s&1];this.data[a+4*s]=h.blue,this.data[a+4*s+1]=h.green,this.data[a+4*s+2]=h.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},Ct.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,h=15&o,l=this.palette[s];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*i+1>=this.width)break;l=this.palette[h],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},Ct.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Ct.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,l=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=h,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=l}this.pos+=t}},Ct.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;0<=r;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,h=(a>>5&n)/n*255|0,l=(a>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=l,this.data[u+1]=h,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},Ct.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ct.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Ct.prototype.getData=function(){return this.data},window.tmp=Ct,function(t){var e=15,n=573,r=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function i(){var t=this;function r(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}t.build_tree=function(i){var o,a,s,h=t.dyn_tree,l=t.stat_desc.static_tree,u=t.stat_desc.elems,c=-1;for(i.heap_len=0,i.heap_max=n,o=0;o<u;o++)0!==h[2*o]?(i.heap[++i.heap_len]=c=o,i.depth[o]=0):h[2*o+1]=0;for(;i.heap_len<2;)h[2*(s=i.heap[++i.heap_len]=c<2?++c:0)]=1,i.depth[s]=0,i.opt_len--,l&&(i.static_len-=l[2*s+1]);for(t.max_code=c,o=Math.floor(i.heap_len/2);1<=o;o--)i.pqdownheap(h,o);for(s=u;o=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(h,1),a=i.heap[1],i.heap[--i.heap_max]=o,i.heap[--i.heap_max]=a,h[2*s]=h[2*o]+h[2*a],i.depth[s]=Math.max(i.depth[o],i.depth[a])+1,h[2*o+1]=h[2*a+1]=s,i.heap[1]=s++,i.pqdownheap(h,1),2<=i.heap_len;);i.heap[--i.heap_max]=i.heap[1],function(r){var i,o,a,s,h,l,u=t.dyn_tree,c=t.stat_desc.static_tree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,d=t.stat_desc.max_length,g=0;for(s=0;s<=e;s++)r.bl_count[s]=0;for(u[2*r.heap[r.heap_max]+1]=0,i=r.heap_max+1;i<n;i++)d<(s=u[2*u[2*(o=r.heap[i])+1]+1]+1)&&(s=d,g++),u[2*o+1]=s,o>t.max_code||(r.bl_count[s]++,h=0,p<=o&&(h=f[o-p]),l=u[2*o],r.opt_len+=l*(s+h),c&&(r.static_len+=l*(c[2*o+1]+h)));if(0!==g){do{for(s=d-1;0===r.bl_count[s];)s--;r.bl_count[s]--,r.bl_count[s+1]+=2,r.bl_count[d]--,g-=2}while(0<g);for(s=d;0!==s;s--)for(o=r.bl_count[s];0!==o;)(a=r.heap[--i])>t.max_code||(u[2*a+1]!=s&&(r.opt_len+=(s-u[2*a+1])*u[2*a],u[2*a+1]=s),o--)}}(i),function(t,n,i){var o,a,s,h=[],l=0;for(o=1;o<=e;o++)h[o]=l=l+i[o-1]<<1;for(a=0;a<=n;a++)0!==(s=t[2*a+1])&&(t[2*a]=r(h[s]++,s))}(h,t.max_code,i.bl_count)}}function o(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i}function a(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}i._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],i.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],i.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],i.d_code=function(t){return t<256?r[t]:r[256+(t>>>7)]},i.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],i.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],i.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],i.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],o.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],o.static_l_desc=new o(o.static_ltree,i.extra_lbits,257,286,e),o.static_d_desc=new o(o.static_dtree,i.extra_dbits,0,30,e),o.static_bl_desc=new o(null,i.extra_blbits,0,19,7);var s=[new a(0,0,0,0,0),new a(4,4,8,4,1),new a(4,5,16,8,1),new a(4,6,32,32,1),new a(4,4,16,16,2),new a(8,16,32,32,2),new a(8,16,128,128,2),new a(8,32,128,256,2),new a(32,128,258,1024,2),new a(32,258,258,4096,2)],h=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function l(t,e,n,r){var i=t[2*e],o=t[2*n];return i<o||i==o&&r[e]<=r[n]}function u(){var t,e,n,r,a,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G=this,Y=new i,J=new i,X=new i;function K(){var t;for(t=0;t<286;t++)M[2*t]=0;for(t=0;t<30;t++)O[2*t]=0;for(t=0;t<19;t++)q[2*t]=0;M[512]=1,G.opt_len=G.static_len=0,D=z=0}function Z(t,e){var n,r,i=-1,o=t[1],a=0,s=7,h=4;for(0===o&&(s=138,h=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(a<h?q[2*r]+=a:0!==r?(r!=i&&q[2*r]++,q[32]++):a<=10?q[34]++:q[36]++,i=r,h=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4))}function Q(t){G.pending_buf[G.pending++]=t}function $(t){Q(255&t),Q(t>>>8&255)}function tt(t,e){var n,r=e;16-r<V?($(W|=(n=t)<<V&65535),W=n>>>16-V,V+=r-16):(W|=t<<V&65535,V+=r)}function et(t,e){var n=2*t;tt(65535&e[n],65535&e[n+1])}function nt(t,e){var n,r,i=-1,o=t[1],a=0,s=7,h=4;for(0===o&&(s=138,h=3),n=0;n<=e;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(a<h)for(;et(r,q),0!=--a;);else 0!==r?(r!=i&&(et(r,q),a--),et(16,q),tt(a-3,2)):a<=10?(et(17,q),tt(a-3,3)):(et(18,q),tt(a-11,7));i=r,h=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4)}}function rt(){16==V?($(W),V=W=0):8<=V&&(Q(255&W),W>>>=8,V-=8)}function it(t,e){var n,r,o;if(G.pending_buf[U+2*D]=t>>>8&255,G.pending_buf[U+2*D+1]=255&t,G.pending_buf[T+D]=255&e,D++,0===t?M[2*e]++:(z++,t--,M[2*(i._length_code[e]+256+1)]++,O[2*i.d_code(t)]++),0==(8191&D)&&2<C){for(n=8*D,r=S-x,o=0;o<30;o++)n+=O[2*o]*(5+i.extra_dbits[o]);if(n>>>=3,z<Math.floor(D/2)&&n<Math.floor(r/2))return!0}return D==R-1}function ot(t,e){var n,r,o,a,s=0;if(0!==D)for(;n=G.pending_buf[U+2*s]<<8&65280|255&G.pending_buf[U+2*s+1],r=255&G.pending_buf[T+s],s++,0===n?et(r,t):(et((o=i._length_code[r])+256+1,t),0!==(a=i.extra_lbits[o])&&tt(r-=i.base_length[o],a),et(o=i.d_code(--n),e),0!==(a=i.extra_dbits[o])&&tt(n-=i.base_dist[o],a)),s<D;);et(256,t),H=t[513]}function at(){8<V?$(W):0<V&&Q(255&W),V=W=0}function st(t,e,n){var r,i;tt(0+(n?1:0),3),r=t,i=e,at(),H=8,$(i),$(~i),G.pending_buf.set(f.subarray(r,r+i),G.pending),G.pending+=i}function ht(e){(function(t,e,n){var r,a,s=0;0<C?(Y.build_tree(G),J.build_tree(G),s=function(){var t;for(Z(M,Y.max_code),Z(O,J.max_code),X.build_tree(G),t=18;3<=t&&0===q[2*i.bl_order[t]+1];t--);return G.opt_len+=3*(t+1)+5+5+4,t}(),r=G.opt_len+3+7>>>3,(a=G.static_len+3+7>>>3)<=r&&(r=a)):r=a=e+5,e+4<=r&&-1!=t?st(t,e,n):a==r?(tt(2+(n?1:0),3),ot(o.static_ltree,o.static_dtree)):(tt(4+(n?1:0),3),function(t,e,n){var r;for(tt(t-257,5),tt(e-1,5),tt(n-4,4),r=0;r<n;r++)tt(q[2*i.bl_order[r]+1],3);nt(M,t-1),nt(O,e-1)}(Y.max_code+1,J.max_code+1,s+1),ot(M,O)),K(),n&&at()})(0<=x?x:-1,S-x,e),x=S,t.flush_pending()}function lt(){var e,n,r,i;do{if(0==(i=p-F-S)&&0===S&&0===F)i=a;else if(-1==i)i--;else if(a+a-262<=S){for(f.set(f.subarray(a,a+a),0),_-=a,S-=a,x-=a,r=e=y;n=65535&g[--r],g[r]=a<=n?n-a:0,0!=--e;);for(r=e=a;n=65535&d[--r],d[r]=a<=n?n-a:0,0!=--e;);i+=a}if(0===t.avail_in)return;e=t.read_buf(f,S+F,i),3<=(F+=e)&&(m=((m=255&f[S])<<b^255&f[S+1])&w)}while(F<262&&0!==t.avail_in)}function ut(t){var e,n,r=k,i=S,o=P,s=a-262<S?S-(a-262):0,h=E,l=c,u=S+258,p=f[i+o-1],g=f[i+o];j<=P&&(r>>=2),F<h&&(h=F);do{if(f[(e=t)+o]==g&&f[e+o-1]==p&&f[e]==f[i]&&f[++e]==f[i+1]){i+=2,e++;do{}while(f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&f[++i]==f[++e]&&i<u);if(n=258-(u-i),i=u-258,o<n){if(_=t,h<=(o=n))break;p=f[i+o-1],g=f[i+o]}}}while((t=65535&d[t&l])>s&&0!=--r);return o<=F?o:F}function ct(t){return t.total_in=t.total_out=0,t.msg=null,G.pending=0,G.pending_out=0,e=113,r=0,Y.dyn_tree=M,Y.stat_desc=o.static_l_desc,J.dyn_tree=O,J.stat_desc=o.static_d_desc,X.dyn_tree=q,X.stat_desc=o.static_bl_desc,V=W=0,H=8,K(),function(){var t;for(p=2*a,t=g[y-1]=0;t<y-1;t++)g[t]=0;I=s[C].max_lazy,j=s[C].good_length,E=s[C].nice_length,k=s[C].max_chain,N=P=2,m=A=F=x=S=0}(),0}G.depth=[],G.bl_count=[],G.heap=[],M=[],O=[],q=[],G.pqdownheap=function(t,e){for(var n=G.heap,r=n[e],i=e<<1;i<=G.heap_len&&(i<G.heap_len&&l(t,n[i+1],n[i],G.depth)&&i++,!l(t,r,n[i],G.depth));)n[e]=n[i],e=i,i<<=1;n[e]=r},G.deflateInit=function(t,e,r,i,o,s){return i||(i=8),o||(o=8),s||(s=0),t.msg=null,-1==e&&(e=6),o<1||9<o||8!=i||r<9||15<r||e<0||9<e||s<0||2<s?-2:(t.dstate=G,c=(a=1<<(u=r))-1,w=(y=1<<(v=o+7))-1,b=Math.floor((v+3-1)/3),f=new Uint8Array(2*a),d=[],g=[],R=1<<o+6,G.pending_buf=new Uint8Array(4*R),n=4*R,U=Math.floor(R/2),T=3*R,C=e,B=s,ct(t))},G.deflateEnd=function(){return 42!=e&&113!=e&&666!=e?-2:(G.pending_buf=null,f=d=g=null,G.dstate=null,113==e?-3:0)},G.deflateParams=function(t,e,n){var r=0;return-1==e&&(e=6),e<0||9<e||n<0||2<n?-2:(s[C].func!=s[e].func&&0!==t.total_in&&(r=t.deflate(1)),C!=e&&(I=s[C=e].max_lazy,j=s[C].good_length,E=s[C].nice_length,k=s[C].max_chain),B=n,r)},G.deflateSetDictionary=function(t,n,r){var i,o=r,s=0;if(!n||42!=e)return-2;if(o<3)return 0;for(a-262<o&&(s=r-(o=a-262)),f.set(n.subarray(s,s+o),0),x=S=o,m=((m=255&f[0])<<b^255&f[1])&w,i=0;i<=o-3;i++)m=(m<<b^255&f[i+2])&w,d[i&c]=g[m],g[m]=i;return 0},G.deflate=function(i,l){var p,v,k,j,E,M;if(4<l||l<0)return-2;if(!i.next_out||!i.next_in&&0!==i.avail_in||666==e&&4!=l)return i.msg=h[4],-2;if(0===i.avail_out)return i.msg=h[7],-5;if(t=i,j=r,r=l,42==e&&(v=8+(u-8<<4)<<8,3<(k=(C-1&255)>>1)&&(k=3),v|=k<<6,0!==S&&(v|=32),e=113,Q((M=v+=31-v%31)>>8&255),Q(255&M)),0!==G.pending){if(t.flush_pending(),0===t.avail_out)return r=-1,0}else if(0===t.avail_in&&l<=j&&4!=l)return t.msg=h[7],-5;if(666==e&&0!==t.avail_in)return i.msg=h[7],-5;if(0!==t.avail_in||0!==F||0!=l&&666!=e){switch(E=-1,s[C].func){case 0:E=function(e){var r,i=65535;for(n-5<i&&(i=n-5);;){if(F<=1){if(lt(),0===F&&0==e)return 0;if(0===F)break}if(S+=F,r=x+i,((F=0)===S||r<=S)&&(F=S-r,S=r,ht(!1),0===t.avail_out))return 0;if(a-262<=S-x&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 1:E=function(e){for(var n,r=0;;){if(F<262){if(lt(),F<262&&0==e)return 0;if(0===F)break}if(3<=F&&(m=(m<<b^255&f[S+2])&w,r=65535&g[m],d[S&c]=g[m],g[m]=S),0!==r&&(S-r&65535)<=a-262&&2!=B&&(N=ut(r)),3<=N)if(n=it(S-_,N-3),F-=N,N<=I&&3<=F){for(N--;m=(m<<b^255&f[++S+2])&w,r=65535&g[m],d[S&c]=g[m],g[m]=S,0!=--N;);S++}else S+=N,N=0,m=((m=255&f[S])<<b^255&f[S+1])&w;else n=it(0,255&f[S]),F--,S++;if(n&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 2:E=function(e){for(var n,r,i=0;;){if(F<262){if(lt(),F<262&&0==e)return 0;if(0===F)break}if(3<=F&&(m=(m<<b^255&f[S+2])&w,i=65535&g[m],d[S&c]=g[m],g[m]=S),P=N,L=_,N=2,0!==i&&P<I&&(S-i&65535)<=a-262&&(2!=B&&(N=ut(i)),N<=5&&(1==B||3==N&&4096<S-_)&&(N=2)),3<=P&&N<=P){for(r=S+F-3,n=it(S-1-L,P-3),F-=P-1,P-=2;++S<=r&&(m=(m<<b^255&f[S+2])&w,i=65535&g[m],d[S&c]=g[m],g[m]=S),0!=--P;);if(A=0,N=2,S++,n&&(ht(!1),0===t.avail_out))return 0}else if(0!==A){if((n=it(0,255&f[S-1]))&&ht(!1),S++,F--,0===t.avail_out)return 0}else A=1,S++,F--}return 0!==A&&(n=it(0,255&f[S-1]),A=0),ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l)}if(2!=E&&3!=E||(e=666),0==E||2==E)return 0===t.avail_out&&(r=-1),0;if(1==E){if(1==l)tt(2,3),et(256,o.static_ltree),rt(),1+H+10-V<9&&(tt(2,3),et(256,o.static_ltree),rt()),H=7;else if(st(0,0,!1),3==l)for(p=0;p<y;p++)g[p]=0;if(t.flush_pending(),0===t.avail_out)return r=-1,0}}return 4!=l?0:1}}function c(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}c.prototype={deflateInit:function(t,n){return this.dstate=new u,n||(n=e),this.dstate.deflateInit(this,t,n)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,n){var r=this.avail_in;return n<r&&(r=n),0===r?0:(this.avail_in-=r,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var f=t.zip||t;f.Deflater=f._jzlib_Deflater=function(t){var e=new c,n=new Uint8Array(512),r=t?t.level:-1;void 0===r&&(r=-1),e.deflateInit(r),e.next_out=n,this.append=function(t,r){var i,o=[],a=0,s=0,h=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,0!=e.deflate(0))throw new Error("deflating: "+e.msg);e.next_out_index&&(512==e.next_out_index?o.push(new Uint8Array(n)):o.push(new Uint8Array(n.subarray(0,e.next_out_index)))),h+=e.next_out_index,r&&0<e.next_in_index&&e.next_in_index!=a&&(r(e.next_in_index),a=e.next_in_index)}while(0<e.avail_in||0===e.avail_out);return i=new Uint8Array(h),o.forEach(function(t){i.set(t,s),s+=t.length}),i}},this.flush=function(){var t,r,i=[],o=0,a=0;do{if(e.next_out_index=0,e.avail_out=512,1!=(t=e.deflate(4))&&0!=t)throw new Error("deflating: "+e.msg);0<512-e.avail_out&&i.push(new Uint8Array(n.subarray(0,e.next_out_index))),a+=e.next_out_index}while(0<e.avail_in||0===e.avail_out);return e.deflateEnd(),r=new Uint8Array(a),i.forEach(function(t){r.set(t,o),o+=t.length}),r}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in n)t==r&&(t=n[r]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<i.length;o++){var a=i[o].re,s=i[o].process,h=a.exec(t);h&&(e=s(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}},function(t){var e="+".charCodeAt(0),n="/".charCodeAt(0),r="0".charCodeAt(0),i="a".charCodeAt(0),o="A".charCodeAt(0),a="-".charCodeAt(0),s="_".charCodeAt(0),h=function(t){var h=t.charCodeAt(0);return h===e||h===a?62:h===n||h===s?63:h<r?-1:h<r+10?h-r+26+26:h<o+26?h-o:h<i+26?h-i+26:void 0};t.API.TTFFont=function(){function t(t,e,n){var r;if(this.rawData=t,r=this.contents=new u(t),this.contents.pos=4,"ttcf"===r.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}r.pos=0,this.parse(),this.subset=new k(this),this.registerTTF()}return t.open=function(e,n,r,i){if("string"!=typeof r)throw new Error("Invalid argument supplied in TTFFont.open");return new t(function(t){var e,n,r,i,o,a;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;o="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,a=new Uint8Array(3*t.length/4-o),r=0<o?t.length-4:t.length;var l=0;function u(t){a[l++]=t}for(n=e=0;e<r;e+=4,n+=3)u((16711680&(i=h(t.charAt(e))<<18|h(t.charAt(e+1))<<12|h(t.charAt(e+2))<<6|h(t.charAt(e+3))))>>16),u((65280&i)>>8),u(255&i);return 2===o?u(255&(i=h(t.charAt(e))<<2|h(t.charAt(e+1))>>4)):1===o&&(u((i=h(t.charAt(e))<<10|h(t.charAt(e+1))<<4|h(t.charAt(e+2))>>2)>>8&255),u(255&i)),a}(r),n,i)},t.prototype.parse=function(){return this.directory=new c(this.contents),this.head=new d(this),this.name=new x(this),this.cmap=new m(this),this.toUnicode=new Map,this.hhea=new y(this),this.maxp=new N(this),this.hmtx=new L(this),this.post=new w(this),this.os2=new v(this),this.loca=new P(this),this.glyf=new S(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],i.push(Math.round(t*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),!0&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,o,a,s;for(i=a=o=0,s=(t=""+t).length;0<=s?a<s:s<a;i=0<=s?++a:--a)r=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var l,u=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n,r;for(n=[],e=r=0;0<=t?r<t:t<r;e=0<=t?++r:--r)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;0<=r?n<r:r<n;e=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(e)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,o,a,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:t<n;0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),c=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:r<n;0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,o,a,s,h,l,c,f,p,d,g;for(g in p=Object.keys(e).length,s=Math.log(2),c=16*Math.floor(Math.log(p)/s),o=Math.floor(c/s),l=16*p-c,(r=new u).writeInt(this.scalarType),r.writeShort(p),r.writeShort(c),r.writeShort(o),r.writeShort(l),i=16*p,h=r.pos+i,a=null,d=[],e)for(f=e[g],r.writeString(g),r.writeInt(t(f)),r.writeInt(h),r.writeInt(f.length),d=d.concat(f),"head"===g&&(a=h),h+=f.length;h%4;)d.push(0),h++;return r.write(d),n=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=A.call(t);t.length%4;)t.push(0);for(n=new u(t),r=e=0,i=t.length;r<i;r+=4)e+=n.readUInt32();return 4294967295&e},e}(),f={}.hasOwnProperty,p=function(t,e){for(var n in e)f.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};l=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new u).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var n,r,i,o,a,s,h,l,u,c,f,p,d,g,m,y,v,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=m=0;m<256;s=++m)this.codeMap[s]=t.readByte();break;case 4:for(f=t.readUInt16(),c=f/2,t.pos+=6,i=function(){var e,n;for(n=[],s=e=0;0<=c?e<c:c<e;s=0<=c?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,d=function(){var e,n;for(n=[],s=e=0;0<=c?e<c:c<e;s=0<=c?++e:--e)n.push(t.readUInt16());return n}(),h=function(){var e,n;for(n=[],s=e=0;0<=c?e<c:c<e;s=0<=c?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],s=e=0;0<=c?e<c:c<e;s=0<=c?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],s=e=0;0<=r?e<r:r<e;s=0<=r?++e:--e)n.push(t.readUInt16());return n}(),s=y=0,w=i.length;y<w;s=++y)for(g=i[s],n=v=p=d[s];p<=g?v<=g:g<=v;n=p<=g?++v:--v)0===l[s]?o=n+h[s]:0!==(o=a[l[s]/2+(n-p)-(c-s)]||0)&&(o+=h[s]),this.codeMap[n]=65535&o}t.pos=u}return t.encode=function(t,e){var n,r,i,o,a,s,h,l,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y,J;switch(I=new u,o=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(g=0,m=function(){var t,e;for(e=[],d=t=0;t<256;d=++t)e.push(0);return e}(),v={0:0},i={},C=0,M=o.length;C<M;C++)null==v[V=t[r=o[C]]]&&(v[V]=++g),i[r]={old:t[r],new:v[t[r]]},m[r]=v[t[r]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(m),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(P=[],c=[],v={},n={},y=h=null,B=w=0,O=o.length;B<O;B++)null==v[x=t[r=o[B]]]&&(v[x]=++w),n[r]={old:x,new:v[x]},a=v[x]-r,null!=y&&a===h||(y&&c.push(y),P.push(r),h=a),y=r;for(y&&c.push(y),c.push(65535),P.push(65535),_=2*(S=P.length),A=2*Math.pow(Math.log(S)/Math.LN2,2),f=Math.log(A/2)/Math.LN2,L=2*S-A,s=[],N=[],p=[],d=j=0,q=P.length;j<q;d=++j){if(F=P[d],l=c[d],65535===F){s.push(0),N.push(0);break}if(32768<=F-(k=n[F].new))for(s.push(0),N.push(2*(p.length+S-d)),r=E=F;F<=l?E<=l:l<=E;r=F<=l?++E:--E)p.push(n[r].new);else s.push(k-F),N.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*S+2*p.length),I.writeUInt16(0),I.writeUInt16(_),I.writeUInt16(A),I.writeUInt16(f),I.writeUInt16(L),H=0,T=c.length;H<T;H++)r=c[H],I.writeUInt16(r);for(I.writeUInt16(0),W=0,R=P.length;W<R;W++)r=P[W],I.writeUInt16(r);for(G=0,D=s.length;G<D;G++)a=s[G],I.writeUInt16(a);for(Y=0,U=N.length;Y<U;Y++)b=N[Y],I.writeUInt16(b);for(J=0,z=p.length;J<z;J++)g=p[J],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:w+1}}},t}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:n<r;0<=n?++r:--r)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=g.encode(t,e),(r=new u).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),0<this.version&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;++e)n.push(t.readInt());return n}(),1<this.version))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(n=t.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:n<r;0<=n?++r:--r)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 196608:break;case 262144:return this.map=function(){var e,n,r;for(r=[],e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:n<e;0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},e}(),b=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,o,a,s,h,l,u,c,f;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=l=0;0<=e?l<e:e<l;i=0<=e?++l:--l)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},i=u=0,c=n.length;u<c;i=++u)r=n[i],t.pos=r.offset,h=t.readString(r.length),o=new b(h,r),null==s[f=r.nameID]&&(s[f]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),N=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),L=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,r,i,o,a,s;for(t.pos=this.offset,this.metrics=[],i=0,a=this.file.hhea.numberOfMetrics;0<=a?i<a:a<i;0<=a?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,r;for(r=[],e=0;0<=n?e<n:n<e;0<=n?++e:--e)r.push(t.readInt16());return r}(),this.widths=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.metrics).length;t<e;t++)r=n[t],i.push(r.advance);return i}.call(this),e=this.widths[this.widths.length-1],s=[],o=0;0<=n?o<n:n<o;0<=n?++o:--o)s.push(this.widths.push(e));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),A=[].slice,S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,o,a,s,h,l,c;return(t=t)in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,o=(a=new u(e.read(r))).readShort(),h=a.readShort(),c=a.readShort(),s=a.readShort(),l=a.readShort(),this.cache[t]=-1===o?new F(a,h,c,s,l):new _(a,o,h,c,s,l),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=e.length;a<s;a++)r=t[e[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),_=function(){function t(t,e,n,r,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),F=function(){function t(t,e,n,r,i){var o,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(t){var e,n,r,i,o;for(n=new u(A.call(this.raw.data)),e=r=0,i=(o=this.glyphIDs).length;r<i;e=++r)o[e],n.pos=this.glyphOffsets[e];return n.data},t}(),P=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,n,r;for(r=[],e=0,n=this.length;e<n;e+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,n,r;for(r=[],e=0,n=this.length;e<n;e+=4)r.push(t.readUInt32());return r}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<e.length&&e[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;0<s&&(r+=s)}for(var h=new Array(4*n.length),l=0;l<n.length;++l)h[4*l+3]=255&n[l],h[4*l+2]=(65280&n[l])>>8,h[4*l+1]=(16711680&n[l])>>16,h[4*l]=(4278190080&n[l])>>24;return h},e}(),k=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,o,a,s;for(r={},o=0,a=t.length;o<a;o++)r[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(0<e.length)for(i in s=this.glyphsFor(e))n=s[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,o,a,s,h,l,u,c,f,p,d,g,y;for(r in n=m.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},y=n.charMap)f[(s=y[r]).old]=s.new;for(p in c=n.maxGlyphID,o)p in f||(f[p]=c++);return l=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(f),u=Object.keys(l).sort(function(t,e){return t-e}),d=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(l[a]);return n}(),i=this.font.glyf.encode(o,d,f),h=this.font.loca.encode(i.offsets,d),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var t,i,o;for(o=[],t=0,i=n.length;t<i;t++)r=n[t],o.push(e.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+e.convert(a));return o.push(">>"),o.join("\n")},e}()}(ct),St="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==e&&e||Function('return typeof this === "object" && this.content')()||Function("return this")(),_t=function(){var t,e,n;function i(t){var e,n,r,i,o,a,s,h,l,u,c,f,p,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),l=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,f=0;0<=e?f<e:e<f;0<=e?++f:--f)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(0<(u=r-this.transparency.indexed.length))for(p=0;0<=u?p<u:u<p;0<=u?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(c=this.read(e)).indexOf(0),h=String.fromCharCode.apply(String,c.slice(0,s)),this.text[h]=String.fromCharCode.apply(String,c.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.load=function(t,e,n){var r;return"function"==typeof e&&(n=e),(r=new XMLHttpRequest).open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){var t;return t=new i(new Uint8Array(r.response||r.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof n?n(t):void 0},r.send(null)},i.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,i=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function o(o,a,s,h){var l,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I=Math.ceil((i.width-o)/s),C=Math.ceil((i.height-a)/h),B=i.width==I&&i.height==C;for(N=e*I,b=B?n:new Uint8Array(N*C),d=t.length,u=x=0;x<C&&r<d;){switch(t[r++]){case 0:for(f=S=0;S<N;f=S+=1)b[u++]=t[r++];break;case 1:for(f=_=0;_<N;f=_+=1)l=t[r++],p=f<e?0:b[u-e],b[u++]=(l+p)%256;break;case 2:for(f=F=0;F<N;f=F+=1)l=t[r++],c=(f-f%e)/e,L=x&&b[(x-1)*N+c*e+f%e],b[u++]=(L+l)%256;break;case 3:for(f=P=0;P<N;f=P+=1)l=t[r++],c=(f-f%e)/e,p=f<e?0:b[u-e],L=x&&b[(x-1)*N+c*e+f%e],b[u++]=(l+Math.floor((p+L)/2))%256;break;case 4:for(f=k=0;k<N;f=k+=1)l=t[r++],c=(f-f%e)/e,p=f<e?0:b[u-e],0===x?L=A=0:(L=b[(x-1)*N+c*e+f%e],A=c&&b[(x-1)*N+(c-1)*e+f%e]),g=p+L-A,m=Math.abs(g-p),v=Math.abs(g-L),w=Math.abs(g-A),y=m<=v&&m<=w?p:v<=w?L:A,b[u++]=(l+y)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!B){var j=((a+x*h)*i.width+o)*e,E=x*N;for(f=0;f<I;f+=1){for(var M=0;M<e;M+=1)n[j++]=b[E++];j+=(s-1)*e}}x++}}return t=(t=new jt(t)).getBytes(),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},i.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,h;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=a=t=0,s=n.length;a<s;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(h=o[t++])?h:255;return i},i.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,h,l,u,c,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),l=(i=t.data||t).length,a=u||e,o=s=0,1===r)for(;o<l;)h=u?4*e[o/4]:s,c=a[h++],i[o++]=c,i[o++]=c,i[o++]=c,i[o++]=n?a[h++]:255,s=h;else for(;o<l;)h=u?4*e[o/4]:s,i[o++]=a[h++],i[o++]=a[h++],i[o++]=a[h++],i[o++]=n?a[h++]:255,s=h},i.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{e=St.document.createElement("canvas"),n=e.getContext("2d")}catch(r){return-1}return t=function(t){var r;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r},i.prototype.decodeFrames=function(e){var n,r,i,o,a,s,h,l;if(this.animation){for(l=[],r=a=0,s=(h=this.animation.frames).length;a<s;r=++a)n=h[r],i=e.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,l.push(n.image=t(i));return l}},i.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(t){var e,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,h;if(a=n++%i,h=r[a],s.renderFrame(t,a),1<i&&n/i<o)return s.animation._timeout=setTimeout(e,h.delay)})()},i.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},i.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},i}(),St.PNG=_t;var Bt=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(t<n)return e;for(var r=512;r<t;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;r<n&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),jt=function(){if("undefined"!=typeof Uint32Array){var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],i=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(a.prototype=Object.create(Bt.prototype)).getBits=function(t){for(var e,n=this.codeSize,r=this.codeBuf,i=this.bytes,a=this.bytesPos;n<t;)void 0===(e=i[a++])&&o("Bad encoding in flate stream"),r|=e<<n,n+=8;return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=n-=t,this.bytesPos=a,e},a.prototype.getCode=function(t){for(var e=t[0],n=t[1],r=this.codeSize,i=this.codeBuf,a=this.bytes,s=this.bytesPos;r<n;){var h;void 0===(h=a[s++])&&o("Bad encoding in flate stream"),i|=h<<r,r+=8}var l=e[i&(1<<n)-1],u=l>>16,c=65535&l;return(0==r||r<u||0==u)&&o("Bad encoding in flate stream"),this.codeBuf=i>>u,this.codeSize=r-u,this.bytesPos=s,c},a.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;r<e;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,h=2;a<=n;++a,s<<=1,h<<=1)for(var l=0;l<e;++l)if(t[l]==a){var u=0,c=s;for(r=0;r<a;++r)u=u<<1|1&c,c>>=1;for(r=u;r<i;r+=h)o[r]=a<<16|l;++s}return[o,n]},a.prototype.readBlock=function(){function a(t,e,n,r,i){for(var o=t.getBits(n)+r;0<o--;)e[d++]=i}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var h,l;if(1==s)h=r,l=i;else if(2==s){for(var u=this.getBits(5)+257,c=this.getBits(5)+1,f=this.getBits(4)+4,p=Array(t.length),d=0;d<f;)p[t[d++]]=this.getBits(3);for(var g=this.generateHuffmanTable(p),m=0,y=(d=0,u+c),v=new Array(y);d<y;){var w=this.getCode(g);16==w?a(this,v,2,3,m):17==w?a(this,v,3,3,m=0):18==w?a(this,v,7,11,m=0):v[d++]=m=w}h=this.generateHuffmanTable(v.slice(0,u)),l=this.generateHuffmanTable(v.slice(u,y))}else o("Unknown block type in flate stream");for(var b=(B=this.buffer)?B.length:0,x=this.bufferLength;;){var N=this.getCode(h);if(N<256)b<=x+1&&(b=(B=this.ensureBuffer(x+1)).length),B[x++]=N;else{if(256==N)return void(this.bufferLength=x);var L=(N=e[N-=257])>>16;0<L&&(L=this.getBits(L)),m=(65535&N)+L,N=this.getCode(l),0<(L=(N=n[N])>>16)&&(L=this.getBits(L));var A=(65535&N)+L;b<=x+m&&(b=(B=this.ensureBuffer(x+m)).length);for(var S=0;S<m;++S,++x)B[x]=B[x-A]}}}else{var _,F=this.bytes,P=this.bytesPos;void 0===(_=F[P++])&&o("Bad block header in flate stream");var k=_;void 0===(_=F[P++])&&o("Bad block header in flate stream"),k|=_<<8,void 0===(_=F[P++])&&o("Bad block header in flate stream");var I=_;void 0===(_=F[P++])&&o("Bad block header in flate stream"),(I|=_<<8)!=(65535&~k)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var C=this.bufferLength,B=this.ensureBuffer(C+k),j=C+k;this.bufferLength=j;for(var E=C;E<j;++E){if(void 0===(_=F[P++])){this.eof=!0;break}B[E]=_}this.bytesPos=P}},a}function o(t){throw new Error(t)}function a(t){var e=0,n=t[e++],r=t[e++];-1!=n&&-1!=r||o("Invalid header in flate stream"),8!=(15&n)&&o("Unknown compression method in flate stream"),((n<<8)+r)%31!=0&&o("Bad FCHECK in flate stream"),32&r&&o("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Bt.call(this)}}();window.tmp=jt});try{module.exports=jsPDF}catch(n){}
},{}],"k7yO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t="application/font-woff",e="image/jpeg",n={woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function r(t){var e=/\.([^.\/]*?)$/g.exec(t);return e?e[1]:""}function o(t){var e=r(t).toLowerCase();return n[e]||""}function i(t){return function(e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}}function a(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.crossOrigin="anonymous",r.src=t})}function u(t){return-1!==t.search(/^(data:)/)}function s(t,e){return"data:"+e+";base64,"+t}function c(t){return t.split(/,/)[1]}function f(t){return new Promise(function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i+=1)o[i]=n.charCodeAt(i);e(new Blob([o],{type:"image/png"}))})}function g(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):f(t)}function p(t){for(var e=[],n=0,r=t.length;n<r;n+=1)e.push(t[n]);return e}function l(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}function d(t){var e=l(t,"border-left-width"),n=l(t,"border-right-width");return t.scrollWidth+e+n}function h(t){var e=l(t,"border-top-width"),n=l(t,"border-bottom-width");return t.scrollHeight+e+n}function m(){return window.devicePixelRatio||1}function w(t){return Promise.resolve().then(function(){return(new XMLSerializer).serializeToString(t)}).then(encodeURIComponent).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}function x(t){return a(t).then(function(e){var n=e.width,r=e.height,i=document.createElement("canvas"),a=i.getContext("2d"),u=m();return i.width=n*u,i.height=r*u,i.style.width=""+n,i.style.height=""+r,a.scale(u,u),a.drawImage(e,0,0),c(i.toDataURL(o(t)))})}exports.uuid=function(){var t=0;return function(){return t+=1,"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t}}(),exports.parseExtension=r,exports.getMimeType=o,exports.delay=i,exports.createImage=a,exports.isDataUrl=u,exports.toDataURL=s,exports.getDataURLContent=c,exports.canvasToBlob=g,exports.toArray=p,exports.getNodeWidth=d,exports.getNodeHeight=h,exports.getPixelRatio=m,exports.svgToDataURL=w,exports.getBlobFromImageURL=x;
},{}],"URxg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./utils");function t(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function r(t){return e.toArray(t).map(function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")+";"}).join(" ")}function n(e,n,o){var u="."+e+":"+n,a=o.cssText?t(o):r(o);return document.createTextNode(u+"{"+a+"}")}function o(t,r,o){var u=window.getComputedStyle(t,o),a=u.getPropertyValue("content");if(""!==a&&"none"!==a){var c=e.uuid(),i=document.createElement("style");i.appendChild(n(c,o,u)),r.className=r.className+" "+c,r.appendChild(i)}}function u(e,t){[":before",":after"].forEach(function(r){return o(e,t,r)})}exports.default=u;
},{"./utils":"k7yO"}],"xuiC":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./utils"),n=e(require("./clonePseudoElements"));function r(e){return e instanceof HTMLCanvasElement?t.createImage(e.toDataURL()):e.tagName&&"svg"===e.tagName.toLowerCase()?Promise.resolve(e).then(function(e){return t.svgToDataURL(e)}).then(t.createImage):Promise.resolve(e.cloneNode(!1))}function o(e,n,r){var o=t.toArray(e.childNodes);return 0===o.length?Promise.resolve(n):o.reduce(function(e,t){return e.then(function(){return a(t,r)}).then(function(e){e&&n.appendChild(e)})},Promise.resolve()).then(function(){return n})}function u(e,n){var r=window.getComputedStyle(e),o=n.style;r.cssText?o.cssText=r.cssText:t.toArray(r).forEach(function(e){o.setProperty(e,r.getPropertyValue(e),r.getPropertyPriority(e))})}function i(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function s(e,t){return t instanceof Element?Promise.resolve().then(function(){return u(e,t)}).then(function(){return n.default(e,t)}).then(function(){return i(e,t)}).then(function(){return t}):t}function a(e,t,n){return n||!t||t(e)?Promise.resolve(e).then(r).then(function(n){return o(e,n,t)}).then(function(t){return s(e,t)}):Promise.resolve(null)}exports.default=a;
},{"./utils":"k7yO","./clonePseudoElements":"URxg"}],"MU5K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./utils"),t=3e4;function n(n,r){r.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+(new Date).getTime());return(window.fetch?window.fetch(n).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)})}).then(e.getDataURLContent).catch(function(){return new Promise(function(e,t){t()})}):new Promise(function(r,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t=new FileReader;t.onloadend=function(){r(e.getDataURLContent(t.result))},t.readAsDataURL(a.response)}else o(new Error("Failed to fetch resource: "+n+", status: "+a.status))},a.ontimeout=function(){o(new Error("Timeout of "+t+"ms occured while fetching resource: "+n))},a.responseType="blob",a.timeout=t,a.open("GET",n,!0),a.send()})).catch(function(e){var t="";if(r.imagePlaceholder){var o=r.imagePlaceholder.split(/,/);o&&o[1]&&(t=o[1])}var a="Failed to fetch resource: "+n;return e&&(a="string"==typeof e?e:e.message),a&&console.error(a),t})}exports.default=n;
},{"./utils":"k7yO"}],"txuZ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./getBlobFromURL")),t=require("./utils"),n=/url\((['"]?)([^'"]+?)\1\)/g;function u(e,r){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;var t=document.implementation.createHTMLDocument(),n=t.createElement("base"),u=t.createElement("a");return t.head.appendChild(n),t.body.appendChild(u),r&&(n.href=r),u.href=e,u.href}function o(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function i(e){return new RegExp("(url\\(['\"]?)("+o(e)+")(['\"]?\\))","g")}function c(e){var r=[];return e.replace(n,function(e,t,n){return r.push(n),e}),r.filter(function(e){return!t.isDataUrl(e)})}function a(e,n,o,c){var a=o?u(n,o):n;return Promise.resolve(a).then(function(e){return r.default(e,c)}).then(function(e){return t.toDataURL(e,t.getMimeType(n))}).then(function(r){return e.replace(i(n),"$1"+r+"$3")}).then(function(e){return e},function(){return a})}function f(e){return-1!==e.search(n)}function l(e,r,t){return f(e)?Promise.resolve(e).then(c).then(function(n){return n.reduce(function(e,n){return e.then(function(e){return a(e,n,r,t)})},Promise.resolve(e))}):Promise.resolve(e)}exports.shouldEmbed=f,exports.default=l;
},{"./getBlobFromURL":"MU5K","./utils":"k7yO"}],"NHES":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./utils"),n=e(require("./embedResources"));function r(e){if(void 0===e)return[];var t=e,n=[],r=new RegExp("(\\/\\*[\\s\\S]*?\\*\\/)","gi");t=t.replace(r,"");for(var o,u=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");null!==(o=u.exec(t));)n.push(o[0]);t=t.replace(u,"");for(var i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");null!==(o=i.exec(t));)n.push(o[0]);return n}function o(e,t){return fetch(e).then(function(t){return{url:e,cssText:t.text()}},function(e){console.log("ERROR FETCHING CSS: ",e.toString())})}function u(e){return e.cssText.then(function(t){var n=t,r=(n.match(/url\([^)]+\)/g)||[]).map(function(t){var r=t.replace(/url\(([^]+)\)/g,"$1");if(!r.startsWith("https://")){var o=e.url;r=new URL(r,o).href}return new Promise(function(e,o){fetch(r).then(function(e){return e.blob()}).then(function(r){var o=new FileReader;o.addEventListener("load",function(r){n=n.replace(t,"url("+o.result+")"),e([t,o.result])}),o.readAsDataURL(r)}).catch(o)})});return Promise.all(r).then(function(){return n})})}function i(e){var n=[],i=[];return e.forEach(function(n){if("cssRules"in n)try{t.toArray(n.cssRules).forEach(function(e){e.type===CSSRule.IMPORT_RULE&&i.push(o(e.href,n).then(u).then(function(e){r(e).forEach(function(e){n.insertRule(e,n.cssRules.length)})}).catch(function(e){console.log("Error loading remote css",e.toString())}))})}catch(c){var s=e.find(function(e){return null===e.href})||document.styleSheets[0];null!=n.href&&i.push(o(n.href,s).then(u).then(function(e){r(e).forEach(function(e){s.insertRule(e,n.cssRules.length)})}).catch(function(e){console.log("Error loading remote stylesheet",e.toString())})),console.log("Error inlining remote css file",c.toString())}}),Promise.all(i).then(function(){return e.forEach(function(e){if("cssRules"in e)try{t.toArray(e.cssRules).forEach(function(e){n.push(e)})}catch(r){console.log("Error while reading CSS rules from "+e.href,r.toString())}}),n})}function s(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return n.shouldEmbed(e.style.getPropertyValue("src"))})}function c(e){return new Promise(function(n,r){e.ownerDocument||r(new Error("Provided element is not within a Document")),n(t.toArray(e.ownerDocument.styleSheets))}).then(i).then(s)}function l(e,t){return c(e).then(function(e){return Promise.all(e.map(function(e){var r=e.parentStyleSheet?e.parentStyleSheet.href:null;return n.default(e.cssText,r,t)}))}).then(function(e){return e.join("\n")}).then(function(t){var n=document.createElement("style"),r=document.createTextNode(t);return n.appendChild(r),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),e})}exports.parseWebFontRules=c,exports.default=l;
},{"./utils":"k7yO","./embedResources":"txuZ"}],"KR7s":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./utils"),t=e(require("./getBlobFromURL")),n=e(require("./embedResources"));function o(e,r){var t=e.style.getPropertyValue("background");return t?Promise.resolve(t).then(function(e){return n.default(e,null,r)}).then(function(r){return e.style.setProperty("background",r,e.style.getPropertyPriority("background")),e}):Promise.resolve(e)}function u(e,n){return e instanceof HTMLImageElement&&!r.isDataUrl(e.src)?Promise.resolve(e.src).then(function(e){return t.default(e,n)}).then(function(t){return r.toDataURL(t,r.getMimeType(e.src))}).then(function(r){return new Promise(function(t,n){e.onload=t,e.onerror=n,e.src=r})}).then(function(){return e},function(){return e}):Promise.resolve(e)}function i(e,t){var n=r.toArray(e.childNodes).map(function(e){return s(e,t)});return Promise.all(n).then(function(){return e})}function s(e,r){return e instanceof Element?Promise.resolve(e).then(function(e){return o(e,r)}).then(function(e){return u(e,r)}).then(function(e){return i(e,r)}):Promise.resolve(e)}exports.default=s;
},{"./utils":"k7yO","./getBlobFromURL":"MU5K","./embedResources":"txuZ"}],"pmDE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./utils");function e(e,r,i){var u="http://www.w3.org/2000/svg",s=document.createElementNS(u,"svg"),d=document.createElementNS(u,"foreignObject");return s.setAttributeNS("","width",""+r),s.setAttributeNS("","height",""+i),d.setAttributeNS("","width","100%"),d.setAttributeNS("","height","100%"),d.setAttributeNS("","x","0"),d.setAttributeNS("","y","0"),d.setAttributeNS("","externalResourcesRequired","true"),s.appendChild(d),d.appendChild(e),t.svgToDataURL(s)}exports.default=e;
},{"./utils":"k7yO"}],"e2IS":[function(require,module,exports) {
"use strict";function e(e,t){var o=e.style;return t.backgroundColor&&(o.backgroundColor=t.backgroundColor),t.width&&(o.width=t.width+"px"),t.height&&(o.height=t.height+"px"),t.style&&Object.assign(o,t.style),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D8Qc":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./cloneNode")),n=t(require("./embedWebFonts")),r=t(require("./embedImages")),o=t(require("./createSvgDataURL")),i=t(require("./applyStyleWithOptions")),a=require("./utils");function u(t,e){return void 0===e&&(e={}),{width:e.width||a.getNodeWidth(t),height:e.height||a.getNodeHeight(t)}}function h(t,a){void 0===a&&(a={});var h=u(t,a),d=h.width,l=h.height;return e.default(t,a.filter,!0).then(function(t){return n.default(t,a)}).then(function(t){return r.default(t,a)}).then(function(t){return i.default(t,a)}).then(function(t){return o.default(t,d,l)})}function d(t,e){return void 0===e&&(e={}),h(t,e).then(a.createImage).then(a.delay(100)).then(function(n){var r=document.createElement("canvas"),o=r.getContext("2d"),i=a.getPixelRatio(),h=u(t,e),d=h.width,l=h.height;return r.width=d*i,r.height=l*i,r.style.width=""+d,r.style.height=""+l,o.scale(i,i),e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,r.width,r.height)),o.drawImage(n,0,0),r})}function l(t,e){void 0===e&&(e={});var n=u(t,e),r=n.width,o=n.height;return d(t,e).then(function(t){return t.getContext("2d").getImageData(0,0,r,o).data})}function g(t,e){return void 0===e&&(e={}),d(t,e).then(function(t){return t.toDataURL()})}function c(t,e){return void 0===e&&(e={}),d(t,e).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})}function f(t,e){return void 0===e&&(e={}),d(t,e).then(a.canvasToBlob)}exports.toSvgDataURL=h,exports.toCanvas=d,exports.toPixelData=l,exports.toPng=g,exports.toJpeg=c,exports.toBlob=f,exports.default={toSvgDataURL:h,toCanvas:d,toPixelData:l,toPng:g,toJpeg:c,toBlob:f};
},{"./cloneNode":"xuiC","./embedWebFonts":"NHES","./embedImages":"KR7s","./createSvgDataURL":"pmDE","./applyStyleWithOptions":"e2IS","./utils":"k7yO"}],"Focm":[function(require,module,exports) {
"use strict";require("ol/ol.css");var e=a(require("./ol-bundle")),t=a(require("./d3-bundle")),l=o(require("jspdf")),n=require("html-to-image");function o(e){return e&&e.__esModule?e:{default:e}}function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(l,o,a):l[o]=e[o]}return l.default=e,t&&t.set(e,l),l}var s=[{label:"raster",index:0,visible:!1},{label:"oceans",index:1,visible:!0},{label:"lakes",index:2,visible:!0},{label:"countries",index:3,visible:!1},{label:"states",index:4,visible:!0},{label:"marks",index:5,visible:!1},{label:"clusers",index:6,visible:!0}],i=[{label:"0",shape:"circle",fill:"gray",stroke:"white"},{label:"A",shape:"square",fill:"red"},{label:"B",shape:"triangle",fill:"blue"},{label:"C",shape:"star",fill:"green"}],c=t.select("#layers").selectAll("label").data(s).enter();c.append("label").text(function(e){return e.label}).append("input").attr("id",function(e){return e.label}).attr("class","layers").attr("type","checkbox").attr("value",function(e){return e.index}).property("checked",function(e){return e.visible}),t.select("#format").on("change",m),t.select("#resolution").on("change",h),t.select("#export-pdf").on("click",y),t.select("#coords").on("change",k),t.select("#radius").on("change",S),t.select("#distance").on("change",k),t.selectAll(".layers").on("change",x),t.select("#latitude").on("change",L),t.select("#longitude").on("change",L),t.select("#zoom").on("change",V),t.select("#water").on("change",_),t.select("#land").on("change",_);var u={red:new e.Fill({color:"#e41a1c"}),blue:new e.Fill({color:"#377eb8"}),green:new e.Fill({color:"#4daf4a"}),purple:new e.Fill({color:"#984ea3"}),orange:new e.Fill({color:"#ff7f00"}),yellow:new e.Fill({color:"#ffff33"}),brown:new e.Fill({color:"#a65628"}),pink:new e.Fill({color:"#f781bf"}),gray:new e.Fill({color:"#999999"})},d={a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]},f={filter:function(e){return-1===e.className.indexOf("ol-control")}},g=O(),b=N(),w=function(e){var t,l=e.get("features")?e.get("features"):[e],n=l.reduce(function(e,t){return e[t.get("type")]||(e[t.get("type")]=0),e[t.get("type")]++,e},{});return t=1==Object.keys(n).length?b[l[0].get("type")]:b[0],l.length>1?t.getText().setText(l.length.toString()):t.getText().setText("1"),t},p=[new e.TileLayer({name:s[0].label,visible:s[0].visible,source:new e.OSMSource}),new e.VectorLayer({name:s[1].label,visible:s[1].visible,source:new e.VectorSource({url:"https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_10m_ocean.geojson",format:new e.GeoJSON})}),new e.VectorLayer({name:s[2].label,visible:s[2].visible,source:new e.VectorSource({url:"https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_10m_lakes.geojson",format:new e.GeoJSON})}),new e.VectorLayer({name:s[3].label,visible:s[3].visible,source:new e.VectorSource({url:"https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_10m_admin_0_countries_lakes.geojson",format:new e.GeoJSON})}),new e.VectorLayer({name:s[4].label,visible:s[4].visible,source:new e.VectorSource({url:"https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_10m_admin_1_states_provinces_lakes.geojson",format:new e.GeoJSON})}),new e.VectorLayer({name:s[5].label,visible:s[5].visible,source:j(),style:w}),new e.VectorLayer({name:s[6].label,visible:s[6].visible,source:F(),style:w})],v=new e.Map({view:new e.View({center:[0,0],zoom:1}),layers:p,target:"map"});function m(){console.log("updateFormat");var e=t.select("#format").node().value,l=d[e];t.select("#map").style("width","".concat(2*l[0],"px")).style("height","".concat(2*l[1],"px")),v.setSize([2*l[0],2*l[1]])}function h(){console.log("updateResolution","NULL")}function y(){console.log("exportPDF");var e=t.select("#format").node().value,o=t.select("#resolution").node().value,r=(t.select("#radius").node().value,t.select("#distance").node().value,d[e]),a=v.getSize(),s=v.getView().getResolution(),i=Math.round(r[0]*o/25.4),c=Math.round(r[1]*o/25.4),u=Math.min(i/a[0],c/a[1]);f.width=i,f.height=c,v.setSize([i,c]),S(u),v.getView().setResolution(s/u),v.once("rendercomplete",function(){(0,n.toJpeg)(v.getViewport(),f).then(function(t){var n=new l.default("landscape",void 0,e);n.addImage(t,"JPEG",0,0,r[0],r[1]),n.save("map.pdf"),v.setSize(a),S(),v.getView().setResolution(s)})})}function k(e){console.log("updateCoords",e);var l=e||t.select("#distance").node().value;v.getLayers().item(5).setSource(j()),v.getLayers().item(6).setSource(F(l))}function S(e){console.log("updateRadius",e);var l=t.select("#radius").node().value,n=t.select("#distance").node().value,o=e||1;g=O(o),b=N(l*o),k(n*o),_()}function x(){console.log("updateLayers");var e=v.getLayers();t.selectAll(".layers").each(function(l){l.visible=t.select("#".concat(l.label)).property("checked"),e.item(l.index).setVisible(l.visible)})}function L(){console.log("updateCenter"),v.getView().setCenter(e.fromLonLat([Number(t.select("#longitude").node().value),Number(t.select("#latitude").node().value)]))}function V(){console.log("updateZoom"),v.getView().setZoom(Number(t.select("#zoom").node().value))}function _(){console.log("updateColors"),u.water=new e.Fill({color:t.select("#water").node().value}),u.land=new e.Fill({color:t.select("#land").node().value}),v.getLayers().item(1).setStyle(new e.Style({fill:u.water})),v.getLayers().item(2).setStyle(new e.Style({fill:u.water})),v.getLayers().item(3).setStyle(new e.Style({fill:u.land,stroke:g.black})),v.getLayers().item(4).setStyle(new e.Style({fill:u.land,stroke:g.black}))}function j(){console.log("createMarkersSource");var l=t.csvParse(t.select("#coords").node().value).map(function(t){var l=new e.Feature(new e.Point(e.fromLonLat([Number(t.longitude),Number(t.latitude)])));return l.set("type",t.type),l});return new e.VectorSource({features:l})}function F(l){console.log("createClustersSource",l);var n=l||t.select("#distance").node().value,o=t.csvParse(t.select("#coords").node().value).map(function(t){var l=new e.Feature(new e.Point(e.fromLonLat([Number(t.longitude),Number(t.latitude)])));return l.set("type",t.type),l});return new e.ClusterSource({distance:n,source:new e.VectorSource({features:o})})}function O(t){console.log("create strokes",t);var l=t||1;return{black:new e.Stroke({color:"#000000",width:l}),white:new e.Stroke({color:"#ffffff",width:l})}}function N(l){console.log("createIcons",l);var n=l||t.select("#radius").node().value;return i.reduce(function(t,l){var o,r=l.label?l.label:"0",a=l.shape?l.shape:"circle",s=l.fill?l.fill:"black",i=l.stroke?l.stroke:"black",c=l.text?l.text:"white";switch(a){case"square":o=new e.Style({image:new e.RegularShape({points:4,angle:Math.PI/4,fill:u[s],stroke:g[i],radius:n})});break;case"triangle":o=new e.Style({image:new e.RegularShape({points:3,rotation:Math.PI/4,angle:0,fill:u[s],stroke:g[i],radius:n})});break;case"star":o=new e.Style({image:new e.RegularShape({points:5,angle:0,fill:u[s],stroke:g[i],radius:n,radius2:n/2})});break;default:o=new e.Style({image:new e.Circle({fill:u[s],stroke:g[i],radius:n})})}return o.setText(new e.Text({text:"",fill:g[c],stroke:g[c],font:n+"px sans-serif"})),t[r]=o,t},{})}m(),L(),V(),x(),_();
},{"ol/ol.css":"JiFC","./ol-bundle":"dmgW","./d3-bundle":"YYWn","jspdf":"Up3p","html-to-image":"D8Qc"}]},{},["Focm"], null)
//# sourceMappingURL=openlayers-map.e31bb0bc.js.map